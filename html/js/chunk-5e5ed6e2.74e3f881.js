(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5e5ed6e2"],{"196f":function(e,t,n){},"23f4":function(e,t,n){"use strict";n.d(t,"a",(function(){return y})),n.d(t,"d",(function(){return M})),n.d(t,"b",(function(){return F})),n.d(t,"c",(function(){return F}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"left-middle-right"},[n("div",{staticClass:"left",style:{flex:e.trim(e.flexLeft)}},[e._t("left")],2),n("div",{staticClass:"middle",style:{flex:e.trim(e.flexMiddle)}},[e._t("middle")],2),n("div",{staticClass:"right",style:{flex:e.trim(e.flexRight)}},[e._t("right")],2)])},a=[],r={methods:{trim:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:" ;";return this.$_.trim(e,t)}}},s=r,o="1 1 auto",l={name:"left-middle-right",mixins:[s],props:{flexLeft:{type:String,default:o},flexMiddle:{type:String,default:o},flexRight:{type:String,default:o}}},c=l,u=(n("8684"),n("2877")),d=Object(u["a"])(c,i,a,!1,null,"798cb694",null),f=(d.exports,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"left-right"},[n("div",{staticClass:"left",style:{flex:e.trim(e.flexLeft)}},[e._t("left")],2),n("div",{staticClass:"right",style:{flex:e.trim(e.flexRight)}},[e._t("right")],2)])}),m=[],p="1 1 auto",h={name:"left-right",mixins:[s],props:{flexLeft:{type:String,default:p},flexRight:{type:String,default:p}}},g=h,v=(n("513e"),Object(u["a"])(g,f,m,!1,null,"3beacd9d",null)),b=v.exports,y=b,x=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"top-bottom"},[n("div",{staticClass:"top",style:{flex:e.trim(e.flexTop)}},[e._t("top")],2),n("div",{staticClass:"bottom",style:{flex:e.trim(e.flexBottom)}},[e._t("bottom")],2)])},w=[],$="1 1 auto",k={name:"top-bottom",mixins:[s],props:{flexTop:{type:String,default:$},flexBottom:{type:String,default:$}}},_=k,C=(n("26a0"),Object(u["a"])(_,x,w,!1,null,"254ec1e7",null)),O=C.exports,M=O,E=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"one-table"},[n("div",[e._t("header")],2),n("div",{staticClass:"table",staticStyle:{overflow:"hidden"},attrs:{"flex-row":"",grow:""}},[e._t("default")],2)])},S=[],j={name:"one-table",data:function(){return{}}},T=j,R=(n("fd49"),Object(u["a"])(T,E,S,!1,null,"418ff794",null)),N=R.exports,F=N},"26a0":function(e,t,n){"use strict";var i=n("9752"),a=n.n(i);a.a},"467d":function(e,t,n){"use strict";var i=n("196f"),a=n.n(i);a.a},"46af":function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("edit-modal",{ref:"editModal",staticClass:"custom-width",attrs:{isOk:!1,modalWidth:996,subtitle:e.title},on:{cancel:e.cancel,ok:e.ok},model:{value:e.dialogVisible,callback:function(t){e.dialogVisible=t},expression:"dialogVisible"}},[n("one-tabel",{staticClass:"user-manager"},[n("actions",{staticClass:"actions",attrs:{slot:"header",groupCode:e.groupCode,options:e.actionOptions},on:{add:e.add,refresh:e.refresh,remove:e.remove},slot:"header"}),n("div",{staticClass:"data-table"},[n("full-page-ag-grid",{ref:"myGrid",attrs:{api:e.api,colDefs:e.columnDef,isAllowDefaultSelected:!0,sideBar:e.sideBar,sizeColumnsToFit:!0},on:{selectionChanged:e.selectionChanged}})],1)],1),e.currentCompOp.show?n(e.currentComp,e._b({tag:"component",on:{cancel:e.cancelHandler,ok:e.okHandler}},"component",e.currentCompOp,!1)):e._e()],1)],1)},a=[],r=(n("96cf"),n("1da1")),s=n("e3e6"),o=n("8eac"),l=n("23f4"),c=n("9b95"),u=n("b893"),d=n("f121"),f=n("1f78"),m=n("9286"),p={name:"user-token",inheritAttrs:!1,props:{show:{type:Boolean,default:!1},title:{type:String,default:"Default"},userName:{type:String}},components:{editModal:o["a"],oneTabel:l["b"],actions:c["a"],fullPageAgGrid:s["a"]},mounted:function(){this.$refs.editModal.open()},data:function(){return{currentCompOp:{show:!1,title:this.$t("common.actions.add")+"token"},sideBar:{toolPanels:[]},selectedRow:null,actionOptions:{add:{visible:!0,disabled:!1},remove:{visible:!0,disabled:!0}},columnDef:[{type:["rowNumberColumn"]},{headerName:this.$t("system.token"),field:"token",filter:"agTextColumnFilter",editable:!0},{headerName:this.$t("product.material.validity"),field:"expires",width:200,filter:!1,valueFormatter:this.expiredFormatter}],api:this.getpagenations,groupCode:d["v"].system.userManager.token,dialogVisible:this.show}},methods:{expiredFormatter:function(e){var t=e.value;if(!t||!/\d+/.test(t))return"";try{return t?Object(u["a"])(new Date(parseFloat(t)),"yyyy-MM-dd"):""}catch(n){return""}},add:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.currentComp=m["default"],this.currentCompOp.show=!0;case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),okHandler:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,f["a"].authentication.addToken({name:this.userName,days:parseInt(t)});case 2:n=e.sent,n.data.error?this.$Message.error(this.$t("common.messages.operationFailure")):(this.$Message.success(this.$t("common.messages.saveSuccess")),this.cancelHandler(),this.refresh());case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),cancelHandler:function(){this.currentCompOp.show=!1,this.currentComp=null},remove:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=this.selectedRow.token,e.next=3,f["a"].authentication.removeToken(this.userName,t);case 3:n=e.sent,n.data.error?this.$Message.error(this.$t("common.messages.removeFailure")):(this.$Message.success(this.$t("common.messages.removeSuccess")),this.refresh());case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),refresh:function(){this.$refs.myGrid.deselectAll(),this.$refs.myGrid.refresh();var e=this.$refs.myGrid.gridApi.getRenderedNodes();e&&e.length&&e[0].setSelected(!0)},selectionChanged:function(e){var t=e&&e.length;this.actionOptions.remove.disabled=!t,this.selectedRow=t?e[0]:null},getpagenations:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,n,i,a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,f["a"].authentication.getTokens(this.userName);case 2:if(t=e.sent,n={list:[],total:{aggregate:{count:0},pageInfo:{hasNextPage:!1}}},!t.data.error){e.next=11;break}return this.$Message.error(t.data.error),this.actionOptions.add.disabled=!0,this.actionOptions.remove.disabled=!0,e.abrupt("return",n);case 11:return i=t.data.tokens,a=i.length,n.total.aggregate.count=a,r=1,n.list=i.map((function(e){return e.id=r,r++,e})),e.abrupt("return",n);case 16:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),ok:function(){this.$emit("ok")},cancel:function(){this.$refs.editModal.close(),this.$emit("cancel")}}},h=p,g=(n("467d"),n("2877")),v=Object(g["a"])(h,i,a,!1,null,"fc4d00c2",null);t["default"]=v.exports},"513e":function(e,t,n){"use strict";var i=n("f9fe"),a=n.n(i);a.a},"5ac6":function(e,t,n){"use strict";var i=n("b853"),a=n.n(i);a.a},"7c69":function(e,t,n){},8684:function(e,t,n){"use strict";var i=n("7c69"),a=n.n(i);a.a},9286:function(e,t,n){"use strict";n.r(t);var i=n("c7b9");t["default"]=i["default"]},9752:function(e,t,n){},"9b95":function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"app-toolbar"},[e.options.onlyChoose&&e.options.onlyChoose.type&&"radio"==e.options.onlyChoose.type?n("Select",{staticStyle:{width:"90px",margin:"0px"},on:{"on-change":e.onlyChoose},model:{value:e.isdelete,callback:function(t){e.isdelete=t},expression:"isdelete"}},e._l(e.deleteitems,(function(t,i){return n("Option",{key:i,attrs:{value:t.value}},[e._v(e._s(t.name))])})),1):e._e(),e.options.search&&e.options.search.visible?n("Input",{staticStyle:{"padidng-left":"0px",width:"auto",padding:"0:height:100%"},attrs:{placeholder:e.placeholder},on:{"on-blur":e.searchEvent,"on-click":e.searchEvent,"on-keydown":e.searchEvent},model:{value:e.searchText,callback:function(t){e.searchText=t},expression:"searchText"}},[n("Select",{directives:[{name:"show",rawName:"v-show",value:e.lableitems.length>0,expression:"lableitems.length > 0"}],staticStyle:{width:"100px",margin:"0px","padding-top":"0px",padding:"0px"},attrs:{slot:"prepend",value:e.value},on:{"on-change":e.change,input:function(t){return e.$emit("input",t)}},slot:"prepend"},e._l(e.items,(function(t,i){return n("Option",{key:i,attrs:{value:t.value}},[e._v(e._s(t.text))])})),1)],1):e._e(),e._l(e.permissionActions,(function(t){return n("action-button",e._g({key:t.code,attrs:{action:t}},e.$listeners))})),e._t("default")],2)},a=[],r=(n("ac6a"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.action.confirm?n("Poptip",{attrs:{"cancel-text":e.$t("common.buttons.cancel"),"ok-text":e.$t("common.buttons.ok"),title:e.$t(e.action.confrimTip),confirm:""},on:{"on-ok":function(t){return e.fireEvent(e.action.code,e.action.id)}}},[n("Button",{attrs:{disabled:e.action.disabled,loading:e.action.loading,type:e.action.type}},[e._v(e._s(e.$t(e.action.i18N)))])],1):e.action.visible?n("Button",{attrs:{disabled:e.action.disabled,loading:e.action.loading,type:e.action.type},on:{click:function(t){return e.fireEvent(e.action.code,e.action.id)}}},[e._v(e._s(e.$t(e.action.i18N)))]):e._e()}),s=[],o=n("0463"),l={props:{action:{type:Object,required:!0}},mixins:[o["a"]]},c=l,u=n("2877"),d=Object(u["a"])(c,r,s,!1,null,null,null),f=d.exports,m=n("b752"),p=n("9225"),h=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return{visible:e,disabled:!1,loading:!1,type:"default"}},g={add:{visible:!0},edit:{visible:!0},remove:{visible:!0,confirm:!0,confrimTip:"common.messages.deleteConfirm"},refresh:{visible:!0}},v={name:"actions",mixins:[o["b"]],components:{ActionButton:f},props:{groupCode:{type:String},options:{type:Object,default:function(){return{}}},placeholder:{type:String,default:function(){return p["b"].t("common.placeholders.plsInput")}},value:{type:[String,Array],default:"",required:!1},lableitems:{type:Array,default:function(){return[]}},isDelete:{type:[String,Array],default:"NODELETE",required:!1}},data:function(){return{deleteitems:[{value:"DELETE",name:p["b"].t("common.actions.remove")},{value:"NODELETE",name:p["b"].t("common.actions.noRemove")}],defaultOptions:this.getOptions(),searchText:"",items:[],isdelete:this.isDelete,select:this.value}},computed:{defOptions:function(){var e=this.options,t=Object.assign({},e);for(var n in t)t[n]=Object.assign({},this.getProp(),g[n],t[n]);return t}},methods:{onlyChoose:function(e){this.$emit("onlyChoose",e)},getOptions:function(){var e=m["a"].map((function(e){return Object.assign(h(),e)}));e.push({code:"search",visible:!1,disabled:!1,autofocus:!1});var t={};return e.forEach((function(e){t[e.code]=Object.assign({},e,g[e.code])})),t},searchEvent:function(e){this.$emit("search",this.searchText,e)},mergeAction:function(e){var t=this.options,n=Object.assign({},t);return Object.assign({},this.getProp(),g[e.code],n[e.code],e)},clear:function(){this.$emit("search","")},change:function(e){this.$emit("change",e)}},watch:{lableitems:function(){this.lableitems.length>0&&(this.items=this.lableitems)}}},b=v,y=(n("5ac6"),Object(u["a"])(b,i,a,!1,null,"4b97ecc2",null)),x=y.exports;t["a"]=x},b853:function(e,t,n){},c7b9:function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("edit-modal",{ref:"addTokenModal",staticClass:"custom-width",attrs:{modalWidth:500},on:{cancel:e.cancel,ok:e.ok},model:{value:e.dialogVisible,callback:function(t){e.dialogVisible=t},expression:"dialogVisible"}},[n("Form",{ref:"editModalForm",attrs:{"label-width":85,model:e.editModal,rules:e.rules}},[n("Row",[n("Col",{attrs:{span:"24"}},[n("FormItem",{attrs:{label:e.$t("product.material.validity"),prop:"days"}},[n("InputNumber",{staticStyle:{width:"350px"},attrs:{max:3650,min:1},model:{value:e.editModal.days,callback:function(t){e.$set(e.editModal,"days",t)},expression:"editModal.days"}}),e._v("\n            "+e._s(e.$t("product.material.day"))+"\n          ")],1)],1)],1)],1)],1)],1)},a=[],r=(n("96cf"),n("1da1")),s=(n("c5f6"),n("7cdf"),n("8eac")),o={name:"add-token",inheritAttrs:!1,props:{title:{type:String},show:{type:Boolean,default:!0}},components:{editModal:s["a"]},data:function(){var e=this,t=function(t,n,i){if(!n)return i(new Error("days cannot be empty"));Number.isInteger(n)?n<1||n>3650?i(new Error(e.$t("validate.commonUse.numBetween",{min:1,max:3650}))):i():i(new Error("Please enter a numeric value"))};return{editModal:{days:1},dialogVisible:this.show,rules:{days:[{required:!0,message:this.$t("common.rules.plsInput")+this.$t("product.material.validity")},{validator:t,trigger:"blur"}]}}},created:function(){},mounted:function(){this.$refs.addTokenModal&&this.$refs.addTokenModal.open()},watch:{},methods:{ok:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$refs.editModalForm.validate();case 2:if(t=e.sent,t){e.next=6;break}return this.$Message.error(this.$t("common.rules.validateFailure")),e.abrupt("return");case 6:this.$emit("ok",this.editModal.days);case 7:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),cancel:function(){this.$refs.addTokenModal.close(),this.$emit("cancel")}}},l=o,c=n("2877"),u=Object(c["a"])(l,i,a,!1,null,null,null);t["default"]=u.exports},f9fe:function(e,t,n){},fa5c:function(e,t,n){},fd49:function(e,t,n){"use strict";var i=n("fa5c"),a=n.n(i);a.a}}]);