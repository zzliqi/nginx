(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7744f008","chunk-1d5511b9","chunk-70786550","chunk-c8a2bb3a","chunk-0f24763a","chunk-4296a7f1","chunk-7e73034c","chunk-adcf3a00","chunk-64d3ee3d","chunk-e2467124","chunk-4fd24150","chunk-f406c6ce","chunk-adcf3a00","chunk-adcf3a00","chunk-add68e04","chunk-5d44363e","chunk-2d0cfeb7","chunk-1b50bdbe","chunk-adcf3a00","chunk-adcf3a00","chunk-adcf3a00","chunk-54042f1e","chunk-0bf765eb","chunk-d09ead7c","chunk-2d0efcfd"],{"00fd":function(e,n,i){var t=i("9e69"),a=Object.prototype,r=a.hasOwnProperty,o=a.toString,d=t?t.toStringTag:void 0;function s(e){var n=r.call(e,d),i=e[d];try{e[d]=void 0;var t=!0}catch(s){}var a=o.call(e);return t&&(n?e[d]=i:delete e[d]),a}e.exports=s},"03dd":function(e,n,i){var t=i("eac5"),a=i("57a5"),r=Object.prototype,o=r.hasOwnProperty;function d(e){if(!t(e))return a(e);var n=[];for(var i in Object(e))o.call(e,i)&&"constructor"!=i&&n.push(i);return n}e.exports=d},"0463":function(e,n,i){"use strict";i.d(n,"a",(function(){return l}));i("8e6e"),i("456d"),i("ac6a"),i("7514");var t=i("ade3"),a=i("2f62"),r=i("f121");function o(e,n){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),i.push.apply(i,t)}return i}function d(e){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?o(Object(i),!0).forEach((function(n){Object(t["a"])(e,n,i[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):o(Object(i)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))}))}return e}var s=Object(a["a"])("user"),c=s.mapGetters,l={methods:{fireEvent:function(e,n){this.setActionIdToLocalStorage(n),this.$emit(e)},setActionIdToLocalStorage:function(e){window.sessionStorage.setItem(r["a"],e)}}},u={methods:{getProp:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return{visible:e,disabled:!1,loading:!1}}},computed:d({permissionActions:function(){var e=this,n=this.$groupActions,i=[];if(!n.length)return{};if(this.groupCode){var t=n.find((function(n){return n.group.code===e.groupCode}));i=t&&t.actions}else i=n[0].actions;var a=this.defOptions,r={};return i&&i.forEach((function(n){var i=a[n.code];r[n.code]=i&&i.visible?Object.assign(i,n):e.mergeAction(n)})),r},actionsOptions:function(){var e=this.options,n=Object.assign({},this.defaultOptions);for(var i in e)n[i]=Object.assign({},n[i],e[i]);return n}},c({$groupActions:"groupActions"}))};n["b"]=u},"07c7":function(e,n){function i(){return!1}e.exports=i},"0ab3":function(e,n,i){},"0b07":function(e,n,i){var t=i("34ac"),a=i("3698");function r(e,n){var i=a(e,n);return t(i)?i:void 0}e.exports=r},"0d24":function(e,n,i){(function(e){var t=i("2b3e7"),a=i("07c7"),r=n&&!n.nodeType&&n,o=r&&"object"==typeof e&&e&&!e.nodeType&&e,d=o&&o.exports===r,s=d?t.Buffer:void 0,c=s?s.isBuffer:void 0,l=c||a;e.exports=l}).call(this,i("62e4")(e))},"0ddd":function(e,n,i){"use strict";var t=i("983c"),a=i.n(t);a.a},1310:function(e,n){function i(e){return null!=e&&"object"==typeof e}e.exports=i},"1368e":function(e,n,i){var t=i("da03"),a=function(){var e=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function r(e){return!!a&&a in e}e.exports=r},1863:function(e,n,i){"use strict";i.d(n,"e",(function(){return p})),i.d(n,"a",(function(){return g}));i("96cf");var t=i("1da1"),a=i("b76e"),r=i.n(a);i.d(n,"c",(function(){return r.a}));var o=i("ad26"),d=i.n(o);i.d(n,"d",(function(){return d.a}));var s=i("8e49"),c=i.n(s);i.d(n,"b",(function(){return c.a}));var l=i("3a31"),u=i("9646"),m=i.n(u),f=i("9eb5"),v=i.n(f);function p(){return k.apply(this,arguments)}function k(){return k=Object(t["a"])(regeneratorRuntime.mark((function e(){var n,i,t=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.length>0&&void 0!==t[0]?t[0]:{},e.next=3,l["a"].query({query:m.a,variables:{where:n}});case 3:return i=e.sent,e.abrupt("return",i.data||[]);case 5:case"end":return e.stop()}}),e)}))),k.apply(this,arguments)}function g(){return h.apply(this,arguments)}function h(){return h=Object(t["a"])(regeneratorRuntime.mark((function e(){var n,i,t,a=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=a.length>0&&void 0!==a[0]?a[0]:{},i={mutation:v.a,variables:{where:n}},e.next=4,l["a"].mutate(i);case 4:return t=e.sent,e.abrupt("return",t.data||{});case 6:case"end":return e.stop()}}),e)}))),h.apply(this,arguments)}},"1a8c":function(e,n){function i(e){var n=typeof e;return null!=e&&("object"==n||"function"==n)}e.exports=i},"1ebd":function(e,n,i){"use strict";i.r(n);var t=i("69c9");n["default"]=t["default"]},"23f4":function(e,n,i){"use strict";i.d(n,"a",(function(){return b})),i.d(n,"d",(function(){return D})),i.d(n,"b",(function(){return _})),i.d(n,"c",(function(){return _}));var t=function(){var e=this,n=e.$createElement,i=e._self._c||n;return i("div",{staticClass:"left-middle-right"},[i("div",{staticClass:"left",style:{flex:e.trim(e.flexLeft)}},[e._t("left")],2),i("div",{staticClass:"middle",style:{flex:e.trim(e.flexMiddle)}},[e._t("middle")],2),i("div",{staticClass:"right",style:{flex:e.trim(e.flexRight)}},[e._t("right")],2)])},a=[],r={methods:{trim:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:" ;";return this.$_.trim(e,n)}}},o=r,d="1 1 auto",s={name:"left-middle-right",mixins:[o],props:{flexLeft:{type:String,default:d},flexMiddle:{type:String,default:d},flexRight:{type:String,default:d}}},c=s,l=(i("8684"),i("2877")),u=Object(l["a"])(c,t,a,!1,null,"798cb694",null),m=(u.exports,function(){var e=this,n=e.$createElement,i=e._self._c||n;return i("div",{staticClass:"left-right"},[i("div",{staticClass:"left",style:{flex:e.trim(e.flexLeft)}},[e._t("left")],2),i("div",{staticClass:"right",style:{flex:e.trim(e.flexRight)}},[e._t("right")],2)])}),f=[],v="1 1 auto",p={name:"left-right",mixins:[o],props:{flexLeft:{type:String,default:v},flexRight:{type:String,default:v}}},k=p,g=(i("513e"),Object(l["a"])(k,m,f,!1,null,"3beacd9d",null)),h=g.exports,b=h,y=function(){var e=this,n=e.$createElement,i=e._self._c||n;return i("div",{staticClass:"top-bottom"},[i("div",{staticClass:"top",style:{flex:e.trim(e.flexTop)}},[e._t("top")],2),i("div",{staticClass:"bottom",style:{flex:e.trim(e.flexBottom)}},[e._t("bottom")],2)])},N=[],S="1 1 auto",$={name:"top-bottom",mixins:[o],props:{flexTop:{type:String,default:S},flexBottom:{type:String,default:S}}},w=$,O=(i("26a0"),Object(l["a"])(w,y,N,!1,null,"254ec1e7",null)),F=O.exports,D=F,x=function(){var e=this,n=e.$createElement,i=e._self._c||n;return i("div",{staticClass:"one-table"},[i("div",[e._t("header")],2),i("div",{staticClass:"table",staticStyle:{overflow:"hidden"},attrs:{"flex-row":"",grow:""}},[e._t("default")],2)])},I=[],j={name:"one-table",data:function(){return{}}},V=j,A=(i("fd49"),Object(l["a"])(V,x,I,!1,null,"418ff794",null)),C=A.exports,_=C},"241b":function(e,n,i){},"253c":function(e,n,i){var t=i("3729"),a=i("1310"),r="[object Arguments]";function o(e){return a(e)&&t(e)==r}e.exports=o},"26a0":function(e,n,i){"use strict";var t=i("9752"),a=i.n(t);a.a},"29f3":function(e,n){var i=Object.prototype,t=i.toString;function a(e){return t.call(e)}e.exports=a},"2b3e7":function(e,n,i){var t=i("585a"),a="object"==typeof self&&self&&self.Object===Object&&self,r=t||a||Function("return this")();e.exports=r},"2e01":function(e,n,i){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"where"}},type:{kind:"NamedType",name:{kind:"Name",value:"SignatureRuleWhereInput"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"orderBy"}},type:{kind:"NamedType",name:{kind:"Name",value:"SignatureRuleOrderByInput"}},defaultValue:{kind:"EnumValue",value:"updatedAt_DESC"},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"first"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},defaultValue:{kind:"IntValue",value:"100"},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"skip"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},defaultValue:{kind:"IntValue",value:"0"},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"total"},name:{kind:"Name",value:"signatureRulesConnection"},arguments:[{kind:"Argument",name:{kind:"Name",value:"where"},value:{kind:"Variable",name:{kind:"Name",value:"where"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"aggregate"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"count"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"pageInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"hasNextPage"},arguments:[],directives:[]}]}}]}},{kind:"Field",alias:{kind:"Name",value:"list"},name:{kind:"Name",value:"signatureRules"},arguments:[{kind:"Argument",name:{kind:"Name",value:"where"},value:{kind:"Variable",name:{kind:"Name",value:"where"}}},{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"Variable",name:{kind:"Name",value:"first"}}},{kind:"Argument",name:{kind:"Name",value:"skip"},value:{kind:"Variable",name:{kind:"Name",value:"skip"}}},{kind:"Argument",name:{kind:"Name",value:"orderBy"},value:{kind:"Variable",name:{kind:"Name",value:"orderBy"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"fields"},directives:[]},{kind:"Field",name:{kind:"Name",value:"group"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:503}};t.loc.source={body:"#import './_fragment.gql'\r\nquery(\r\n  $where: SignatureRuleWhereInput\r\n  $orderBy: SignatureRuleOrderByInput = updatedAt_DESC\r\n  $first: Int = 100\r\n  $skip: Int = 0\r\n) {\r\n  total: signatureRulesConnection(\r\n    where: $where\r\n  ) {\r\n    aggregate {\r\n      count\r\n    }\r\n    pageInfo {\r\n      hasNextPage\r\n    }\r\n  }\r\n  list:signatureRules(\r\n    where: $where\r\n    first: $first\r\n    skip: $skip\r\n    orderBy: $orderBy){\r\n    ...fields\r\n    group{\r\n      id\r\n      name\r\n      description\r\n    }\r\n  }\r\n}\r\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};function r(e){return e.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var n=e.name.value;return!a[n]&&(a[n]=!0,!0)}))}function o(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){o(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){o(e,n)})),e.definitions&&e.definitions.forEach((function(e){o(e,n)}))}t.definitions=t.definitions.concat(r(i("6569").definitions));var d={};(function(){t.definitions.forEach((function(e){if(e.name){var n=new Set;o(e,n),d[e.name.value]=n}}))})(),e.exports=t},"30c9":function(e,n,i){var t=i("9520"),a=i("b218");function r(e){return null!=e&&a(e.length)&&!t(e)}e.exports=r},"32b3":function(e,n,i){var t=i("872a"),a=i("9638"),r=Object.prototype,o=r.hasOwnProperty;function d(e,n,i){var r=e[n];o.call(e,n)&&a(r,i)&&(void 0!==i||n in e)||t(e,n,i)}e.exports=d},"32ed":function(e,n){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"first"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},defaultValue:{kind:"IntValue",value:"100"},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"skip"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},defaultValue:{kind:"IntValue",value:"0"},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"signatureGroups"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"Variable",name:{kind:"Name",value:"first"}}},{kind:"Argument",name:{kind:"Name",value:"skip"},value:{kind:"Variable",name:{kind:"Name",value:"skip"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:136}};i.loc.source={body:"query($first: Int = 100, $skip: Int = 0) {\r\n  signatureGroups(first: $first, skip: $skip) {\r\n    name\r\n    id\r\n    description\r\n  }\r\n}\r\n",name:"GraphQL request",locationOffset:{line:1,column:1}};function t(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){t(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){t(e,n)})),e.definitions&&e.definitions.forEach((function(e){t(e,n)}))}var a={};(function(){i.definitions.forEach((function(e){if(e.name){var n=new Set;t(e,n),a[e.name.value]=n}}))})(),e.exports=i},"34ac":function(e,n,i){var t=i("9520"),a=i("1368e"),r=i("1a8c"),o=i("dc57"),d=/[\\^$.*+?()[\]{}|]/g,s=/^\[object .+?Constructor\]$/,c=Function.prototype,l=Object.prototype,u=c.toString,m=l.hasOwnProperty,f=RegExp("^"+u.call(m).replace(d,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function v(e){if(!r(e)||a(e))return!1;var n=t(e)?f:s;return n.test(o(e))}e.exports=v},3595:function(e,n,i){"use strict";var t=function(){var e=this,n=e.$createElement,i=e._self._c||n;return i("span",[e._v(e._s(e._f("datetime")(e.params.value)))])},a=[],r=i("2b0e"),o=r["default"].extend({}),d=o,s=i("2877"),c=Object(s["a"])(d,t,a,!1,null,null,null);n["a"]=c.exports},"35da":function(e,n,i){"use strict";var t=i("0ab3"),a=i.n(t);a.a},3698:function(e,n){function i(e,n){return null==e?void 0:e[n]}e.exports=i},"36db":function(e,n,i){},3729:function(e,n,i){var t=i("9e69"),a=i("00fd"),r=i("29f3"),o="[object Null]",d="[object Undefined]",s=t?t.toStringTag:void 0;function c(e){return null==e?void 0===e?d:o:s&&s in Object(e)?a(e):r(e)}e.exports=c},"3b4a":function(e,n,i){var t=i("0b07"),a=function(){try{var e=t(Object,"defineProperty");return e({},"",{}),e}catch(n){}}();e.exports=a},"4c31":function(e,n,i){"use strict";var t=i("829c"),a=i.n(t);i.d(n,"c",(function(){return a.a}));var r=i("e4e5"),o=i.n(r);i.d(n,"a",(function(){return o.a}));var d=i("ccf3"),s=i.n(d);i.d(n,"b",(function(){return s.a}));i("77cc"),i("be12"),i("52ea"),i("cd06")},"4fef":function(e,n){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NamedType",name:{kind:"Name",value:"ID"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"groupId"}},type:{kind:"NamedType",name:{kind:"Name",value:"ID"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"nodes"},name:{kind:"Name",value:"signatureRulesConnection"},arguments:[{kind:"Argument",name:{kind:"Name",value:"where"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"AND"},value:{kind:"ListValue",values:[{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}},{kind:"ObjectField",name:{kind:"Name",value:"id_not"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}},{kind:"ObjectField",name:{kind:"Name",value:"group"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"groupId"}}}]}}]}]}}]}},{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}},{kind:"Argument",name:{kind:"Name",value:"skip"},value:{kind:"IntValue",value:"0"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"aggregate"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"count"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:242}};i.loc.source={body:"query($name: String!, $id: ID, $groupId: ID) {\r\n  nodes: signatureRulesConnection(\r\n    where: { AND: [{ name: $name, id_not: $id, group: { id: $groupId } }] }\r\n    first: 100\r\n    skip: 0\r\n  ) {\r\n    aggregate {\r\n      count\r\n    }\r\n  }\r\n}\r\n",name:"GraphQL request",locationOffset:{line:1,column:1}};function t(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){t(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){t(e,n)})),e.definitions&&e.definitions.forEach((function(e){t(e,n)}))}var a={};(function(){i.definitions.forEach((function(e){if(e.name){var n=new Set;t(e,n),a[e.name.value]=n}}))})(),e.exports=i},"50d8":function(e,n){function i(e,n){var i=-1,t=Array(e);while(++i<e)t[i]=n(i);return t}e.exports=i},5129:function(e,n,i){"use strict";var t=i("8917"),a=i.n(t);a.a},"513e":function(e,n,i){"use strict";var t=i("f9fe"),a=i.n(t);a.a},"52ea":function(e,n){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"metaData"},name:{kind:"Name",value:"sys_SignaturePermissionMetadata"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"Mutation"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"fields"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"Query"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"fields"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:283}};i.loc.source={body:"{\r\n  metaData: sys_SignaturePermissionMetadata {\r\n    Mutation {\r\n      name\r\n      description\r\n      fields {\r\n        name\r\n        description\r\n      }\r\n    }\r\n    Query {\r\n      name\r\n      description\r\n      fields {\r\n        name\r\n        description\r\n      }\r\n    }\r\n  }\r\n}\r\n",name:"GraphQL request",locationOffset:{line:1,column:1}};function t(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){t(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){t(e,n)})),e.definitions&&e.definitions.forEach((function(e){t(e,n)}))}var a={};(function(){i.definitions.forEach((function(e){if(e.name){var n=new Set;t(e,n),a[e.name.value]=n}}))})(),e.exports=i},"57a5":function(e,n,i){var t=i("91e9"),a=t(Object.keys,Object);e.exports=a},"585a":function(e,n,i){(function(n){var i="object"==typeof n&&n&&n.Object===Object&&n;e.exports=i}).call(this,i("c8ba"))},5946:function(e,n,i){"use strict";i("8e6e"),i("ac6a"),i("456d");var t=i("ade3"),a=i("2f62");function r(e,n){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),i.push.apply(i,t)}return i}function o(e){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?r(Object(i),!0).forEach((function(n){Object(t["a"])(e,n,i[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):r(Object(i)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))}))}return e}var d={data:function(){return{gridKey:"fitGrid"}},computed:o({},Object(a["c"])("app",["pageResize"])),watch:{pageResize:function(){this.$refs[this.gridKey].gridOptions.api.sizeColumnsToFit()}}};n["a"]=d},"5c97":function(e,n,i){},6151:function(e,n,i){"use strict";i.r(n);var t=i("9a65");n["default"]=t["default"]},6569:function(e,n){var i={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"fields"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"SignatureRule"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"category"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"value"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"action"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"group"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"updatedAt"},arguments:[],directives:[]}]}}],loc:{start:0,end:182}};i.loc.source={body:"fragment fields on SignatureRule {\r\n    id\r\n    name\r\n    category\r\n    value\r\n    action\r\n    description\r\n    group{\r\n      id\r\n      name\r\n    }\r\n    createdAt\r\n    updatedAt\r\n}\r\n",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=i},6689:function(e,n,i){"use strict";i.r(n),i.d(n,"client",(function(){return t}));var t="system"},6747:function(e,n){var i=Array.isArray;e.exports=i},"69c9":function(e,n,i){"use strict";i.r(n);var t=function(){var e=this,n=e.$createElement,i=e._self._c||n;return i("flex-panel",{staticClass:"permission",staticStyle:{height:"100%"},attrs:{hideFooter:!0,title:e.$t("system.signGroup.signPermission"),icon:"ios-funnel-outline"}},[i("div",{staticClass:"actions",attrs:{slot:"extra"},slot:"extra"},[i("Icon",{attrs:{color:"green",type:"md-egg"}}),e._v("\n    "+e._s(e.$t("system.signPermission.currentPermission"))+"\n    "),i("Icon",{attrs:{color:"orange",type:"md-egg"}}),e._v("\n    "+e._s(e.$t("system.signPermission.noCurrentPermission"))+"\n    "),i("Icon",{attrs:{color:"red",type:"md-egg"}}),e._v("\n    "+e._s(e.$t("system.signPermission.noOperationalPermission"))+"\n    "),i("span",{staticStyle:{"margin-left":"10px",color:"red"}},[e._v(e._s(e.$t("system.signPermission.notice")))])],1),i("menu-tree",{ref:"menuTree",staticClass:"app-body-right",attrs:{groupId:e.groupId}})],1)},a=[],r=i("f88e"),o=i("a250"),d=i("8eac"),s=i("6151"),c={name:"permission",components:{actions:r["a"],editModal:d["a"],flexPanel:o["a"],menuTree:s["default"]},props:{groupId:{type:String,default:""}}},l=c,u=i("2877"),m=Object(u["a"])(l,t,a,!1,null,null,null);n["default"]=m.exports},"6ad0":function(e,n,i){"use strict";i.d(n,"a",(function(){return c})),i.d(n,"b",(function(){return u}));i("96cf");var t=i("1da1"),a=i("f551"),r=i.n(a),o=i("3a31"),d=i("75e0"),s=i.n(d);i("96d6");function c(e){return l.apply(this,arguments)}function l(){return l=Object(t["a"])(regeneratorRuntime.mark((function e(n){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,o["a"].query({query:r.a,variables:{typeName:n}});case 2:return i=e.sent,e.abrupt("return",i.data);case 4:case"end":return e.stop()}}),e)}))),l.apply(this,arguments)}function u(){return m.apply(this,arguments)}function m(){return m=Object(t["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,o["a"].query({query:s.a});case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)}))),m.apply(this,arguments)}},"6fcd":function(e,n,i){var t=i("50d8"),a=i("d370"),r=i("6747"),o=i("0d24"),d=i("c098"),s=i("73ac"),c=Object.prototype,l=c.hasOwnProperty;function u(e,n){var i=r(e),c=!i&&a(e),u=!i&&!c&&o(e),m=!i&&!c&&!u&&s(e),f=i||c||u||m,v=f?t(e.length,String):[],p=v.length;for(var k in e)!n&&!l.call(e,k)||f&&("length"==k||u&&("offset"==k||"parent"==k)||m&&("buffer"==k||"byteLength"==k||"byteOffset"==k)||d(k,p))||v.push(k);return v}e.exports=u},"72ec":function(e,n,i){"use strict";var t=i("241b"),a=i.n(t);a.a},"73ac":function(e,n,i){var t=i("743f"),a=i("b047"),r=i("99d3"),o=r&&r.isTypedArray,d=o?a(o):t;e.exports=d},"743f":function(e,n,i){var t=i("3729"),a=i("b218"),r=i("1310"),o="[object Arguments]",d="[object Array]",s="[object Boolean]",c="[object Date]",l="[object Error]",u="[object Function]",m="[object Map]",f="[object Number]",v="[object Object]",p="[object RegExp]",k="[object Set]",g="[object String]",h="[object WeakMap]",b="[object ArrayBuffer]",y="[object DataView]",N="[object Float32Array]",S="[object Float64Array]",$="[object Int8Array]",w="[object Int16Array]",O="[object Int32Array]",F="[object Uint8Array]",D="[object Uint8ClampedArray]",x="[object Uint16Array]",I="[object Uint32Array]",j={};function V(e){return r(e)&&a(e.length)&&!!j[t(e)]}j[N]=j[S]=j[$]=j[w]=j[O]=j[F]=j[D]=j[x]=j[I]=!0,j[o]=j[d]=j[b]=j[s]=j[y]=j[c]=j[l]=j[u]=j[m]=j[f]=j[v]=j[p]=j[k]=j[g]=j[h]=!1,e.exports=V},"75e0":function(e,n){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"roleType"},name:{kind:"Name",value:"enumRole"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:68}};i.loc.source={body:"query {\r\n  roleType: enumRole {\r\n    name\r\n    description\r\n  }\r\n}\r\n",name:"GraphQL request",locationOffset:{line:1,column:1}};function t(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){t(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){t(e,n)})),e.definitions&&e.definitions.forEach((function(e){t(e,n)}))}var a={};(function(){i.definitions.forEach((function(e){if(e.name){var n=new Set;t(e,n),a[e.name.value]=n}}))})(),e.exports=i},7638:function(e,n,i){"use strict";i.d(n,"h",(function(){return t})),i.d(n,"b",(function(){return a})),i.d(n,"g",(function(){return r})),i.d(n,"i",(function(){return o})),i.d(n,"a",(function(){return d})),i.d(n,"f",(function(){return s})),i.d(n,"e",(function(){return c})),i.d(n,"c",(function(){return l})),i.d(n,"d",(function(){return u}));var t="SECTOR_TYPE",a="Inv",r="PRINTER",o={edit:"edit",add:"add"},d={name:100,enterprise:2,site:2,area:4,sector:4,location:6,workCenter:20,workStation:20},s={area:"area",sector:"sector",location:"location"},c={Enterprise:"Enterprise",Site:"Site",Area:"Area",Sector:"Sector",Location:"Location",WorkCenter:"WorkCenter",WorkStation:"WorkStation",Device:"Device",AppCodeRule:"AppCodeRule",CodeInfo:"CodeInfo",UserGroup:"UserGroup",SignatureRule:"SignatureRule",MFGInstruction:"MFGInstruction"},l="XX[YYYY][MM][####]",u="MAX"},"77cc":function(e,n){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"groupList"},name:{kind:"Name",value:"signatureGroups"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}},{kind:"Argument",name:{kind:"Name",value:"skip"},value:{kind:"IntValue",value:"0"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:82}};i.loc.source={body:"{\r\n  groupList: signatureGroups(first: 100, skip: 0) {\r\n    id\r\n    name\r\n  }\r\n}\r\n",name:"GraphQL request",locationOffset:{line:1,column:1}};function t(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){t(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){t(e,n)})),e.definitions&&e.definitions.forEach((function(e){t(e,n)}))}var a={};(function(){i.definitions.forEach((function(e){if(e.name){var n=new Set;t(e,n),a[e.name.value]=n}}))})(),e.exports=i},"79f0":function(e,n,i){},"7c69":function(e,n,i){},"7cb3":function(e,n,i){"use strict";var t=i("36db"),a=i.n(t);a.a},"7d9e":function(e,n,i){"use strict";var t=i("5c97"),a=i.n(t);a.a},"7f3a":function(e,n){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"where"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"SignatureGroupWhereUniqueInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"deleteSignatureGroup"},arguments:[{kind:"Argument",name:{kind:"Name",value:"where"},value:{kind:"Variable",name:{kind:"Name",value:"where"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:137}};i.loc.source={body:"mutation($where: SignatureGroupWhereUniqueInput!) {\r\n  deleteSignatureGroup(where: $where) {\r\n    id\r\n    name\r\n    description\r\n  }\r\n}\r\n",name:"GraphQL request",locationOffset:{line:1,column:1}};function t(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){t(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){t(e,n)})),e.definitions&&e.definitions.forEach((function(e){t(e,n)}))}var a={};(function(){i.definitions.forEach((function(e){if(e.name){var n=new Set;t(e,n),a[e.name.value]=n}}))})(),e.exports=i},"829c":function(e,n,i){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"where"}},type:{kind:"NamedType",name:{kind:"Name",value:"SignaturePermissionWhereInput"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"list"},name:{kind:"Name",value:"signaturePermissions"},arguments:[{kind:"Argument",name:{kind:"Name",value:"where"},value:{kind:"Variable",name:{kind:"Name",value:"where"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"fields"},directives:[]},{kind:"Field",name:{kind:"Name",value:"module"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"code"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"action"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"code"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"group"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:297}};t.loc.source={body:"#import './_fragment.gql'\r\nquery($where: SignaturePermissionWhereInput) {\r\n  list: signaturePermissions(where: $where) {\r\n    ...fields\r\n    module {\r\n      id\r\n      name\r\n      code\r\n    }\r\n    action {\r\n      id\r\n      code\r\n      name\r\n    }\r\n    group {\r\n      id\r\n      name\r\n    }\r\n  }\r\n}\r\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};function r(e){return e.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var n=e.name.value;return!a[n]&&(a[n]=!0,!0)}))}function o(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){o(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){o(e,n)})),e.definitions&&e.definitions.forEach((function(e){o(e,n)}))}t.definitions=t.definitions.concat(r(i("82f1").definitions));var d={};(function(){t.definitions.forEach((function(e){if(e.name){var n=new Set;o(e,n),d[e.name.value]=n}}))})(),e.exports=t},"82f1":function(e,n){var i={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"fields"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"SignaturePermission"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"updatedAt"},arguments:[],directives:[]}]}}],loc:{start:0,end:92}};i.loc.source={body:"fragment fields on SignaturePermission {\r\n  id\r\n  description\r\n  createdAt\r\n  updatedAt\r\n}\r\n",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=i},8684:function(e,n,i){"use strict";var t=i("7c69"),a=i.n(t);a.a},"872a":function(e,n,i){var t=i("3b4a");function a(e,n,i){"__proto__"==n&&t?t(e,n,{configurable:!0,enumerable:!0,value:i,writable:!0}):e[n]=i}e.exports=a},8785:function(e,n,i){"use strict";function t(e,n){return n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}i.d(n,"a",(function(){return t}))},8917:function(e,n,i){},"8c65":function(e,n,i){"use strict";i.r(n);var t=i("ab74");n["default"]=t["default"]},"8e49":function(e,n,i){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"actionGroupId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"connect"}},type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ActionWhereUniqueInput"}}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"node"},name:{kind:"Name",value:"updatePermission"},arguments:[{kind:"Argument",name:{kind:"Name",value:"where"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}]}},{kind:"Argument",name:{kind:"Name",value:"data"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"permissionGroups"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"create"},value:{kind:"ListValue",values:[{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"actionGroup"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"connect"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"actionGroupId"}}}]}}]}},{kind:"ObjectField",name:{kind:"Name",value:"actions"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"connect"},value:{kind:"Variable",name:{kind:"Name",value:"connect"}}}]}}]}]}}]}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"fields"},directives:[]}]}}]}}],loc:{start:0,end:538}};t.loc.source={body:"#import './_fragment.gql'\r\n\r\nmutation($id: ID!, $actionGroupId: ID!, $connect: [ActionWhereUniqueInput!]) {\r\n  node: updatePermission(\r\n    where: { id: $id }\r\n    data: {\r\n      permissionGroups: {\r\n        create: [\r\n          {\r\n            actionGroup: { connect: { id: $actionGroupId } }\r\n            actions: { connect: $connect }\r\n            # where: { id: $permissionGroupId }\r\n            # data: { actions: { disconnect: $disconnect, connect: $connect } }\r\n          }\r\n        ]\r\n      }\r\n    }\r\n  ) {\r\n    ...fields\r\n  }\r\n}\r\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};function r(e){return e.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var n=e.name.value;return!a[n]&&(a[n]=!0,!0)}))}function o(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){o(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){o(e,n)})),e.definitions&&e.definitions.forEach((function(e){o(e,n)}))}t.definitions=t.definitions.concat(r(i("fa30").definitions));var d={};(function(){t.definitions.forEach((function(e){if(e.name){var n=new Set;o(e,n),d[e.name.value]=n}}))})(),e.exports=t},"8eac":function(e,n,i){"use strict";var t=function(){var e=this,n=e.$createElement,i=e._self._c||n;return i("Modal",{ref:"modal",attrs:{closable:!1,"mask-closable":!1,width:e.modalWidth},model:{value:e.visible,callback:function(n){e.visible=n},expression:"visible"}},[i("p",{attrs:{slot:"header"},slot:"header"},[i("Icon",{attrs:{type:e.icon}}),i("span",[e._v(e._s(e.title))])],1),e._t("default"),i("div",{attrs:{slot:"footer"},slot:"footer"},[i("Button",{attrs:{disabled:e.loading},on:{click:e.cancelEvent}},[e._v("\n      "+e._s(e.canceltext)+"\n    ")]),e.isOk?i("Button",{attrs:{loading:e.loading,type:"primary"},on:{click:e.okEvent}},[e._v(e._s(e.$t("common.buttons.ok")))]):e._e()],1)],2)},a=[],r=(i("c5f6"),{name:"edit-modal",props:{value:{type:Boolean,default:!1},isAdding:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},modalWidth:{type:Number,default:520},subtitle:{type:String,default:""},isOk:{type:Boolean,default:!0},subIcon:{type:String,default:""},subCanceltext:{type:String,default:""}},data:function(){return{icon:this.subIcon||"md-create",title:this.subtitle||this.$t("common.actions.edit"),visible:this.value,editing:!this.isAdding,canceltext:this.subCanceltext||this.$t("common.buttons.cancel")}},methods:{cancelEvent:function(){this.$emit("cancel")},okEvent:function(){this.$emit("ok")},open:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.editing=e,this.icon=!0===e?"md-create":"md-add",this.title=this.subtitle?this.subtitle:!0===e?this.$t("common.actions.edit")+this.subtitle:this.$t("common.actions.add")+this.subtitle,this.visible=!0},close:function(){this.visible=!1,this.icon="md-create",this.title=this.$t("common.actions.edit"),this.editing=!1},scrollTop:function(){var e=this.$refs.modal.$el,n=e.getElementsByClassName("ivu-modal-body");if(n&&n.length>0){var i=n[0];i&&i.scroll&&this.$nextTick((function(){return i.scroll(0,0)}))}}},watch:{value:function(e){this.visible=e,this.title=this.subtitle},visible:function(e){!0===e&&this.scrollTop()},subtitle:function(e){this.title=e}}}),o=r,d=(i("7d9e"),i("2877")),s=Object(d["a"])(o,t,a,!1,null,"0f32854a",null),c=s.exports;n["a"]=c},"8eeb":function(e,n,i){var t=i("32b3"),a=i("872a");function r(e,n,i,r){var o=!i;i||(i={});var d=-1,s=n.length;while(++d<s){var c=n[d],l=r?r(i[c],e[c],c,i,e):void 0;void 0===l&&(l=e[c]),o?a(i,c,l):t(i,c,l)}return i}e.exports=r},"91e9":function(e,n){function i(e,n){return function(i){return e(n(i))}}e.exports=i},"91f5":function(e,n,i){"use strict";i.d(n,"e",(function(){return f}));i("96cf");var t=i("1da1"),a=i("3a31"),r=i("2e01"),o=i.n(r);i.d(n,"a",(function(){return o.a}));var d=i("9c03"),s=i.n(d);i.d(n,"b",(function(){return s.a}));var c=i("d59d"),l=i.n(c);i.d(n,"d",(function(){return l.a}));i("4fef");var u=i("32ed"),m=i.n(u);i.d(n,"c",(function(){return m.a}));i("d330");function f(){return v.apply(this,arguments)}function v(){return v=Object(t["a"])(regeneratorRuntime.mark((function e(){var n,i,t,r,d,s=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=s.length>0&&void 0!==s[0]?s[0]:{},i=s.length>1?s[1]:void 0,t=s.length>2?s[2]:void 0,r=s.length>3&&void 0!==s[3]?s[3]:0,e.next=6,a["a"].query({query:o.a,variables:{where:n,orderBy:i,first:t,skip:r}});case 6:return d=e.sent,e.abrupt("return",d.data||[]);case 8:case"end":return e.stop()}}),e)}))),v.apply(this,arguments)}},9520:function(e,n,i){var t=i("3729"),a=i("1a8c"),r="[object AsyncFunction]",o="[object Function]",d="[object GeneratorFunction]",s="[object Proxy]";function c(e){if(!a(e))return!1;var n=t(e);return n==o||n==d||n==r||n==s}e.exports=c},9638:function(e,n){function i(e,n){return e===n||e!==e&&n!==n}e.exports=i},9646:function(e,n,i){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"where"}},type:{kind:"NamedType",name:{kind:"Name",value:"PermissionWhereInput"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"orderBy"}},type:{kind:"NamedType",name:{kind:"Name",value:"PermissionOrderByInput"}},defaultValue:{kind:"EnumValue",value:"updatedAt_DESC"},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"list"},name:{kind:"Name",value:"permissions"},arguments:[{kind:"Argument",name:{kind:"Name",value:"where"},value:{kind:"Variable",name:{kind:"Name",value:"where"}}},{kind:"Argument",name:{kind:"Name",value:"orderBy"},value:{kind:"Variable",name:{kind:"Name",value:"orderBy"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"fields"},directives:[]}]}},{kind:"Field",alias:{kind:"Name",value:"total"},name:{kind:"Name",value:"permissionsConnection"},arguments:[{kind:"Argument",name:{kind:"Name",value:"where"},value:{kind:"Variable",name:{kind:"Name",value:"where"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"aggregate"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"count"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"pageInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"hasNextPage"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:338}};t.loc.source={body:"#import './_fragment.gql'\r\nquery(\r\n  $where: PermissionWhereInput\r\n  $orderBy: PermissionOrderByInput = updatedAt_DESC\r\n) {\r\n  list: permissions(where: $where, orderBy: $orderBy) {\r\n    ...fields\r\n  }\r\n  total: permissionsConnection(where: $where) {\r\n    aggregate {\r\n      count\r\n    }\r\n    pageInfo {\r\n      hasNextPage\r\n    }\r\n  }\r\n}\r\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};function r(e){return e.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var n=e.name.value;return!a[n]&&(a[n]=!0,!0)}))}function o(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){o(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){o(e,n)})),e.definitions&&e.definitions.forEach((function(e){o(e,n)}))}t.definitions=t.definitions.concat(r(i("fa30").definitions));var d={};(function(){t.definitions.forEach((function(e){if(e.name){var n=new Set;o(e,n),d[e.name.value]=n}}))})(),e.exports=t},"96d6":function(e,n){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"menuType"},name:{kind:"Name",value:"__type"},arguments:[{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"StringValue",value:"MenuType",block:!1}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"enumValues"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:113}};i.loc.source={body:'query {\r\n  menuType: __type(name: "MenuType") {\r\n    enumValues {\r\n      name\r\n      description\r\n    }\r\n  }\r\n}\r\n',name:"GraphQL request",locationOffset:{line:1,column:1}};function t(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){t(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){t(e,n)})),e.definitions&&e.definitions.forEach((function(e){t(e,n)}))}var a={};(function(){i.definitions.forEach((function(e){if(e.name){var n=new Set;t(e,n),a[e.name.value]=n}}))})(),e.exports=i},9752:function(e,n,i){},"983c":function(e,n,i){},"99d3":function(e,n,i){(function(e){var t=i("585a"),a=n&&!n.nodeType&&n,r=a&&"object"==typeof e&&e&&!e.nodeType&&e,o=r&&r.exports===a,d=o&&t.process,s=function(){try{var e=r&&r.require&&r.require("util").types;return e||d&&d.binding&&d.binding("util")}catch(n){}}();e.exports=s}).call(this,i("62e4")(e))},"9a65":function(e,n,i){"use strict";i.r(n);var t=function(){var e=this,n=e.$createElement,i=e._self._c||n;return i("flex-panel",{attrs:{"hide-footer":!0,"hide-header":!0}},[i("menu-tree-item",{attrs:{groupId:e.groupId,model:e.nested},on:{actionsChanged:e.actionsChanged}}),i("Spin",{directives:[{name:"show",rawName:"v-show",value:e.isLoading,expression:"isLoading"}],attrs:{fix:""}})],1)},a=[],r=(i("8e6e"),i("456d"),i("ac6a"),i("ac4d"),i("8a81"),i("5df3"),i("1c4c"),i("7f7f"),i("6b54"),i("8785")),o=(i("20d6"),i("7514"),i("ade3")),d=i("c9e5"),s=i("1863"),c=i("4c31"),l=i("6689"),u=i("9530"),m=i.n(u),f=i("cb37"),v=i("a250"),p=i("b12b"),k=i("2f62"),g=i("f121");function h(){var e=Object(r["a"])(["\n      mutation {\n        deleteManyPermissions(where: {\n          menu: {\n            id_in: [",']\n          },\n          userGroup:{ id:"','"} }) {\n          count\n        }\n\n        ',"\n      }\n\n      ",""]);return h=function(){return e},e}function b(e,n){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),i.push.apply(i,t)}return i}function y(e){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?b(Object(i),!0).forEach((function(n){Object(o["a"])(e,n,i[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):b(Object(i)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))}))}return e}function N(e,n){var i;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(i=S(e))||n&&e&&"number"===typeof e.length){i&&(e=i);var t=0,a=function(){};return{s:a,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,o=!0,d=!1;return{s:function(){i=e[Symbol.iterator]()},n:function(){var e=i.next();return o=e.done,e},e:function(e){d=!0,r=e},f:function(){try{o||null==i.return||i.return()}finally{if(d)throw r}}}}function S(e,n){if(e){if("string"===typeof e)return $(e,n);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?$(e,n):void 0}}function $(e,n){(null==n||n>e.length)&&(n=e.length);for(var i=0,t=new Array(n);i<n;i++)t[i]=e[i];return t}var w=Object(k["a"])("app"),O=w.mapGetters,F={name:"menu-tree",components:{menuTreeItem:p["default"],flexPanel:v["a"]},props:{groupId:{type:String,default:""}},apollo:{menus:{query:d["b"],client:l["client"],manual:!0,result:function(e){var n=e.data;this.generateMenus(n)}}},data:function(){return{permissionGroupCode:g["v"].system.signManage.signPermControl,menus:{},nested:{menus:[],$opened:[]},group:"base",mutateLoading:!1,loading:!1,rawFlatMenus:[],permissionList:[]}},beforeMount:function(){},mounted:function(){},methods:{getSignPermission:function(){var e=this,n=this;this.$apollo.query({client:l["client"],query:c["c"],variables:{where:{}}}).then((function(i){n.permissionList=i.data.list,e.checkMenus()})).catch((function(n){console.error(n),e.loading=!1}))},generateMenus:function(e){var n=this;e=JSON.parse(JSON.stringify(e));var i=e.menus;this.buildFlatData(i),i&&i.length>0&&this.$set(this.nested,"menus",i),this.$nextTick().then((function(){n.$set(n.nested,"$opened",i.map((function(e){return e.id})))}))},buildFlatData:function(e){var n,i=this,t=N(e);try{var a=function(){var e=n.value;e.$parentId=e.parent&&e.parent.id?e.parent.id:null,e.$checked=!1,e.$indeterminate=!1,e.$permission=null,e.menuType===f["a"].internal&&0===e.menus.length?e.actionGroups=e.actionGroups.map((function(n){var i=y(y({},n),{},{$checked:!1,$menu:e});return i})):e.actionGroups=[],e.$isChanged=function(){return i.isMenuChanged(e)},e.$opened=e.menus.map((function(e){return e.id})),i.menus[e.id]=e,e.menus&&e.menus.length>0&&i.buildFlatData(e.menus)};for(t.s();!(n=t.n()).done;)a()}catch(r){t.e(r)}finally{t.f()}},refresh:function(){},expandAll:function(){},collapsedAll:function(){},uncheckedAll:function(){for(var e in this.menus){this.$set(this.menus[e],"$checked",!1),this.$set(this.menus[e],"$indeterminate",!1),this.$set(this.menus[e],"$permission",null);for(var n=this.menus[e].actionGroups,i=n&&n.length,t=0;t<i;t++)for(var a=n[t].actions,r=a.length,o=0;o<r;o++)this.$set(a[o],"$checked",!1)}},checkIndeterminate:function(e){if(e=e||this.nested,e&&e.children&&e.children.length>0){var n=this.$_.filter(e.children,(function(e){return!0===e.$checked||!0===e.$indeterminate})),i=n.length>0&&n.length<e.children.length;e.$indeterminate=i;for(var t=0;t<e.children.length;t++)this.checkIndeterminate(e.children[t])}},actionsChangedMethod:function(e,n,i,t){var a=this;if(e&&e.id&&this.menus[e.id]&&n){var r,o;this.loading=!0,e.module&&e.module.id?(r=e.module.id,o={connect:{id:r}}):o=null;var d=!0===i?{id:n.id}:"",s={connect:d},l="";this.permissionList.length>0&&(l=this.permissionList.find((function(e){return e.action.id==n.id})));var u={connect:{id:this.groupId}},m={id:l?l.id:""},f={module:o,action:s,group:u};this.$apollo.mutate({mutation:c["b"],variables:{where:m,create:f,update:f},context:{headers:{"module-code":t,"action-id":this.addActionId}}}).then((function(e){e.data.node&&e.data.node.id&&a.getSignPermission()})).catch((function(e){a.getSignPermission(),console.error(e)}))}},actionsDeleteMethod:function(e,n){var i=this;if(e&&e.id){var t=this.$_.find(this.permissionList,(function(n){return n.action.id===e.id}));this.loading=!0;var a={id:t.id};this.$apollo.mutate({mutation:c["a"],variables:{where:a},context:{headers:{"module-code":n,"action-id":this.cancelActionId}},client:l["client"]}).then((function(){i.getSignPermission(),i.$Message.success(i.$t("common.messages.removeSuccess"))})).catch((function(){i.getSignPermission(),i.$Message.error(i.$t("common.messages.removeFailure"))}))}},actionsChanged:function(e,n,i){var t=window.sessionStorage.getItem(g["n"]);i?this.actionsChangedMethod(e,n,i,t):this.actionsDeleteMethod(n,t)},getCheckedMenus:function(){var e=[];for(var n in this.menus){var i=this.menus[n];if(!0===i.$checked||!0===i.$indeterminate){var t=[];if(i.children&&i.children.length>0);else{var a,r=N(i.actions);try{for(r.s();!(a=r.n()).done;){var o=a.value;!0===o.$checked&&t.push(o.id)}}catch(d){r.e(d)}finally{r.f()}}e.push({menu:{id:n},actions:t})}}return e},setCheckedMenus:function(e){var n=this;if(this.uncheckedAll(),e&&Array.isArray(e)&&!(e.length<1)){var i,t=N(e);try{var a=function(){var e=i.value;if(e.menu&&e.menu.id&&n.menus[e.menu.id]){var t,a=n.menus[e.menu.id];if(n.$set(a,"$permission",e),n.$set(a,"$checked",!0),e.permissionGroups&&(t=e.permissionGroups.length)&&t)for(var r=function(i){for(var t=e.permissionGroups[i].actions,r=n.$_.find(a.actionGroups,(function(n){return n.id===e.permissionGroups[i].actionGroup.id})),o=r&&r.actions.length||0,d=function(e){n.$set(r.actions[e],"$checked",-1!==n.$_.findIndex(n.permissionList,(function(n){return n.action.id===r.actions[e].id}))),n.$set(r.actions[e],"$group",n.$_.find(n.permissionList,(function(n){return n.action.id===r.actions[e].id})));var i=-1!==n.$_.findIndex(t,(function(n){return n.id===r.actions[e].id})),a=n.$_.find(t,(function(n){return n.id===r.actions[e].id})),o=!1,d=!!i&&a.signature;i?o=!(!d&&"undefined"!=typeof d&&0!=d)&&a.signature:d=!1,n.$set(r.actions[e],"$disabled",i&&o)},s=0;s<o;s++)d(s)},o=0;o<t;o++)r(o)}};for(t.s();!(i=t.n()).done;)a()}catch(r){t.e(r)}finally{t.f()}this.checkIndeterminate()}},getParents:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(e&&e.parent&&e.parent.id&&this.menus[e.parent.id]){var i=this.menus[e.parent.id];this.getParents(i,n),n.push(i)}return n},getChildren:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(e&&e.children&&e.children.length>0)for(var i=0;i<e.children.length;i++)n.push(e.children[i]),this.getChildren(e.children[i],n);return n},isMenuChanged:function(e){if(!e)return!1;var n=e.$permission;if((!0===e.$checked||!0===e.$indeterminate)&&!n)return!0;if(!0!==e.$checked&&!0!==e.$indeterminate&&n)return!0;if(!0!==e.$checked&&!0!==e.$indeterminate&&!n)return!1;var i=e.actions,t=n.actions;if(i&&i.length>0&&t){var a=this.$_.filter(i,(function(e){return!0===e.$checked}));if(a.length!==t.length)return!0;if(a.length>0){var r=a.map((function(e){return e.id})),o=t.map((function(e){return e.id})),d=this.$_.xor(r,o);if(d.length>0)return!0}}return!1},generateGraphqlVariables:function(e){var n={},i={group:this.group,userGroup:{connect:{id:this.userGroup.id,code:this.userGroup.code}}},t={};n.id=e.$permission&&e.$permission.id?e.$permission.id:"",i.menu={connect:{id:e.id}},i.actions={connect:this.$_.filter(e.actions,(function(e){return!0===e.$checked})).map((function(e){return{id:e.id}}))};var a=e.actions.map((function(e){return e.id})),r=e.$permission&&e.$permission.actions&&e.$permission.actions.length>0?e.$permission.actions.map((function(e){return e.id})):[],o=this.$_.difference(a,r).map((function(e){return{id:e}})),d=this.$_.difference(r,a).map((function(e){return{id:e}}));return t.actions={connect:o,disconnect:d},{where:n,create:i,update:t}},generateCreateGraphql:function(e){var n="[",i=e.actionGroups.length;if(e.actionGroups&&i)for(var t=0;t<i;t++){for(var a=e.actionGroups[t].actions,r=a.length,o="",d=0;d<r;d++)!0===a[d].$checked&&(o+='{id: "'.concat(a[d].id,'"}, '));n+='{\n            actionGroup: {\n              connect: {\n                id: "'.concat(e.actionGroups[t].id,'"\n              }\n            }\n            actions: {\n              connect: [').concat(o,"]\n            }\n          }, ")}n+="]";var s="\n      ".concat(e.id,': createPermission(\n        data: {\n          menu: { connect: { id: "').concat(e.id,'" } }\n          userGroup: {\n            connect: {\n              id: "').concat(this.groupId,'"\n            }\n          }\n          permissionGroups: {\n            create: ').concat(n,"\n          }\n        }\n      ) {\n        ...fields\n      }\n      ");return s},generateGraphql:function(){var e="",n="";for(var i in this.menus){var t=this.menus[i];n+=', "'.concat(t.id,'"'),!0!==t.$checked&&!0!==t.$indeterminate||(e+="\n          ".concat(this.generateCreateGraphql(t),"\n          "))}if(""===n)return"";n=this.$_.trim(n,",");var a=""===e?"":"\n      fragment fields on Permission {\n        id\n        userGroup {\n          id\n          code\n          name\n        }\n        menu {\n          id\n          name\n        }\n        permissionGroups {\n          id\n          actionGroup {\n            id\n            code\n            name\n            i18N\n          }\n          actions {\n            id\n            code\n            name\n            i18N\n          }\n        }\n      }",r=m()(h(),n,this.groupId,e,a);return r},checkMenus:function(){var e=this;this.$apollo.query({client:l["client"],query:s["c"],variables:{where:{}}}).then((function(n){var i=n.data.permissions||[];e.setCheckedMenus(i),e.loading=!1})).catch((function(n){console.error(n),e.loading=!1}))}},watch:{groupId:function(){this.loading=!0,this.getSignPermission()}},computed:y({isLoading:function(){return this.loading||this.$apollo.loading},groupActions:function(){var e=this,n=function e(n,i){for(var t=n.length,a=0;a<t;a++){var r=n[a];if(r.url===i)return r;if(r.menus.length){var o=e(r.menus,i);if(o)return o}}},i=n(this.$menus,g["t"]),t=i.actionGroups,a=t.find((function(n){return n.code===e.permissionGroupCode}));return a&&a.actions||[]},addActionId:function(){var e=this.groupActions.find((function(e){return e.code===g["b"]}));return e&&e.id||""},cancelActionId:function(){var e=this.groupActions.find((function(e){return e.code===g["f"]}));return e&&e.id||""}},O({$menus:"menus",$groupActions:"groupActions"}))},D=F,x=i("2877"),I=Object(x["a"])(D,t,a,!1,null,null,null);n["default"]=I.exports},"9bc3":function(e,n,i){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"where"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"SignatureGroupWhereUniqueInput"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"create"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"SignatureGroupCreateInput"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"update"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"SignatureGroupUpdateInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"node"},name:{kind:"Name",value:"upsertSignatureGroup"},arguments:[{kind:"Argument",name:{kind:"Name",value:"where"},value:{kind:"Variable",name:{kind:"Name",value:"where"}}},{kind:"Argument",name:{kind:"Name",value:"create"},value:{kind:"Variable",name:{kind:"Name",value:"create"}}},{kind:"Argument",name:{kind:"Name",value:"update"},value:{kind:"Variable",name:{kind:"Name",value:"update"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"fields"},directives:[]}]}}]}}],loc:{start:0,end:270}};t.loc.source={body:"#import './_fragment.gql'\r\n\r\nmutation(\r\n  $where: SignatureGroupWhereUniqueInput!\r\n  $create: SignatureGroupCreateInput!\r\n  $update: SignatureGroupUpdateInput!\r\n) {\r\n  node: upsertSignatureGroup(where: $where, create: $create, update: $update) {\r\n    ...fields\r\n  }\r\n}\r\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};function r(e){return e.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var n=e.name.value;return!a[n]&&(a[n]=!0,!0)}))}function o(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){o(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){o(e,n)})),e.definitions&&e.definitions.forEach((function(e){o(e,n)}))}t.definitions=t.definitions.concat(r(i("e223").definitions));var d={};(function(){t.definitions.forEach((function(e){if(e.name){var n=new Set;o(e,n),d[e.name.value]=n}}))})(),e.exports=t},"9c03":function(e,n){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"deleteSignatureRule"},arguments:[{kind:"Argument",name:{kind:"Name",value:"where"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:80}};i.loc.source={body:"mutation($id: ID!) {\r\n  deleteSignatureRule(where: { id: $id}) {\r\n    id\r\n  }\r\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};function t(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){t(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){t(e,n)})),e.definitions&&e.definitions.forEach((function(e){t(e,n)}))}var a={};(function(){i.definitions.forEach((function(e){if(e.name){var n=new Set;t(e,n),a[e.name.value]=n}}))})(),e.exports=i},"9e69":function(e,n,i){var t=i("2b3e7"),a=t.Symbol;e.exports=a},"9eb5":function(e,n){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"where"}},type:{kind:"NamedType",name:{kind:"Name",value:"PermissionWhereInput"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"deleteManyPermissions"},arguments:[{kind:"Argument",name:{kind:"Name",value:"where"},value:{kind:"Variable",name:{kind:"Name",value:"where"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"count"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:103}};i.loc.source={body:"mutation($where: PermissionWhereInput) {\r\n  deleteManyPermissions(where: $where) {\r\n    count\r\n  }\r\n}\r\n",name:"GraphQL request",locationOffset:{line:1,column:1}};function t(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){t(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){t(e,n)})),e.definitions&&e.definitions.forEach((function(e){t(e,n)}))}var a={};(function(){i.definitions.forEach((function(e){if(e.name){var n=new Set;t(e,n),a[e.name.value]=n}}))})(),e.exports=i},a250:function(e,n,i){"use strict";var t=function(){var e=this,n=e.$createElement,i=e._self._c||n;return i("Card",{staticClass:"flex-panel",attrs:{border:e.border,"dis-hover":e.disHover,icon:e.icon,padding:0,shadow:e.shadow,title:e.title}},[e.hideHeader?e._e():e._t("title",null,{slot:"title"}),e.hideHeader?e._e():e._t("extra",null,{slot:"extra"}),i("div",{staticClass:"flex-panel-body",style:{padding:e.padding+"px"}},[e._t("default")],2),e.hideFooter?e._e():i("div",{staticClass:"flex-panel-footer"},[e._t("footer")],2)],2)},a=[],r=(i("c5f6"),{name:"flex-panel",props:{border:{type:Boolean,default:!0},disHover:{type:Boolean,default:!1},shadow:{type:Boolean,default:!1},padding:{type:Number,default:16},icon:{type:String,default:""},title:{type:String,default:""},hideFooter:{type:Boolean,default:!1},hideHeader:{type:Boolean,default:!1}}}),o=r,d=(i("5129"),i("2877")),s=Object(d["a"])(o,t,a,!1,null,"7989b626",null),c=s.exports;n["a"]=c},a75f:function(e,n,i){"use strict";i.r(n);var t=i("be16");n["default"]=t["default"]},ab74:function(e,n,i){"use strict";i.r(n);var t=function(){var e=this,n=e.$createElement,i=e._self._c||n;return i("flex-panel",{staticClass:"rule",staticStyle:{height:"100%"},attrs:{hideFooter:!0,title:e.$t("system.signRule.signRule"),icon:"ios-color-filter-outline"}},[i("actions",{staticClass:"actions",attrs:{slot:"extra",options:e.actionsOptions,groupCode:"rules"},on:{add:e.add,edit:e.edit,refresh:e.refresh,remove:e.remove},slot:"extra"}),i("div",{staticClass:"data-table",staticStyle:{width:"100%",height:"100%"}},[i("ag-grid",{ref:"fitGrid",staticClass:"ag-theme-material",staticStyle:{width:"100%",height:"100%"},attrs:{gridOptions:e.gridOptions,modules:e.modules}})],1),i("edit-modal",{ref:"editModal",attrs:{loading:e.editModal.loading},on:{cancel:e.cancel,ok:e.ok}},[i("Form",{ref:"editModalForm",attrs:{"label-width":80,model:e.editModal.data,rules:e.editModal.rules}},[i("FormItem",{attrs:{label:e.$t("system.signRule.name"),prop:"name"}},[i("Input",{attrs:{placeholder:e.$t("common.rules.plsInput")},model:{value:e.editModal.data.name,callback:function(n){e.$set(e.editModal.data,"name",n)},expression:"editModal.data.name"}})],1),i("FormItem",{attrs:{label:e.$t("system.signRule.category"),prop:"category"}},[i("Select",{on:{"on-change":e.selectCategory},model:{value:e.editModal.data.category,callback:function(n){e.$set(e.editModal.data,"category",n)},expression:"editModal.data.category"}},e._l(e.signatureCategory&&e.signatureCategory.db_enumType?e.signatureCategory.db_enumType:[],(function(n){return i("Option",{key:n.name,attrs:{value:n.name}},[e._v(e._s(e.$t("system.signRule.categoryArr."+n.name)))])})),1)],1),i("FormItem",{attrs:{label:e.$t("system.signRule.value"),prop:"value"}},[i("Select",{attrs:{disabled:"LOGINUSER"==e.editModal.data.category},on:{"on-change":e.selectValue},model:{value:e.editModal.data.value,callback:function(n){e.$set(e.editModal.data,"value",n)},expression:"editModal.data.value"}},e._l(e.valueArray&&e.valueArray.length>0?e.valueArray:[],(function(n){return i("Option",{key:n.code,attrs:{value:n.code}},[e._v(e._s(n.name))])})),1)],1),i("FormItem",{attrs:{label:e.$t("system.signRule.action"),prop:"action"}},[i("Select",{on:{"on-change":e.selectAction},model:{value:e.editModal.data.action,callback:function(n){e.$set(e.editModal.data,"action",n)},expression:"editModal.data.action"}},e._l(e.signatureAction&&e.signatureAction.db_enumType?e.signatureAction.db_enumType:[],(function(n){return i("Option",{key:n.name,attrs:{value:n.name}},[e._v(e._s(e.$t("system.signRule.actionArr."+n.name)))])})),1)],1),i("FormItem",{attrs:{label:e.$t("system.signRule.group"),prop:"groupId"}},[i("Select",{attrs:{disabled:""==e.editModal.data.group.name},on:{"on-change":e.select},model:{value:e.editModal.data.groupId,callback:function(n){e.$set(e.editModal.data,"groupId",n)},expression:"editModal.data.groupId"}},e._l(e.datagroups&&e.datagroups.length>0?e.datagroups:[],(function(n){return i("Option",{key:n.id,attrs:{value:n.id}},[e._v(e._s(n.name))])})),1)],1),i("FormItem",{attrs:{label:e.$t("system.signRule.description"),prop:"description"}},[i("Input",{attrs:{placeholder:e.$t("common.rules.plsInput")},model:{value:e.editModal.data.description,callback:function(n){e.$set(e.editModal.data,"description",n)},expression:"editModal.data.description"}})],1)],1)],1)],1)},a=[],r=(i("8e6e"),i("ac6a"),i("456d"),i("ade3")),o=(i("7f7f"),i("96cf"),i("1da1")),d=i("f88e"),s=i("a250"),c=i("6689"),l=i("e7f7"),u=i("9974b"),m=i("b627"),f=i("3595"),v=i("6ad0"),p=i("91f5"),k=i("c9e5"),g=i("8eac"),h=i("5946"),b=i("70af"),y=i("7638");function N(e,n){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),i.push.apply(i,t)}return i}function S(e){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?N(Object(i),!0).forEach((function(n){Object(r["a"])(e,n,i[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):N(Object(i)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))}))}return e}var $={name:"rule",mixins:[l["a"],m["a"],h["a"],b["validMixins"]],apollo:{signatureGroups:{client:c["client"],query:p["c"],result:function(e){var n=e.data,i=e.loading;i||(this.datagroups=n.signatureGroups)}},userGroups:{client:c["client"],query:k["e"],result:function(e){var n=e.data,i=e.loading;if(!i){this.valueArray=this.oldValueArray=n.userGroups;var t="---",a={code:t};this.newValueArray.push(a)}}}},components:{actions:d["a"],flexPanel:s["a"],editModal:g["a"]},props:{groupId:{type:String,default:""}},data:function(){var e=this,n=function(n,i,t){e.$regex.nameReg.test(i)?e.$_.isEmpty(i)?t():e.uniqueNameValidate(t,i,e.editModal.data.id):t(new Error(e.$t("validate.nameReg",{name:e.$t("system.signRule.name")})))},i=function(n,i,t){e.$_.isEmpty(i)?t():e.uniqueCateValueValidate(t,e.editModal.data.category,i,e.editModal.data.id)};return{modules:u["a"],gridOptions:this.$_.assign(this.$agGetDefaultGridOptions(),{onGridReady:this.gridReady.bind(this),onSelectionChanged:this.selectionChanged.bind(this),onFilterChanged:this.onFilterChanged.bind(this),pagination:!0,columnDefs:[{type:["rowNumberColumn"],width:50},{headerName:this.$t("system.signRule.name"),field:"name"},{headerName:this.$t("system.signRule.category"),field:"category",filter:!1,valueFormatter:this.categoryFormatter},{headerName:this.$t("system.signRule.value"),field:"value",valueFormatter:this.valueFormatter},{headerName:this.$t("system.signRule.action"),field:"action",filter:!1,valueFormatter:this.actionTypeFormatter},{headerName:this.$t("common.labels.createdAt"),field:"createdAt",cellRendererFramework:f["a"],filter:"agDateColumnFilter",width:200},{headerName:this.$t("common.labels.updatedAt"),cellRendererFramework:f["a"],field:"updatedAt",filter:"agDateColumnFilter",width:200,sort:"desc"}]}),gridApi:null,columnApi:null,datagroups:[],action:"",category:"",newValueArray:[],oldValueArray:[],valueArray:[],editModal:{loading:!1,visible:!1,data:this.getDefaultData(),rules:{name:[{required:!0,message:this.$t("common.rules.plsInput"),trigger:"blur"},{validator:n,trigger:"blur"}],category:{required:!0,message:this.$t("common.rules.plsInput"),trigger:"change"},value:[{required:!0,message:this.$t("common.rules.plsInput"),trigger:"change"},{validator:i,trigger:"change"}],action:{required:!0,message:this.$t("common.rules.plsInput"),trigger:"change"},groupId:{required:!0,message:this.$t("common.rules.plsInput"),trigger:"change"},description:[{message:this.$t("common.rules.plsInput"),trigger:"blur"},{validator:function(n,i,t){e.$regex.special.test(i)?t(new Error(e.$t("validate.special"))):t()},trigger:"change"}]}},actionsOptions:{edit:{visible:!0,disabled:!0},remove:{visible:!0,disabled:!0}},ruleCount:0,signatureAction:[],signatureCategory:[],isAllowDefaultSelected:!0}},created:function(){this.getEnumData()},methods:{getEnumData:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(v["a"])("SignatureAction");case 2:return this.signatureAction=e.sent,this.action=this.signatureAction.db_enumType[0].name,e.next=6,Object(v["a"])("SignatureCategory");case 6:this.signatureCategory=e.sent,this.category=this.signatureCategory.db_enumType[0].name;case 8:case"end":return e.stop()}}),e,this)})));function n(){return e.apply(this,arguments)}return n}(),categoryFormatter:function(e){var n=this.$t("system.signRule.categoryArr."+e.value);return n},valueFormatter:function(e){for(var n,i=0;i<this.valueArray.length;i++)e.value==this.valueArray[i].code&&(n=this.valueArray[i].name);return n},actionTypeFormatter:function(e){var n=this.$t("system.signRule.actionArr."+e.value);return n},select:function(e){this.editModal.data.group.id=e},selectCategory:function(e){this.ValueArray=[];for(var n=0;n<this.signatureCategory.db_enumType.length;n++)e==this.signatureCategory.db_enumType[n].name&&(this.valueArray=0==n?this.oldValueArray:this.newValueArray,this.editModal.data.value=this.valueArray[0].code)},selectAction:function(){},selectValue:function(){},gridReady:function(e){this.gridApi=e.api,this.columnApi=e.columnApi,this.gridApi.sizeColumnsToFit(),e.api.setServerSideDatasource(this.serverSideDatasource())},selectionChanged:function(e){var n=e.api.getSelectedRows();this.actionsOptions.remove.disabled=this.actionsOptions.edit.disabled=!(n&&n.length>0)},onFilterChanged:function(){this.refresh()},getDefaultData:function(){return{name:"",category:"",value:"",action:"",groupId:"",group:{id:"",name:""},description:""}},add:function(){this.valueArray=this.oldValueArray,this.editModal.data=this.getDefaultData(),this.$refs.editModalForm.resetFields(),this.editModal.data.action=this.action,this.editModal.data.category=this.category,this.editModal.data.groupId=this.groupId,this.editModal.data.value=this.valueArray[0].code,this.editModal.data.group.id=this.groupId,this.editModal.loading=!1,this.$refs.editModal.open()},edit:function(){this.$refs.editModalForm.resetFields();var e=this.getSelectedNode();e?(this.editModal.data=S(S({},this.getDefaultData()),e.data),"LOGINUSER"==this.editModal.data.category?this.valueArray=this.newValueArray:this.valueArray=this.oldValueArray,this.editModal.data.groupId=this.editModal.data.group.id,this.editModal.loading=!1,this.$refs.editModal.open(!0)):this.$Message.warning(this.$t("common.messages.plsSelectRow"))},cancel:function(){this.$refs.editModalForm.resetFields(),!0!==this.editModal.loading&&(this.editModal.data=this.getDefaultData(),this.editModal.loading=!1,this.$refs.editModal.close())},ok:function(){var e=this;this.editModal.loading=!0,this.$refs.editModalForm.validate((function(n){if(n){var i=e.editModal.data,t=i.id,a=i.name,r=i.category,o=i.value,d=i.action,s=i.group,l=i.description,u={name:a,category:r,value:o,action:d,group:{connect:{id:s.id}},description:l},m={where:{id:t||"undefined"},create:u,update:u};e.$apollo.mutate({mutation:p["d"],variables:m,client:c["client"]}).then((function(n){if(t){var i=e.getSelectedNode();i.setData(Object.assign(i.data,S({},n.data.node)))}else e.gridApi.setSortModel([{colId:"createdAt",sort:"desc"}]),e.$emit("rulechange",e.ruleCount);e.$refs.editModal.close(),e.editModal.loading=!1,e.$Message.success(e.$t("common.messages.saveSuccess")),e.gridApi.purgeServerSideCache()})).catch((function(){e.editModal.loading=!1,e.$Message.error(e.$t("common.messages.saveFailure"))}))}else e.editModal.loading=!1,e.$Message.error(e.$t("common.rules.validateFailure"))}))},getSelectedNode:function(){var e=this.gridApi.getSelectedNodes();return e&&e.length>0&&e[0]&&e[0].id?e[0]:null},remove:function(){var e=this,n=this.getSelectedNode();if(n){var i=n.id;this.$apollo.mutate({mutation:p["b"],variables:{id:i},client:c["client"]}).then((function(){e.gridApi.deselectAll(),e.gridApi.purgeServerSideCache(),e.$Message.success(e.$t("common.messages.removeSuccess"))})).catch((function(){e.$Message.error(e.$t("common.messages.removeFailure"))}))}else this.$Message.warning(this.$t("common.messages.plsSelectRow"))},refresh:function(){this.gridApi.deselectAll(),this.gridApi.purgeServerSideCache()},serverSideDatasource:function(){var e=this;return{getRows:function(n){var i=n.request,t={skip:i.startRow,first:i.endRow-i.startRow};t.orderBy=e.$agGenerateOrderByFromSortModel(i.sortModel);var a=e.$agGenerateWhereFromFiltersModel(n.request.filterModel);a.group={id:e.groupId},t.where=a,e.$apollo.query({query:p["a"],variables:t,client:c["client"]}).then((function(i){var t=i.data;e.ruleCount=t.total.aggregate.count,e.$emit("rulechange",e.ruleCount),n.successCallback(t.list,t.total.aggregate.count);var a=e.gridApi.getSelectedNodes();if(e.isAllowDefaultSelected)if(a.length>0)for(var r=0;r<t.list.length;r++)t.list[r].id!=a[0].id&&e.gridApi.getRenderedNodes()[0].setSelected(!0);else t.list.length>0&&e.gridApi.getRenderedNodes()[0].setSelected(!0);else a.length>0&&e.deselectAll()}))}}},uniqueNameValidate:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(n,i){var t,a=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=a.length>2&&void 0!==a[2]?a[2]:"",e.next=3,this.validUnique({propName:"name",propVal:i,id:t,moduleName:y["e"].SignatureRule,where:{group:{id:this.groupId}}},n);case 3:case"end":return e.stop()}}),e,this)})));function n(n,i){return e.apply(this,arguments)}return n}(),uniqueCateValueValidate:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(n,i,t){var a,r=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=r.length>3&&void 0!==r[3]?r[3]:"",e.next=3,this.validUnique({propName:"value",propVal:t,id:a,moduleName:y["e"].SignatureRule,where:{group:{id:this.groupId},category:i},zhPropVal:this.valueFormatter({value:t})},n);case 3:case"end":return e.stop()}}),e,this)})));function n(n,i,t){return e.apply(this,arguments)}return n}()},watch:{groupId:function(){null!=this.gridApi&&(this.gridApi.purgeServerSideCache(),this.actionsOptions.edit.disabled=!0,this.actionsOptions.remove.disabled=!0,this.gridApi.deselectAll())}},compouted:{opts:function(){return this.signatureCategory&&this.signatureCategory.db_enumType&&this.signatureCategory.db_enumType.length>0?this.signatureCategory.db_enumType:[]}}},w=$,O=(i("72ec"),i("2877")),F=Object(O["a"])(w,t,a,!1,null,"dd57efe2",null);n["default"]=F.exports},ad26:function(e,n,i){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"permissionGroupId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"connect"}},type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ActionWhereUniqueInput"}}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"disconnect"}},type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ActionWhereUniqueInput"}}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"node"},name:{kind:"Name",value:"updatePermission"},arguments:[{kind:"Argument",name:{kind:"Name",value:"where"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}]}},{kind:"Argument",name:{kind:"Name",value:"data"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"permissionGroups"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"update"},value:{kind:"ListValue",values:[{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"where"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"permissionGroupId"}}}]}},{kind:"ObjectField",name:{kind:"Name",value:"data"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"actions"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"disconnect"},value:{kind:"Variable",name:{kind:"Name",value:"disconnect"}}},{kind:"ObjectField",name:{kind:"Name",value:"connect"},value:{kind:"Variable",name:{kind:"Name",value:"connect"}}}]}}]}}]}]}}]}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"fields"},directives:[]}]}}]}}],loc:{start:0,end:484}};t.loc.source={body:"#import './_fragment.gql'\r\n\r\nmutation(\r\n  $id: ID!\r\n  $permissionGroupId: ID!\r\n  $connect: [ActionWhereUniqueInput!]\r\n  $disconnect: [ActionWhereUniqueInput!]\r\n) {\r\n  node: updatePermission(\r\n    where: { id: $id }\r\n    data: {\r\n      permissionGroups: {\r\n        update: [\r\n          {\r\n            where: { id: $permissionGroupId }\r\n            data: { actions: { disconnect: $disconnect, connect: $connect } }\r\n          }\r\n        ]\r\n      }\r\n    }\r\n  ) {\r\n    ...fields\r\n  }\r\n}\r\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};function r(e){return e.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var n=e.name.value;return!a[n]&&(a[n]=!0,!0)}))}function o(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){o(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){o(e,n)})),e.definitions&&e.definitions.forEach((function(e){o(e,n)}))}t.definitions=t.definitions.concat(r(i("fa30").definitions));var d={};(function(){t.definitions.forEach((function(e){if(e.name){var n=new Set;o(e,n),d[e.name.value]=n}}))})(),e.exports=t},b047:function(e,n){function i(e){return function(n){return e(n)}}e.exports=i},b12b:function(e,n,i){"use strict";i.r(n);var t=function(){var e=this,n=e.$createElement,i=e._self._c||n;return e.model.menus&&e.model.menus.length>0?i("Collapse",{ref:"collapse",staticClass:"menu-tree",model:{value:e.model.$opened,callback:function(n){e.$set(e.model,"$opened",n)},expression:"model.$opened"}},e._l(e.model.menus,(function(n){return i("Panel",{key:n.id,staticClass:"menu-tree-item",class:{leaf:e.isLeaf(n)},attrs:{"hide-arrow":e.isLeaf(n),name:n.id}},[i("span",{staticClass:"title",on:{click:function(e){return e.stopPropagation(),function(){return!1}()}}},[i("Icon",{attrs:{type:n.icon}}),e._v("\n      "+e._s(e.existI18N(n.i18N)?e.$t(n.i18N):n.name)+"\n    ")],1),!e.isFolder(n)&&n.actionGroups&&n.actionGroups.length>0?i("div",{staticClass:"actions",attrs:{slot:"content"},slot:"content"},e._l(n.actionGroups,(function(t){return i("Row",{key:t.id},[t.code!=e.signPermissionGroupCode?i("Col",{attrs:{span:"4"}},[i("div",{staticClass:"label"},[i("b",[e._v(e._s(t.name))])])]):e._e(),t.code!==e.signPermissionGroupCode?i("Col",{attrs:{span:"20"}},[i("actions-checkboxs",{staticClass:"items",attrs:{groupId:e.groupId},on:{changed:function(i,a){return e.actionsChanged(n,i,a,t)}},model:{value:t.actions,callback:function(n){e.$set(t,"actions",n)},expression:"group.actions"}})],1):e._e()],1)})),1):i("div",{attrs:{slot:"content"},slot:"content"},[i("menu-tree-item",{attrs:{groupId:e.groupId,model:n},on:{actionsChanged:e.actionsChanged,changed:function(i,t){return e.cldChkChed(n,i,t)}}})],1)])})),1):e._e()},a=[],r=i("53ca"),o=i("a75f"),d=i("f121"),s={name:"menu-tree-item",components:{actionsCheckboxs:o["default"]},props:{model:{type:Object},groupId:{type:String}},data:function(){return{signPermissionGroupCode:d["v"].system.signManage.signPermControl}},methods:{existI18N:function(e){var n=this.$t(e);return!0===this.$te(e)&&"object"!==Object(r["a"])(n)},isFolder:function(e){return e&&e.menus&&e.menus.length>0},isLeaf:function(e){return(!e.menus||e.menus.length<1)&&(!e.actions||e.actions.length<1)},actionsChanged:function(e,n,i,t){this.$emit("actionsChanged",e,n,i,t)},cldChkChed:function(e,n,i){var t=this.$_.filter(e.menus,(function(e){return!0===e.$checked||!0===e.$indeterminate})),a=t.length>0&&t.length===e.menus.length,r=t.length>0&&t.length<e.menus.length;this.$set(e,"$checked",a),this.$set(e,"$indeterminate",r),this.$emit("changed",n,i)}}},c=s,l=(i("35da"),i("2877")),u=Object(l["a"])(c,t,a,!1,null,"0e918e72",null);n["default"]=u.exports},b218:function(e,n){var i=9007199254740991;function t(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=i}e.exports=t},b6a9:function(e,n,i){"use strict";var t=i("eff2"),a=i.n(t);a.a},b752:function(e,n,i){"use strict";i.d(n,"b",(function(){return t})),i.d(n,"a",(function(){return a}));var t={add:{icon:"md-add"},edit:{icon:"md-create"},copy:{},remove:{icon:"md-remove"},refresh:{icon:"md-refresh"},upCopy:{},export:{icon:"md-cloud-download"},print:{icon:"md-print"},upload:{icon:"ios-clund-upload-outline"},download:{icon:"ios-clund-download-outline"},expandAll:{icon:"ios-arrow-dropdown"},collapsedAll:{icon:"ios-arrow-dropup"},checkedAll:{icon:"ios-checkbox-outline"},uncheckedAll:{icon:"ios-square-outline"},start:{icon:"md-play"},stop:{icon:"md-square"},finish:{icon:"md-done-all"},pause:{icon:"md-pause"},goon:{icon:"md-play"},forward:{icon:"md-skip-forward"},backward:{icon:"md-skip-backward"},move:{icon:"md-move"},redo:{icon:"md-redo"},undo:{icon:"md-undo"},reset:{icon:"md-ionic"},import:{icon:"md-cloud-upload"},resetPassword:{},lock:{},upgrade:{icon:"md-arrow-back"},degrade:{icon:"md-arrow-forward"},downward:{icon:"md-arrow-down"},upward:{icon:"md-arrow-up"},design:{}},a=[{code:"add",i18N:"common.actions.add"},{code:"edit",i18N:"common.actions.edit"},{code:"associate",i18N:"common.actions.associate"},{code:"tag",i18N:"common.actions.tag"},{code:"copy",i18N:"common.actions.copy"},{code:"remove",i18N:"common.actions.remove"},{code:"refresh",i18N:"common.actions.refresh"},{code:"upCopy",i18N:"common.actions.upCopy"},{code:"export",i18N:"common.actions.export"},{code:"print",i18N:"common.actions.print"},{code:"upload",i18N:"common.actions.upload"},{code:"download",i18N:"common.actions.download"},{code:"expandAll",i18N:"common.actions.expandAll"},{code:"collapsedAll",i18N:"common.actions.collapsedAll"},{code:"checkedAll",i18N:"common.actions.checkedAll"},{code:"uncheckedAll",i18N:"common.actions.uncheckedAll"},{code:"start",i18N:"common.actions.start"},{code:"stop",i18N:"common.actions.stop"},{code:"finish",i18N:"common.actions.finish"},{code:"pause",i18N:"common.actions.pause"},{code:"forward",i18N:"common.actions.forward"},{code:"backward",i18N:"common.actions.backward"},{code:"move",i18N:"common.actions.move"},{code:"redo",i18N:"common.actions.redo"},{code:"undo",i18N:"common.actions.undo"},{code:"reset",i18N:"common.actions.reset"},{code:"commit",i18N:"common.actions.commit"},{code:"allow",i18N:"common.actions.allow"},{code:"withdraw",i18N:"common.actions.withdraw"},{code:"Verification",i18N:"common.actions.Verification"},{code:"cancelVerification",i18N:"common.actions.cancelVerification"},{code:"loseEfficacy",i18N:"common.actions.loseEfficacy"},{code:"takeEfficacy",i18N:"common.actions.takeEfficacy"},{code:"correct",i18N:"common.actions.correct"},{code:"release",i18N:"common.actions.release"},{code:"cancel",i18N:"common.actions.cancel"},{code:"termination",i18N:"common.actions.termination"},{code:"close",i18N:"common.actions.close"},{code:"Printing",i18N:"common.actions.Printing"},{code:"save",i18N:"common.actions.save"},{code:"import",i18N:"common.actions.import"},{code:"resetPassword",i18N:"common.actions.resetPassword"},{code:"lock",i18N:"common.actions.lock",confirm:!0,confrimTip:"common.messages.lockConfirm"},{code:"unLock",i18N:"common.actions.unlock",confirm:!0,confrimTip:"common.messages.unLockConfirm"},{code:"upgrade",i18N:"common.actions.upgrade"},{code:"degrade",i18N:"common.actions.degrade"},{code:"downward",i18N:"common.actions.downward"},{code:"upward",i18N:"common.actions.upward"},{code:"design",i18N:"common.actions.design"},{code:"invertSelection",i18N:"common.actions.invertSelection"},{code:"searchBtn",i18N:"common.actions.searchBtn"},{code:"execute",i18N:"common.actions.execute"},{code:"search",i18N:"common.actions.search"},{code:"loadMore",i18N:"common.actions.loadMore"},{code:"see",i18N:"common.actions.see"},{code:"equipment",i18N:"common.actions.equipment"},{code:"detail",i18N:"common.actions.detail"},{code:"signatureConfig",i18N:"common.actions.signatureConfig"}]},b76e:function(e,n,i){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"where"}},type:{kind:"NamedType",name:{kind:"Name",value:"PermissionWhereInput"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"permissions"},arguments:[{kind:"Argument",name:{kind:"Name",value:"where"},value:{kind:"Variable",name:{kind:"Name",value:"where"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"fields"},directives:[]}]}}]}}],loc:{start:0,end:123}};t.loc.source={body:"#import './_fragment.gql'\r\n\r\nquery($where: PermissionWhereInput) {\r\n  permissions(where: $where) {\r\n    ...fields\r\n  }\r\n}\r\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};function r(e){return e.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var n=e.name.value;return!a[n]&&(a[n]=!0,!0)}))}function o(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){o(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){o(e,n)})),e.definitions&&e.definitions.forEach((function(e){o(e,n)}))}t.definitions=t.definitions.concat(r(i("fa30").definitions));var d={};(function(){t.definitions.forEach((function(e){if(e.name){var n=new Set;o(e,n),d[e.name.value]=n}}))})(),e.exports=t},be12:function(e,n){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"moduleList"},name:{kind:"Name",value:"modules"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"code"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"path"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"enable"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:86}};i.loc.source={body:"{\r\n  moduleList: modules {\r\n    id\r\n    name\r\n    code\r\n    path\r\n    enable\r\n  }\r\n}\r\n",name:"GraphQL request",locationOffset:{line:1,column:1}};function t(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){t(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){t(e,n)})),e.definitions&&e.definitions.forEach((function(e){t(e,n)}))}var a={};(function(){i.definitions.forEach((function(e){if(e.name){var n=new Set;t(e,n),a[e.name.value]=n}}))})(),e.exports=i},be16:function(e,n,i){"use strict";i.r(n);var t=function(){var e=this,n=e.$createElement,i=e._self._c||n;return i("div",{staticClass:"actions-checkboxs"},[e.value&&e.value.length>0?i("div",{staticClass:"actions-checkboxs-items"},[e._l(e.value,(function(n,t){return[i("Checkbox",{key:n.id,attrs:{disabled:!n.$disabled,title:n.$disabled?n.$group&&n.$group.group&&n.$group.group.name:e.$t("system.signPermission.noOperationalPermission")},on:{"on-change":function(i){return e.actionChange(n,i)}},model:{value:n.$checked,callback:function(i){e.$set(n,"$checked",i)},expression:"v.$checked"}},[e._v("\n        "+e._s(e.existI18N("common.actions."+n.code)?e.$t("common.actions."+n.code):n.name)+"\n        "),n.$disabled&&n.$group&&n.$group.group&&n.$group.group.id==e.groupId?[i("Icon",{attrs:{color:"green",type:"md-egg"}})]:n.$disabled&&n.$group&&n.$group.group&&n.$group.group.id!=e.groupId?[i("Icon",{attrs:{color:"orange",type:"md-egg"}})]:n.$disabled?e._e():[i("Icon",{attrs:{color:"red",type:"md-egg"}})]],2),t!=e.value.length-1?i("span",{key:t,staticStyle:{width:"5px"}}):e._e()]}))],2):e._e()])},a=[],r=(i("ac6a"),i("ac4d"),i("8a81"),i("5df3"),i("1c4c"),i("6b54"),i("53ca"));i("7f7f");function o(e,n){var i;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(i=d(e))||n&&e&&"number"===typeof e.length){i&&(e=i);var t=0,a=function(){};return{s:a,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,o=!0,s=!1;return{s:function(){i=e[Symbol.iterator]()},n:function(){var e=i.next();return o=e.done,e},e:function(e){s=!0,r=e},f:function(){try{o||null==i.return||i.return()}finally{if(s)throw r}}}}function d(e,n){if(e){if("string"===typeof e)return s(e,n);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?s(e,n):void 0}}function s(e,n){(null==n||n>e.length)&&(n=e.length);for(var i=0,t=new Array(n);i<n;i++)t[i]=e[i];return t}var c={name:"actions-checkboxs",props:{value:{type:Array,default:function(){return[]}},disabled:{type:Boolean,default:!1},groupId:{type:String,default:""}},data:function(){return{checkedAll:!1,indeterminate:!1}},methods:{actionChange:function(e,n){n||e.$disabled&&e.$group&&e.$group.group&&e.$group.group.id==this.groupId?this.$emit("changed",e,n):this.confirm(e,n)},confirm:function(e,n){var i=this,t=e.$group.group.name,a=e.name;this.$Modal.confirm({title:this.$t("system.signPermission.isDelete"),content:this.$t("system.signPermission.deleteContent",{actionName:a,content:t}),onOk:function(){i.$emit("changed",e,n)},onCancel:function(){for(var n=0;n<i.value.length;n++)e.id==i.value[n].id&&i.$set(i.value[n],"$checked",!0)}})},checkAll:function(e){this.indeterminate=!1;var n,i=o(this.value);try{for(i.s();!(n=i.n()).done;){var t=n.value;this.$set(t,"$checked",e)}}catch(r){i.e(r)}finally{i.f()}var a=this.getCheckedItems();this.$emit("changed",a)},getCheckedItems:function(){var e=this.$_.filter(this.value,"$checked",!0);return e&&e.length>0?this.$_.map(e,(function(e){return{id:e.id,code:e.code,name:e.name}})):[]},existI18N:function(e){var n=this.$t(e);return!0===this.$te(e)&&"object"!==Object(r["a"])(n)}}},l=c,u=(i("b6a9"),i("2877")),m=Object(u["a"])(l,t,a,!1,null,"9905bf86",null);n["default"]=m.exports},bedc:function(e,n,i){"use strict";i.r(n);var t=function(){var e=this,n=e.$createElement,i=e._self._c||n;return i("flex-panel",{staticClass:"group",attrs:{"hide-footer":!0,icon:"md-finger-print"}},[i("p",{attrs:{slot:"title"},slot:"title"},[i("Icon",{attrs:{type:"md-finger-print"}}),e._v("\n    "+e._s(e.$t("system.signGroup.title"))+"\n  ")],1),i("actions",{attrs:{slot:"extra",options:e.actionsOptions,groupCode:"strategy"},on:{add:e.add,edit:e.modify,refresh:e.refresh,remove:e.remove},slot:"extra"}),i("CellGroup",{on:{"on-click":e.signGroupsClick}},e._l(e.signGroups,(function(n){return i("Cell",{key:n.id,attrs:{label:n.description,name:n.id,selected:e.selected&&e.selected.id===n.id,title:n.name}})})),1),i("edit-modal",{ref:"editModal",attrs:{modalWidth:640},on:{cancel:e.reset,ok:e.upsert}},[i("Form",{ref:"form",attrs:{"label-width":80,model:e.formModel,rules:e.rules}},[i("Row",[i("Col",{attrs:{span:"24"}},[i("FormItem",{attrs:{label:e.$t("system.signGroup.name"),prop:"name"}},[i("Input",{attrs:{placeholder:e.$t("common.placeholders.plsInput")},model:{value:e.formModel.name,callback:function(n){e.$set(e.formModel,"name",n)},expression:"formModel.name"}})],1)],1)],1),i("Row",[i("Col",{attrs:{span:"24"}},[i("FormItem",{attrs:{label:e.$t("system.signGroup.description"),prop:"description"}},[i("Input",{ref:"description",attrs:{placeholder:e.$t("common.placeholders.plsInput")},model:{value:e.formModel.description,callback:function(n){e.$set(e.formModel,"description",n)},expression:"formModel.description"}})],1)],1)],1)],1)],1)],1)},a=[],r=(i("ac6a"),i("ac4d"),i("8a81"),i("5df3"),i("1c4c"),i("6b54"),i("7f7f"),i("96cf"),i("1da1")),o=i("6689"),d=i("c3cc"),s=i("083f"),c=i("f88e"),l=i("a250"),u=i("8eac"),m=i("70af"),f=i("7638");function v(e,n){var i;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(i=p(e))||n&&e&&"number"===typeof e.length){i&&(e=i);var t=0,a=function(){};return{s:a,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,o=!0,d=!1;return{s:function(){i=e[Symbol.iterator]()},n:function(){var e=i.next();return o=e.done,e},e:function(e){d=!0,r=e},f:function(){try{o||null==i.return||i.return()}finally{if(d)throw r}}}}function p(e,n){if(e){if("string"===typeof e)return k(e,n);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?k(e,n):void 0}}function k(e,n){(null==n||n>e.length)&&(n=e.length);for(var i=0,t=new Array(n);i<n;i++)t[i]=e[i];return t}var g={id:"",description:"",name:""},h={name:"user-group",components:{flexPanel:l["a"],actions:c["a"],editModal:u["a"]},mixins:[m["validMixins"]],apollo:{signGroups:{query:d["c"],client:o["client"],manual:!0,result:function(e){var n=this,i=e.data;if(this.signGroups=i.signatureGroups,this.signGroups.length>0){var t=this.selected;if(t){var a,r=v(this.signGroups);try{for(r.s();!(a=r.n()).done;){var o=a.value;o.id===t.id&&(t=o)}}catch(d){r.e(d)}finally{r.f()}}else t=this.signGroups[0],this.formModel=Object.assign({},t);this.$nextTick().then((function(){n.selected=t,n.selectedId=t.id}))}}}},data:function(){var e=this,n=function(){var n=Object(r["a"])(regeneratorRuntime.mark((function n(i,t){var a,r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(a=e.$_.trim(i),e.$_.isEmpty(i)){n.next=7;break}return r=e.formModel.id||null,n.next=5,Object(s["b"])(o["client"],"SignatureGroup",{id_not:r,name:a},t,a);case 5:n.next=8;break;case 7:t();case 8:case"end":return n.stop()}}),n)})));return function(e,i){return n.apply(this,arguments)}}();return{signGroups:[],selected:null,isSubmit:!1,selectedId:"",formModel:Object.assign({},g),rules:{name:[{required:!0,message:this.$t("common.rules.plsInput")+this.$t("product.supplier.name")},{trigger:"blur",validator:function(){var i=Object(r["a"])(regeneratorRuntime.mark((function i(t,a,r){var o,d,s;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(o=a,d=e.validNameLength({val:o,min:1,max:f["a"].name}),"string"!==typeof d){i.next=5;break}return r(d),i.abrupt("return");case 5:if(s=e.validNameCharacter(o),"string"!==typeof s){i.next=9;break}return r(s),i.abrupt("return");case 9:return i.next=11,n(o,r);case 11:case"end":return i.stop()}}),i)})));function t(e,n,t){return i.apply(this,arguments)}return t}()}],description:[{message:this.$t("common.rules.plsInput")},{validator:function(n,i,t){e.$regex.special.test(i)?t(new Error(e.$t("validate.special"))):t()}}]},actionsOptions:{edit:{visible:!0,disabled:!1},remove:{visible:!0,disabled:!1}}}},watch:{selectedId:function(e){this.$emit("change",e)}},methods:{signGroupsClick:function(e){var n,i=this.selected,t=v(this.signGroups);try{for(t.s();!(n=t.n()).done;){var a=n.value;if(a.id===e){this.$refs.form.resetFields();var r=null===this.selected||this.selected.id!==e,o=a;return this.selected=o,this.selectedId=o.id,this.formModel=Object.assign({},o),void(!0===r&&this.$emit("changed",Object.assign({},o),Object.assign({},i)))}}}catch(d){t.e(d)}finally{t.f()}},remove:function(){var e=this;if(this.selected&&this.selected.id){var n={id:this.selected.id};this.$apollo.mutate({mutation:d["a"],variables:{where:n},client:o["client"]}).then((function(){e.refresh(),e.$Message.success(e.$t("common.messages.removeSuccess"))})).catch((function(){e.$Message.error(e.$t("common.messages.removeFailure"))}))}else this.$Message.warning(this.$t("common.messages.plsSelectRow"))},refresh:function(){this.$refs.form.resetFields(),this.selected=null,this.formModel=Object.assign({},g),this.$apollo.queries.signGroups.refetch()},add:function(){this.$refs.form.resetFields(),this.formModel=Object.assign({},g),this.$refs.editModal.open()},modify:function(){this.$refs.editModal.open(!0)},reset:function(){this.$refs.form.resetFields(),this.formModel=Object.assign({},this.selected||g),this.$refs.editModal.close()},upsert:function(){var e=this,n=!this.formModel.id;this.isSubmit=!0,this.$refs.form.validate((function(i){if(!i)return e.$Message.error(e.$t("common.rules.validateFailure")),void(e.isSubmit=!1);var t={id:e.formModel.id||""},a={name:e.formModel.name,description:e.formModel.description};e.$apollo.mutate({mutation:d["b"],variables:{where:t,create:a,update:a}}).then((function(i){!0===n?e.refresh():(Object.assign(e.selected,i.data.node),e.refresh(),e.$emit("nameChange")),e.$refs.editModal.close(),e.$Message.success(e.$t("common.messages.saveSuccess")),e.isSubmit=!1})).catch((function(){e.$Message.error(e.$t("common.messages.saveFailure"))}))}))}}},b=h,y=(i("7cb3"),i("2877")),N=Object(y["a"])(b,t,a,!1,null,"5f95fba3",null);n["default"]=N.exports},c098:function(e,n){var i=9007199254740991,t=/^(?:0|[1-9]\d*)$/;function a(e,n){var a=typeof e;return n=null==n?i:n,!!n&&("number"==a||"symbol"!=a&&t.test(e))&&e>-1&&e%1==0&&e<n}e.exports=a},c3cc:function(e,n,i){"use strict";var t=i("f6a5"),a=i.n(t);i.d(n,"c",(function(){return a.a}));var r=i("7f3a"),o=i.n(r);i.d(n,"a",(function(){return o.a}));var d=i("9bc3"),s=i.n(d);i.d(n,"b",(function(){return s.a}))},ca94:function(e,n,i){"use strict";var t=i("79f0"),a=i.n(t);a.a},ccf3:function(e,n,i){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"where"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"SignaturePermissionWhereUniqueInput"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"create"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"SignaturePermissionCreateInput"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"update"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"SignaturePermissionUpdateInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"node"},name:{kind:"Name",value:"upsertSignaturePermission"},arguments:[{kind:"Argument",name:{kind:"Name",value:"where"},value:{kind:"Variable",name:{kind:"Name",value:"where"}}},{kind:"Argument",name:{kind:"Name",value:"create"},value:{kind:"Variable",name:{kind:"Name",value:"create"}}},{kind:"Argument",name:{kind:"Name",value:"update"},value:{kind:"Variable",name:{kind:"Name",value:"update"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"fields"},directives:[]},{kind:"Field",name:{kind:"Name",value:"module"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"code"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"action"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"code"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"group"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:460}};t.loc.source={body:"#import './_fragment.gql'\r\n\r\nmutation(\r\n  $where: SignaturePermissionWhereUniqueInput!\r\n  $create: SignaturePermissionCreateInput!\r\n  $update: SignaturePermissionUpdateInput!\r\n) {\r\n  node: upsertSignaturePermission(\r\n    where: $where\r\n    create: $create\r\n    update: $update\r\n  ) {\r\n    ...fields\r\n    module {\r\n      id\r\n      name\r\n      code\r\n    }\r\n    action {\r\n      id\r\n      code\r\n      name\r\n    }\r\n    group {\r\n      id\r\n      name\r\n    }\r\n  }\r\n}\r\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};function r(e){return e.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var n=e.name.value;return!a[n]&&(a[n]=!0,!0)}))}function o(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){o(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){o(e,n)})),e.definitions&&e.definitions.forEach((function(e){o(e,n)}))}t.definitions=t.definitions.concat(r(i("82f1").definitions));var d={};(function(){t.definitions.forEach((function(e){if(e.name){var n=new Set;o(e,n),d[e.name.value]=n}}))})(),e.exports=t},cd06:function(e,n){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NamedType",name:{kind:"Name",value:"ID"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"module"},name:{kind:"Name",value:"module"},arguments:[{kind:"Argument",name:{kind:"Name",value:"where"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"code"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:94}};i.loc.source={body:"query($id: ID) {\r\n  module: module(where: { id: $id }) {\r\n    id\r\n    name\r\n    code\r\n  }\r\n}\r\n",name:"GraphQL request",locationOffset:{line:1,column:1}};function t(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){t(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){t(e,n)})),e.definitions&&e.definitions.forEach((function(e){t(e,n)}))}var a={};(function(){i.definitions.forEach((function(e){if(e.name){var n=new Set;t(e,n),a[e.name.value]=n}}))})(),e.exports=i},d330:function(e,n){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"groupCategory"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"SignatureCategory"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"value"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NamedType",name:{kind:"Name",value:"ID"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"subId"}},type:{kind:"NamedType",name:{kind:"Name",value:"ID"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"nodes"},name:{kind:"Name",value:"signatureRulesConnection"},arguments:[{kind:"Argument",name:{kind:"Name",value:"where"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"AND"},value:{kind:"ListValue",values:[{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"category"},value:{kind:"Variable",name:{kind:"Name",value:"groupCategory"}}},{kind:"ObjectField",name:{kind:"Name",value:"value"},value:{kind:"Variable",name:{kind:"Name",value:"value"}}},{kind:"ObjectField",name:{kind:"Name",value:"id_not"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}},{kind:"ObjectField",name:{kind:"Name",value:"group"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"subId"}}}]}}]}]}}]}},{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}},{kind:"Argument",name:{kind:"Name",value:"skip"},value:{kind:"IntValue",value:"0"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"aggregate"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"count"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:395}};i.loc.source={body:"query(\r\n  $groupCategory: SignatureCategory!\r\n  $value: String!\r\n  $id: ID\r\n  $subId: ID\r\n) {\r\n  nodes: signatureRulesConnection(\r\n    where: {\r\n      AND: [\r\n        {\r\n          category: $groupCategory\r\n          value: $value\r\n          id_not: $id\r\n          group: { id: $subId }\r\n        }\r\n      ]\r\n    }\r\n    first: 100\r\n    skip: 0\r\n  ) {\r\n    aggregate {\r\n      count\r\n    }\r\n  }\r\n}\r\n",name:"GraphQL request",locationOffset:{line:1,column:1}};function t(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){t(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){t(e,n)})),e.definitions&&e.definitions.forEach((function(e){t(e,n)}))}var a={};(function(){i.definitions.forEach((function(e){if(e.name){var n=new Set;t(e,n),a[e.name.value]=n}}))})(),e.exports=i},d370:function(e,n,i){var t=i("253c"),a=i("1310"),r=Object.prototype,o=r.hasOwnProperty,d=r.propertyIsEnumerable,s=t(function(){return arguments}())?t:function(e){return a(e)&&o.call(e,"callee")&&!d.call(e,"callee")};e.exports=s},d59d:function(e,n,i){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"where"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"SignatureRuleWhereUniqueInput"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"create"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"SignatureRuleCreateInput"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"update"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"SignatureRuleUpdateInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"node"},name:{kind:"Name",value:"upsertSignatureRule"},arguments:[{kind:"Argument",name:{kind:"Name",value:"where"},value:{kind:"Variable",name:{kind:"Name",value:"where"}}},{kind:"Argument",name:{kind:"Name",value:"create"},value:{kind:"Variable",name:{kind:"Name",value:"create"}}},{kind:"Argument",name:{kind:"Name",value:"update"},value:{kind:"Variable",name:{kind:"Name",value:"update"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"fields"},directives:[]},{kind:"Field",name:{kind:"Name",value:"group"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:338}};t.loc.source={body:"#import './_fragment.gql'\r\nmutation(\r\n  $where: SignatureRuleWhereUniqueInput!\r\n  $create: SignatureRuleCreateInput!\r\n  $update: SignatureRuleUpdateInput!\r\n) {\r\n  node: upsertSignatureRule(where: $where, create: $create, update: $update) {\r\n    ...fields\r\n    group{\r\n          id\r\n          name\r\n          description\r\n        }\r\n  }\r\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};function r(e){return e.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var n=e.name.value;return!a[n]&&(a[n]=!0,!0)}))}function o(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){o(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){o(e,n)})),e.definitions&&e.definitions.forEach((function(e){o(e,n)}))}t.definitions=t.definitions.concat(r(i("6569").definitions));var d={};(function(){t.definitions.forEach((function(e){if(e.name){var n=new Set;o(e,n),d[e.name.value]=n}}))})(),e.exports=t},d5bc:function(e,n,i){"use strict";i.r(n);var t=function(){var e=this,n=e.$createElement,i=e._self._c||n;return i("left-right",{staticClass:"sign",attrs:{flexLeft:"0 0 300px"}},[i("group",{staticClass:"height100",attrs:{slot:"left"},on:{change:e.onGroupChange,nameChange:e.nameChange},slot:"left"}),i("Tabs",{staticClass:"height100",staticStyle:{"-moz-box-flex":"1","-moz-flex-direction":"column",display:"flex","flex-direction":"column"},attrs:{slot:"right"},slot:"right",model:{value:e.activeName,callback:function(n){e.activeName=n},expression:"activeName"}},[i("TabPane",{staticClass:"height100",attrs:{label:e.label1,name:"name1"}},[i("rule",{attrs:{groupId:e.groupId},on:{rulechange:e.rulechange}})],1),i("TabPane",{staticClass:"height100",attrs:{label:e.label2,name:"name2"}},[i("permission",{ref:"permission",attrs:{groupId:e.groupId}})],1)],1)],1)},a=[],r=i("23f4"),o=i("e8fa"),d=i("1ebd"),s=i("8c65"),c={name:"sign",components:{leftRight:r["a"],group:o["default"],permission:d["default"],rule:s["default"]},data:function(){return{groupId:"",activeName:"name1",ruleCount:0,label1:"",label2:""}},created:function(){this.label1=this.getLabel(this.$t("system.signRule.signRule")),this.label2=this.getLabel(this.$t("system.signGroup.signPermission"))},methods:{tabClick:function(){var e=!this.ruleCount;return e},getLabel:function(e){var n=this,i=this;return function(t){return t("div",{style:{padding:"8px 16px"},on:{click:function(e){var t=i.tabClick();t&&(e.stopPropagation(),n.$Message.error(n.$t("system.signGroup.signMessage")))}}},e)}},onGroupChange:function(e){this.groupId=e,this.activeName="name1"},nameChange:function(){this.$refs.permission.$refs.menuTree.getSignPermission()},rulechange:function(e){this.ruleCount=e}}},l=c,u=(i("ca94"),i("2877")),m=Object(u["a"])(l,t,a,!1,null,"a36d9c1e",null);n["default"]=m.exports},da03:function(e,n,i){var t=i("2b3e7"),a=t["__core-js_shared__"];e.exports=a},dc57:function(e,n){var i=Function.prototype,t=i.toString;function a(e){if(null!=e){try{return t.call(e)}catch(n){}try{return e+""}catch(n){}}return""}e.exports=a},e223:function(e,n){var i={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"fields"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"SignatureGroup"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"updatedAt"},arguments:[],directives:[]}]}}],loc:{start:0,end:105}};i.loc.source={body:"fragment fields on SignatureGroup {\r\n    id\r\n    name\r\n    description\r\n    createdAt\r\n    updatedAt\r\n}\r\n",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=i},e4e5:function(e,n){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"where"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"SignaturePermissionWhereUniqueInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"deleteSignaturePermission"},arguments:[{kind:"Argument",name:{kind:"Name",value:"where"},value:{kind:"Variable",name:{kind:"Name",value:"where"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"module"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"action"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"group"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:212}};i.loc.source={body:"mutation($where: SignaturePermissionWhereUniqueInput!) {\r\n  deleteSignaturePermission(where: $where) {\r\n    id\r\n    module {\r\n      id\r\n    }\r\n    action {\r\n      id\r\n    }\r\n    group {\r\n      id\r\n    }\r\n  }\r\n}\r\n",name:"GraphQL request",locationOffset:{line:1,column:1}};function t(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){t(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){t(e,n)})),e.definitions&&e.definitions.forEach((function(e){t(e,n)}))}var a={};(function(){i.definitions.forEach((function(e){if(e.name){var n=new Set;t(e,n),a[e.name.value]=n}}))})(),e.exports=i},e7f7:function(e,n,i){"use strict";i("28a5"),i("ac6a"),i("456d"),i("a481"),i("55dd");var t=i("53ca"),a={methods:{$agGenerateOrderByFromSortModel:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=null;if(!e||"object"!==Object(t["a"])(e)||e.length<1)return i;var a=e[0];if(!a||!a.colId||!a.sort||"string"!==typeof a.colId||"string"!==typeof a.sort)return i;var r=a.colId.replace(n,""),o=a.sort.toUpperCase();return r&&o&&(i="".concat(r,"_").concat(o)),i},$agGenerateWhereFromFiltersModel:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i={};if(!e)return i;var t=Object.keys(e);if(t.length<1)return i;for(var a=[],r=0,o=t;r<o.length;r++){var d=o[r],s=e[d],c=d.replace(n,""),l=s.operator;if(l&&"string"===typeof l&&l.length>0){var u=this.$agGenerateConditionFilter(s.condition1,c),m=this.$agGenerateConditionFilter(s.condition2,c),f={};f[l]=[u,m],a.push(f)}else{var v=this.$agGenerateConditionFilter(s,c);a.push(v)}}return i["AND"]=a,i},$agGenerateConditionFilter:function(e,n){var i={};if(!e||"object"!==Object(t["a"])(e)||!n||"string"!==typeof n)return i;var a,r,o=e.filter,d="",s={},c={},l=" 00:00:00",u=" 23:59:59",m="";switch(e.filterType){case"text":switch(e.type){case"equals":d="".concat(n);break;case"notEqual":d="".concat(n,"_not");break;case"startsWith":d="".concat(n,"_starts_with");break;case"endsWith":d="".concat(n,"_ends_with");break;case"contains":d="".concat(n,"_contains");break;case"notContains":d="".concat(n,"_not_contains");break;default:d="".concat(n);break}break;case"date":if(m=e.dateFrom.split(" ")[0],a=new Date(m+l),r=new Date(m+u),!a||!r)return i;switch(o=[],d="AND",e.type){case"equals":a=new Date(m+l),r=new Date(m+u),s["".concat(n,"_gte")]=a.toISOString(),c["".concat(n,"_lte")]=r.toISOString(),o.push(s),o.push(c);break;case"notEqual":a=new Date(m+l),r=new Date(m+u),d="OR",s["".concat(n,"_gt")]=r.toISOString(),c["".concat(n,"_lt")]=a.toISOString(),o.push(s),o.push(c);break;case"lessThan":r=new Date(m+l),d="".concat(n,"_lte"),o=r.toISOString();break;case"greaterThan":a=new Date(m+u),d="".concat(n,"_gte"),o=a.toISOString();break;case"inRange":if(d="AND",o=[],e.dateFrom&&e.dateTo){var f=e.dateFrom<=e.dateTo?e.dateFrom:e.dateTo,v=e.dateFrom>=e.dateTo?e.dateFrom:e.dateTo;a=new Date(f+l),r=new Date(v+u),s["".concat(n,"_gte")]=a.toISOString(),c["".concat(n,"_lte")]=r.toISOString(),o.push(s),o.push(c)}break;default:d="".concat(n);break}break;case"number":switch(e.type){case"equals":d="".concat(n);break;case"notEqual":d="".concat(n,"_not");break;case"lessThan":d="".concat(n,"_lt");break;case"greaterThan":d="".concat(n,"_gt");break;case"lessThanOrEqual":d="".concat(n,"_lte");break;case"greaterThanOrEqual":d="".concat(n,"_gte");break;case"inRange":if(d="AND",o=[],"number"===typeof e.filter&&"number"===typeof e.filterTo){var p=e.filter<=e.filterTo?e.filter:e.filterTo,k=e.filter>=e.filterTo?e.filter:e.filterTo;s["".concat(n,"_gte")]=p,c["".concat(n,"_lte")]=k,o.push(s),o.push(c)}break;default:d="".concat(n);break}break;default:break}return i[d]=o,i},$agGetDefaultGridOptions:function(){return{suppressPropertyNamesCheck:!0,context:{componentParent:this},editType:"fullRow",rowSelection:"single",rowDeselection:!0,suppressContextMenu:!0,resizable:!0,enableCellTextSelection:!0,suppressMultiSort:!0,sortingOrder:["asc","desc"],filter:!0,cacheBlockSize:30,rowModelType:"serverSide",getRowNodeId:function(e){return e.id},localeTextFunc:this.$agLocaleTextFunc.bind(this),columnDefs:[{type:["rowNumberColumn"]}],defaultColDef:{resizable:!0,sortable:!0,filter:"agTextColumnFilter",filterParams:{newRowsAction:"keep",applyButton:!1,clearButton:!1},enableValue:!1,enableRowGroup:!1,enablePivot:!1,width:150,minWidth:50},columnTypes:{rowNumberColumn:{headerName:this.$t("common.labels.rowIndex"),headerClass:"col-row-index",cellClass:"col-row-index",width:58,valueGetter:function(e){return e.node.rowIndex+1},suppressColumnsToolPanel:!0,suppressFiltersToolPanel:!0,suppressMenu:!0,sortable:!1,filter:!1,lockPosition:!0,pinned:"left",suppressMovable:!0}},sideBar:{toolPanels:[{id:"columns",labelDefault:"Columns",labelKey:"columns",iconKey:"columns",toolPanel:"agColumnsToolPanel",toolPanelParams:{suppressRowGroups:!0,suppressValues:!0,suppressPivots:!0,suppressPivotMode:!0}},{id:"filters",labelDefault:"Filters",labelKey:"filters",iconKey:"filter",toolPanel:"agFiltersToolPanel"}]}}},$agLocaleTextFunc:function(e,n){var i="agGrid.",a=i+e,r=this.$t(a),o=n;return!0===this.$te(a)&&"object"!==Object(t["a"])(r)&&(o=r),o}}};n["a"]=a},e8fa:function(e,n,i){"use strict";i.r(n);var t=i("bedc");n["default"]=t["default"]},eac5:function(e,n){var i=Object.prototype;function t(e){var n=e&&e.constructor,t="function"==typeof n&&n.prototype||i;return e===t}e.exports=t},ec69:function(e,n,i){var t=i("6fcd"),a=i("03dd"),r=i("30c9");function o(e){return r(e)?t(e):a(e)}e.exports=o},eff2:function(e,n,i){},f551:function(e,n){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"typeName"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"db_enumType"},arguments:[{kind:"Argument",name:{kind:"Name",value:"typeName"},value:{kind:"Variable",name:{kind:"Name",value:"typeName"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:98}};i.loc.source={body:"query($typeName:String!){\r\n  db_enumType(typeName:$typeName){\r\n    name\r\n    description\r\n  }\r\n}\r\n",name:"GraphQL request",locationOffset:{line:1,column:1}};function t(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){t(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){t(e,n)})),e.definitions&&e.definitions.forEach((function(e){t(e,n)}))}var a={};(function(){i.definitions.forEach((function(e){if(e.name){var n=new Set;t(e,n),a[e.name.value]=n}}))})(),e.exports=i},f6a5:function(e,n,i){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"first"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},defaultValue:{kind:"IntValue",value:"100"},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"skip"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},defaultValue:{kind:"IntValue",value:"0"},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"signatureGroups"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"Variable",name:{kind:"Name",value:"first"}}},{kind:"Argument",name:{kind:"Name",value:"skip"},value:{kind:"Variable",name:{kind:"Name",value:"skip"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"fields"},directives:[]},{kind:"Field",name:{kind:"Name",value:"rules"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:187}};t.loc.source={body:"#import './_fragment.gql'\r\n\r\nquery($first: Int = 100, $skip: Int = 0) {\r\n  signatureGroups(first: $first, skip: $skip) {\r\n    ...fields\r\n    rules {\r\n      id\r\n      name\r\n    }\r\n  }\r\n}\r\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};function r(e){return e.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var n=e.name.value;return!a[n]&&(a[n]=!0,!0)}))}function o(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){o(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){o(e,n)})),e.definitions&&e.definitions.forEach((function(e){o(e,n)}))}t.definitions=t.definitions.concat(r(i("e223").definitions));var d={};(function(){t.definitions.forEach((function(e){if(e.name){var n=new Set;o(e,n),d[e.name.value]=n}}))})(),e.exports=t},f88e:function(e,n,i){"use strict";var t=function(){var e=this,n=e.$createElement,i=e._self._c||n;return i("div",{staticClass:"actions-mini"},[e._l(e.permissionActions,(function(n){return i("ActionButton",e._g({key:n.code,attrs:{action:n}},e.$listeners))})),e._t("default")],2)},a=[],r=(i("ac6a"),function(){var e=this,n=e.$createElement,i=e._self._c||n;return e.action.confirm?i("Poptip",{attrs:{"cancel-text":e.$t("common.buttons.cancel"),"ok-text":e.$t("common.buttons.ok"),title:e.$t(e.action.confrimTip),confirm:""},on:{"on-ok":function(n){return e.fireEvent(e.action.code,e.action.id)}}},[i("Tooltip",{attrs:{content:e.$t(e.action.i18N)}},[i("Button",{attrs:{disabled:e.action.disabled,icon:e.action.icon,loading:e.action.loading,size:"small"}})],1)],1):i("Tooltip",{attrs:{content:e.$t(e.action.i18N)}},[i("Button",{attrs:{disabled:e.action.disabled,icon:e.action.icon,loading:e.action.loading,size:"small"},on:{click:function(n){return e.fireEvent(e.action.code,e.action.id)}}})],1)}),o=[],d=i("0463"),s={props:{action:{type:Object,required:!0}},mixins:[d["a"]]},c=s,l=i("2877"),u=Object(l["a"])(c,r,o,!1,null,null,null),m=u.exports,f=i("b752"),v=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return{visible:e,disabled:!1,loading:!1}},p={add:{visible:!0},edit:{visible:!0},remove:{visible:!0,confirm:!0,confrimTip:"common.messages.deleteConfirm"},refresh:{visible:!0}},k={name:"actions-mini",mixins:[d["b"]],components:{ActionButton:m},props:{groupCode:{type:String},options:{type:Object,default:function(){return{}}}},data:function(){return{defaultOptions:this.getOptions()}},methods:{mergeAction:function(e){var n=e.code;return Object.assign({},this.getProp(),p[n],f["b"][n],e)},getOptions:function(){var e=f["a"].map((function(e){return Object.assign(v(),e)})),n={};return e.forEach((function(e){n[e.code]=Object.assign({},e,p[e.code],f["b"][e.code])})),n}},computed:{defOptions:function(){var e=this.options,n=Object.assign({},e);for(var i in n)n[i]=Object.assign({},this.getProp(),p[i],f["b"][i],n[i]);return n}}},g=k,h=(i("0ddd"),Object(l["a"])(g,t,a,!1,null,"7e1afda0",null)),b=h.exports;n["a"]=b},f9fe:function(e,n,i){},fa30:function(e,n){var i={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"fields"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Permission"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"userGroup"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"code"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"menu"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"permissionGroups"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"actionGroup"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"code"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"actions"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"code"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"signature"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:291}};i.loc.source={body:"fragment fields on Permission {\r\n  id\r\n  userGroup {\r\n    id\r\n    code\r\n    name\r\n  }\r\n  menu {\r\n    id\r\n    name\r\n  }\r\n  permissionGroups {\r\n    id\r\n    actionGroup {\r\n      id\r\n      code\r\n      name\r\n    }\r\n    actions {\r\n      id\r\n      code\r\n      name\r\n      signature\r\n    }\r\n  }\r\n}\r\n",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=i},fa5c:function(e,n,i){},fd49:function(e,n,i){"use strict";var t=i("fa5c"),a=i.n(t);a.a}}]);