(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-f68e8a3a","chunk-4296a7f1","chunk-adcf3a00","chunk-422a94c6","chunk-d4e93438","chunk-adcf3a00","chunk-adcf3a00","chunk-71fb1f0e","chunk-5d44363e","chunk-adcf3a00","chunk-adcf3a00","chunk-adcf3a00","chunk-724bcd05","chunk-f2e95c8a"],{"00fd":function(e,n,t){var i=t("9e69"),r=Object.prototype,a=r.hasOwnProperty,o=r.toString,s=i?i.toStringTag:void 0;function c(e){var n=a.call(e,s),t=e[s];try{e[s]=void 0;var i=!0}catch(c){}var r=o.call(e);return i&&(n?e[s]=t:delete e[s]),r}e.exports=c},"03dd":function(e,n,t){var i=t("eac5"),r=t("57a5"),a=Object.prototype,o=a.hasOwnProperty;function s(e){if(!i(e))return r(e);var n=[];for(var t in Object(e))o.call(e,t)&&"constructor"!=t&&n.push(t);return n}e.exports=s},"0463":function(e,n,t){"use strict";t.d(n,"a",(function(){return u}));t("8e6e"),t("456d"),t("ac6a"),t("7514");var i=t("ade3"),r=t("2f62"),a=t("f121");function o(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function s(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?o(Object(t),!0).forEach((function(n){Object(i["a"])(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):o(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var c=Object(r["a"])("user"),d=c.mapGetters,u={methods:{fireEvent:function(e,n){this.setActionIdToLocalStorage(n),this.$emit(e)},setActionIdToLocalStorage:function(e){window.sessionStorage.setItem(a["a"],e)}}},l={methods:{getProp:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return{visible:e,disabled:!1,loading:!1}}},computed:s({permissionActions:function(){var e=this,n=this.$groupActions,t=[];if(!n.length)return{};if(this.groupCode){var i=n.find((function(n){return n.group.code===e.groupCode}));t=i&&i.actions}else t=n[0].actions;var r=this.defOptions,a={};return t&&t.forEach((function(n){var t=r[n.code];a[n.code]=t&&t.visible?Object.assign(t,n):e.mergeAction(n)})),a},actionsOptions:function(){var e=this.options,n=Object.assign({},this.defaultOptions);for(var t in e)n[t]=Object.assign({},n[t],e[t]);return n}},d({$groupActions:"groupActions"}))};n["b"]=l},"07c7":function(e,n){function t(){return!1}e.exports=t},"0b07":function(e,n,t){var i=t("34ac"),r=t("3698");function a(e,n){var t=r(e,n);return i(t)?t:void 0}e.exports=a},"0ca1":function(e,n,t){"use strict";t.r(n);var i=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{staticClass:"actions-checkboxs"},[e.value&&e.value.length>0?t("div",{staticClass:"actions-checkboxs-items"},e._l(e.value,(function(n){return t("Checkbox",{key:n.id,attrs:{disabled:e.disabled},on:{"on-change":function(t){return e.actionChange(n,t)}},model:{value:n.$checked,callback:function(t){e.$set(n,"$checked",t)},expression:"v.$checked"}},[e._v("\n      "+e._s(e.existI18N(""+n.i18N)?e.$t(""+n.i18N):n.name)+"\n    ")])})),1):e._e()])},r=[],a=(t("ac6a"),t("ac4d"),t("8a81"),t("5df3"),t("1c4c"),t("6b54"),t("53ca"));t("7f7f");function o(e,n){var t;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(t=s(e))||n&&e&&"number"===typeof e.length){t&&(e=t);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,c=!1;return{s:function(){t=e[Symbol.iterator]()},n:function(){var e=t.next();return o=e.done,e},e:function(e){c=!0,a=e},f:function(){try{o||null==t.return||t.return()}finally{if(c)throw a}}}}function s(e,n){if(e){if("string"===typeof e)return c(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?c(e,n):void 0}}function c(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,i=new Array(n);t<n;t++)i[t]=e[t];return i}var d={name:"actions-checkboxs",props:{value:{type:Array,default:function(){return[]}},disabled:{type:Boolean,default:!1}},data:function(){return{checkedAll:!1,indeterminate:!1}},methods:{actionChange:function(e,n){this.$emit("changed",e,n)},checkAll:function(e){this.indeterminate=!1;var n,t=o(this.value);try{for(t.s();!(n=t.n()).done;){var i=n.value;this.$set(i,"$checked",e)}}catch(a){t.e(a)}finally{t.f()}var r=this.getCheckedItems();this.$emit("changed",r)},getCheckedItems:function(){var e=this.$_.filter(this.value,"$checked",!0);return e&&e.length>0?this.$_.map(e,(function(e){return{id:e.id,code:e.code,name:e.name}})):[]},existI18N:function(e){var n=this.$t(e);return!0===this.$te(e)&&"object"!==Object(a["a"])(n)}}},u=d,l=(t("7280"),t("2877")),m=Object(l["a"])(u,i,r,!1,null,"20643fc3",null);n["default"]=m.exports},"0d24":function(e,n,t){(function(e){var i=t("2b3e7"),r=t("07c7"),a=n&&!n.nodeType&&n,o=a&&"object"==typeof e&&e&&!e.nodeType&&e,s=o&&o.exports===a,c=s?i.Buffer:void 0,d=c?c.isBuffer:void 0,u=d||r;e.exports=u}).call(this,t("62e4")(e))},"0ddd":function(e,n,t){"use strict";var i=t("983c"),r=t.n(i);r.a},1310:function(e,n){function t(e){return null!=e&&"object"==typeof e}e.exports=t},"1368e":function(e,n,t){var i=t("da03"),r=function(){var e=/[^.]+$/.exec(i&&i.keys&&i.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function a(e){return!!r&&r in e}e.exports=a},"1a8c":function(e,n){function t(e){var n=typeof e;return null!=e&&("object"==n||"function"==n)}e.exports=t},2060:function(e,n,t){"use strict";t.r(n);var i=t("7c7c");n["default"]=i["default"]},2518:function(e,n,t){"use strict";t.r(n);var i=t("0ca1");n["default"]=i["default"]},"253c":function(e,n,t){var i=t("3729"),r=t("1310"),a="[object Arguments]";function o(e){return r(e)&&i(e)==a}e.exports=o},"29f3":function(e,n){var t=Object.prototype,i=t.toString;function r(e){return i.call(e)}e.exports=r},"2b3e7":function(e,n,t){var i=t("585a"),r="object"==typeof self&&self&&self.Object===Object&&self,a=i||r||Function("return this")();e.exports=a},"2e01":function(e,n,t){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"where"}},type:{kind:"NamedType",name:{kind:"Name",value:"SignatureRuleWhereInput"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"orderBy"}},type:{kind:"NamedType",name:{kind:"Name",value:"SignatureRuleOrderByInput"}},defaultValue:{kind:"EnumValue",value:"updatedAt_DESC"},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"first"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},defaultValue:{kind:"IntValue",value:"100"},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"skip"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},defaultValue:{kind:"IntValue",value:"0"},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"total"},name:{kind:"Name",value:"signatureRulesConnection"},arguments:[{kind:"Argument",name:{kind:"Name",value:"where"},value:{kind:"Variable",name:{kind:"Name",value:"where"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"aggregate"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"count"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"pageInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"hasNextPage"},arguments:[],directives:[]}]}}]}},{kind:"Field",alias:{kind:"Name",value:"list"},name:{kind:"Name",value:"signatureRules"},arguments:[{kind:"Argument",name:{kind:"Name",value:"where"},value:{kind:"Variable",name:{kind:"Name",value:"where"}}},{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"Variable",name:{kind:"Name",value:"first"}}},{kind:"Argument",name:{kind:"Name",value:"skip"},value:{kind:"Variable",name:{kind:"Name",value:"skip"}}},{kind:"Argument",name:{kind:"Name",value:"orderBy"},value:{kind:"Variable",name:{kind:"Name",value:"orderBy"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"fields"},directives:[]},{kind:"Field",name:{kind:"Name",value:"group"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:503}};i.loc.source={body:"#import './_fragment.gql'\r\nquery(\r\n  $where: SignatureRuleWhereInput\r\n  $orderBy: SignatureRuleOrderByInput = updatedAt_DESC\r\n  $first: Int = 100\r\n  $skip: Int = 0\r\n) {\r\n  total: signatureRulesConnection(\r\n    where: $where\r\n  ) {\r\n    aggregate {\r\n      count\r\n    }\r\n    pageInfo {\r\n      hasNextPage\r\n    }\r\n  }\r\n  list:signatureRules(\r\n    where: $where\r\n    first: $first\r\n    skip: $skip\r\n    orderBy: $orderBy){\r\n    ...fields\r\n    group{\r\n      id\r\n      name\r\n      description\r\n    }\r\n  }\r\n}\r\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var r={};function a(e){return e.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var n=e.name.value;return!r[n]&&(r[n]=!0,!0)}))}function o(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var t=e.type;"NamedType"===t.kind&&n.add(t.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){o(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){o(e,n)})),e.definitions&&e.definitions.forEach((function(e){o(e,n)}))}i.definitions=i.definitions.concat(a(t("6569").definitions));var s={};(function(){i.definitions.forEach((function(e){if(e.name){var n=new Set;o(e,n),s[e.name.value]=n}}))})(),e.exports=i},"30c9":function(e,n,t){var i=t("9520"),r=t("b218");function a(e){return null!=e&&r(e.length)&&!i(e)}e.exports=a},"32b3":function(e,n,t){var i=t("872a"),r=t("9638"),a=Object.prototype,o=a.hasOwnProperty;function s(e,n,t){var a=e[n];o.call(e,n)&&r(a,t)&&(void 0!==t||n in e)||i(e,n,t)}e.exports=s},"32df":function(e,n,t){"use strict";var i=t("37b7"),r=t.n(i);r.a},"32ed":function(e,n){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"first"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},defaultValue:{kind:"IntValue",value:"100"},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"skip"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},defaultValue:{kind:"IntValue",value:"0"},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"signatureGroups"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"Variable",name:{kind:"Name",value:"first"}}},{kind:"Argument",name:{kind:"Name",value:"skip"},value:{kind:"Variable",name:{kind:"Name",value:"skip"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:136}};t.loc.source={body:"query($first: Int = 100, $skip: Int = 0) {\r\n  signatureGroups(first: $first, skip: $skip) {\r\n    name\r\n    id\r\n    description\r\n  }\r\n}\r\n",name:"GraphQL request",locationOffset:{line:1,column:1}};function i(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var t=e.type;"NamedType"===t.kind&&n.add(t.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){i(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){i(e,n)})),e.definitions&&e.definitions.forEach((function(e){i(e,n)}))}var r={};(function(){t.definitions.forEach((function(e){if(e.name){var n=new Set;i(e,n),r[e.name.value]=n}}))})(),e.exports=t},"340f":function(e,n,t){"use strict";t.r(n);var i=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("flex-panel",{attrs:{"hide-footer":!0}},[t("p",{attrs:{slot:"title"},slot:"title"},[t("Icon",{attrs:{type:"ios-funnel"}}),e._v("\n    "+e._s(e.$t("system.permission.title"))+"\n  ")],1),t("div",{staticClass:"actions",attrs:{slot:"extra"},slot:"extra"},[t("Tooltip",{attrs:{content:e.$t("common.actions.refresh")}},[t("Button",{attrs:{icon:"md-refresh",size:"small"},on:{click:e.refresh}})],1)],1),t("menu-tree-item",{attrs:{model:e.nested},on:{actionsChanged:e.actionsChanged,changed:e.changed}}),t("Spin",{directives:[{name:"show",rawName:"v-show",value:e.isLoading,expression:"isLoading"}],attrs:{fix:""}})],1)},r=[],a=(t("8e6e"),t("456d"),t("ac6a"),t("ac4d"),t("8a81"),t("5df3"),t("1c4c"),t("7f7f"),t("6b54"),t("20d6"),t("7514"),t("96cf"),t("1da1")),o=t("8785"),s=t("ade3"),c=t("c9e5"),d=t("1863"),u=t("6689"),l=t("9530"),m=t.n(l),f=t("cb37"),p=t("a250"),v=t("95c2"),h=t("2f62"),g=t("f121");function k(){var e=Object(o["a"])(["\n        ","\n      "]);return k=function(){return e},e}function b(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function y(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?b(Object(t),!0).forEach((function(n){Object(s["a"])(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):b(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function N(e,n){var t;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(t=$(e))||n&&e&&"number"===typeof e.length){t&&(e=t);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){t=e[Symbol.iterator]()},n:function(){var e=t.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==t.return||t.return()}finally{if(s)throw a}}}}function $(e,n){if(e){if("string"===typeof e)return S(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?S(e,n):void 0}}function S(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,i=new Array(n);t<n;t++)i[t]=e[t];return i}var w=Object(h["a"])("app"),O=w.mapGetters,j={name:"menu-tree",components:{menuTreeItem:v["default"],flexPanel:p["a"]},props:{userGroupId:{type:String,default:""}},apollo:{menus:{query:c["b"],client:u["client"],manual:!0,result:function(e){var n=e.data;this.generateMenus(n)}}},data:function(){return{permissionGroupCode:g["v"].system.roleManager.permControl,menuLoaded:!1,menus:{},nested:{menus:[],$opened:[]},group:"base",mutateLoading:!1,loading:!1,rawFlatMenus:[]}},beforeMount:function(){},methods:{generateMenus:function(e){var n=this;e=JSON.parse(JSON.stringify(e));var t=e.menus;this.buildFlatData(t),t&&t.length>0&&this.$set(this.nested,"menus",t),this.$nextTick().then((function(){n.$set(n.nested,"$opened",t.map((function(e){return e.id})))})),this.menuLoaded=!0,this.setMenuCheck()},buildFlatData:function(e){var n,t=this,i=N(e);try{var r=function(){var e=n.value;e.$parentId=e.parent&&e.parent.id?e.parent.id:null,e.$checked=!1,e.$indeterminate=!1,e.$permission=null,e.menuType===f["a"].internal&&0===e.menus.length?e.actionGroups=e.actionGroups.map((function(n){var t=y(y({},n),{},{$checked:!1,$menu:e});return t})):e.actionGroups=[],e.$isChanged=function(){return t.isMenuChanged(e)},e.$opened=e.menus.map((function(e){return e.id})),t.menus[e.id]=e,e.menus&&e.menus.length>0&&t.buildFlatData(e.menus)};for(i.s();!(n=i.n()).done;)r()}catch(a){i.e(a)}finally{i.f()}},refresh:function(){},expandAll:function(){},collapsedAll:function(){},uncheckedAll:function(){for(var e in this.menus){this.$set(this.menus[e],"$checked",!1),this.$set(this.menus[e],"$indeterminate",!1),this.$set(this.menus[e],"$permission",null);for(var n=this.menus[e].actionGroups,t=n&&n.length,i=0;i<t;i++)for(var r=n[i].actions,a=r.length,o=0;o<a;o++)this.$set(r[o],"$checked",!1)}},checkIndeterminate:function(e){if(e=e||this.nested,e&&e.children&&e.children.length>0){var n=this.$_.filter(e.children,(function(e){return!0===e.$checked||!0===e.$indeterminate})),t=n.length>0&&n.length<e.children.length;e.$indeterminate=t;for(var i=0;i<e.children.length;i++)this.checkIndeterminate(e.children[i])}},getAperm:function(e){var n=e.actionGroups,t="[",i=n.length;if(n&&i)for(var r=0;r<i;r++){for(var a=n[r].actions,o=a.length,s="",c=0;c<o;c++)!0===a[c].$checked&&(s+='{id: "'.concat(a[c].id,'"}, '));t+='{\n            actionGroup: {\n              connect: {\n                id: "'.concat(n[r].id,'"\n              }\n            }\n            actions: {\n              connect: [').concat(s,"]\n            }\n          }, ")}return t+="]","".concat(e.id,': createPermission(\n        data: {\n          menu: { connect: { id: "').concat(e.id,'" } }\n          userGroup: {\n            connect: {\n              id: "').concat(this.userGroupId,'"\n            }\n          }\n          permissionGroups: {\n            create: ').concat(t,"\n          }\n        }\n      ) {\n        id\n        userGroup {\n          id\n          code\n          name\n        }\n        menu {\n          id\n          name\n          menus{\n            code\n            name\n          }\n        }\n        permissionGroups {\n          id\n          description\n          actionGroup {\n            id\n            code\n            name\n          }\n          actions {\n            id\n            code\n            name\n          }\n        }\n      }\n\n      ")},getSubIds:function(e){var n=[],t=function e(t){if(t.menus&&t.menus.length)for(var i=t.menus.length,r=0;r<i;r++)e(t.menus[r]);n.push(t.id)};return t(e),n},getMutations:function(e){for(var n=this.getSubIds(e),t=n.length,i="",r=0;r<t;r++){var a=this.menus[n[r]];i+=this.getAperm(a)}return i},genCeatePermission:function(e){var n=this.getMutations(e),t="\n        mutation {\n          ".concat(n,"\n        }\n        ");return t},getPermSubIds:function(e){var n=[],t=function e(t){if(t.menus&&t.menus.length)for(var i=t.menus.length,r=0;r<i;r++)e(t.menus[r]);t.$permission&&n.push(t.$permission.id)};return t(e),n},getDeleteAperm:function(e){return"".concat(e,': deletePermission(where: {id: "').concat(e,'"}) {\n        id\n\n      }\n\n      ')},getDeleteMutations:function(e){for(var n=this.getPermSubIds(e),t=n.length,i="",r=0;r<t;r++)i+=this.getDeleteAperm(n[r]);return i},gendeletePermission:function(e){var n=this.getDeleteMutations(e),t="\n        mutation {\n          ".concat(n,"\n        }\n        ");return t},generateMenuUpdateGql:function(e,n){var t;return t=!e.$permission&&n?this.genCeatePermission(e):this.gendeletePermission(this.$_.cloneDeep(e)),m()(k(),t)},checkCurrentMenu:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(n){var t,i,r,a,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=this.getSubIds(n),e.next=3,Object(d["e"])({menu:{id_in:t},userGroup:{id:this.userGroupId}});case 3:if(i=e.sent,r=i.list,a=r.length,!a){e.next=10;break}return o=r.map((function(e){return e.id})),e.next=10,Object(d["a"])({id_in:o});case 10:case"end":return e.stop()}}),e,this)})));function n(n){return e.apply(this,arguments)}return n}(),changed:function(e,n){var t=this;this.loading=!0,!e.$permission&&n&&this.checkCurrentMenu(e);var i=this.generateMenuUpdateGql(e,n),r=window.sessionStorage.getItem(g["n"]);this.$apollo.mutate({mutation:i,client:u["client"],context:{headers:{"module-code":r,"action-id":n?this.addActionId:this.cancelActionId}}}).then((function(){t.setMenuCheck()})).catch((function(e){t.setMenuCheck(),console.error(e)}))},actionsChanged:function(e,n,t,i){var r=this;if(e&&e.id&&this.menus[e.id]&&e.$permission&&n){this.loading=!0;var a=this.menus[e.id],o=e.$permission,s=o.id,c=this.$_.find(o.permissionGroups,(function(e){return e.actionGroup.id===i.id})),u=c?d["d"]:d["b"],l=!0===t?[{id:n.id}]:[],m=!0!==t?[{id:n.id}]:[],f={id:s,connect:l};if(c){var p=c.id;f.disconnect=m,f.permissionGroupId=p}else f.actionGroupId=i.id;var v=window.sessionStorage.getItem(g["n"]);this.$apollo.mutate({mutation:u,variables:f,context:{headers:{"module-code":v,"action-id":t?this.addActionId:this.cancelActionId}}}).then((function(e){a.$permission=e.data.node,r.loading=!1})).catch((function(e){r.setMenuCheck(),console.error(e)}))}},getCheckedMenus:function(){var e=[];for(var n in this.menus){var t=this.menus[n];if(!0===t.$checked||!0===t.$indeterminate){var i=[];if(t.children&&t.children.length>0);else{var r,a=N(t.actions);try{for(a.s();!(r=a.n()).done;){var o=r.value;!0===o.$checked&&i.push(o.id)}}catch(s){a.e(s)}finally{a.f()}}e.push({menu:{id:n},actions:i})}}return e},setCheckedMenus:function(e){var n=this;if(this.uncheckedAll(),e&&Array.isArray(e)&&!(e.length<1)){var t,i=N(e);try{var r=function(){var e=t.value;if(e.menu&&e.menu.id&&n.menus[e.menu.id]){var i,r=n.menus[e.menu.id];if(n.$set(r,"$permission",e),n.$set(r,"$checked",!0),e.permissionGroups&&(i=e.permissionGroups.length)&&i)for(var a=function(t){for(var i=e.permissionGroups[t].actions,a=n.$_.find(r.actionGroups,(function(n){return n.id===e.permissionGroups[t].actionGroup.id})),o=a&&a.actions.length||0,s=function(e){n.$set(a.actions[e],"$checked",-1!==n.$_.findIndex(i,(function(n){return n.id===a.actions[e].id})))},c=0;c<o;c++)s(c)},o=0;o<i;o++)a(o)}};for(i.s();!(t=i.n()).done;)r()}catch(a){i.e(a)}finally{i.f()}this.checkIndeterminate()}},getParents:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(e&&e.parent&&e.parent.id&&this.menus[e.parent.id]){var t=this.menus[e.parent.id];this.getParents(t,n),n.push(t)}return n},getChildren:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(e&&e.children&&e.children.length>0)for(var t=0;t<e.children.length;t++)n.push(e.children[t]),this.getChildren(e.children[t],n);return n},isMenuChanged:function(e){if(!e)return!1;var n=e.$permission;if((!0===e.$checked||!0===e.$indeterminate)&&!n)return!0;if(!0!==e.$checked&&!0!==e.$indeterminate&&n)return!0;if(!0!==e.$checked&&!0!==e.$indeterminate&&!n)return!1;var t=e.actions,i=n.actions;if(t&&t.length>0&&i){var r=this.$_.filter(t,(function(e){return!0===e.$checked}));if(r.length!==i.length)return!0;if(r.length>0){var a=r.map((function(e){return e.id})),o=i.map((function(e){return e.id})),s=this.$_.xor(a,o);if(s.length>0)return!0}}return!1},generateGraphqlVariables:function(e){var n={},t={group:this.group,userGroup:{connect:{id:this.userGroup.id,code:this.userGroup.code}}},i={};n.id=e.$permission&&e.$permission.id?e.$permission.id:"",t.menu={connect:{id:e.id}},t.actions={connect:this.$_.filter(e.actions,(function(e){return!0===e.$checked})).map((function(e){return{id:e.id}}))};var r=e.actions.map((function(e){return e.id})),a=e.$permission&&e.$permission.actions&&e.$permission.actions.length>0?e.$permission.actions.map((function(e){return e.id})):[],o=this.$_.difference(r,a).map((function(e){return{id:e}})),s=this.$_.difference(a,r).map((function(e){return{id:e}}));return i.actions={connect:o,disconnect:s},{where:n,create:t,update:i}},getPermissionFragment:function(){return"\n      fragment fields on Permission {\n        id\n        userGroup {\n          id\n          code\n          name\n        }\n        menu {\n          id\n          name\n        }\n        permissionGroups {\n          id\n          actionGroup {\n            id\n            code\n            name\n            i18N\n          }\n          actions {\n            id\n            code\n            name\n            i18N\n          }\n        }\n      }"},setMenuCheck:function(e){var n=this,t=e||this.userGroupId;this.$apollo.query({client:u["client"],query:d["c"],variables:{where:{userGroup:{id:t}}}}).then((function(e){var t=e.data.permissions||[];n.setCheckedMenus(t),n.loading=!1})).catch((function(e){console.error(e),n.loading=!1}))}},watch:{userGroupId:function(e){this.loading=!0,this.menuLoaded&&this.setMenuCheck(e)}},computed:y({isLoading:function(){return this.loading||this.$apollo.loading},groupActions:function(){var e=this,n=function e(n,t){for(var i=n.length,r=0;r<i;r++){var a=n[r];if(a.url===t)return a;if(a.menus.length){var o=e(a.menus,t);if(o)return o}}},t=n(this.$menus,g["r"]),i=t.actionGroups,r=i.find((function(n){return n.code===e.permissionGroupCode}));return r&&r.actions||[]},addActionId:function(){var e=this.groupActions.find((function(e){return e.code===g["b"]}));return e&&e.id||""},cancelActionId:function(){var e=this.groupActions.find((function(e){return e.code===g["f"]}));return e&&e.id||""}},O({$menus:"menus"}))},C=j,x=t("2877"),A=Object(x["a"])(C,i,r,!1,null,null,null);n["default"]=A.exports},"34ac":function(e,n,t){var i=t("9520"),r=t("1368e"),a=t("1a8c"),o=t("dc57"),s=/[\\^$.*+?()[\]{}|]/g,c=/^\[object .+?Constructor\]$/,d=Function.prototype,u=Object.prototype,l=d.toString,m=u.hasOwnProperty,f=RegExp("^"+l.call(m).replace(s,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function p(e){if(!a(e)||r(e))return!1;var n=i(e)?f:c;return n.test(o(e))}e.exports=p},3698:function(e,n){function t(e,n){return null==e?void 0:e[n]}e.exports=t},3729:function(e,n,t){var i=t("9e69"),r=t("00fd"),a=t("29f3"),o="[object Null]",s="[object Undefined]",c=i?i.toStringTag:void 0;function d(e){return null==e?void 0===e?s:o:c&&c in Object(e)?r(e):a(e)}e.exports=d},"37b7":function(e,n,t){},"3b4a":function(e,n,t){var i=t("0b07"),r=function(){try{var e=i(Object,"defineProperty");return e({},"",{}),e}catch(n){}}();e.exports=r},"4fef":function(e,n){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NamedType",name:{kind:"Name",value:"ID"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"groupId"}},type:{kind:"NamedType",name:{kind:"Name",value:"ID"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"nodes"},name:{kind:"Name",value:"signatureRulesConnection"},arguments:[{kind:"Argument",name:{kind:"Name",value:"where"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"AND"},value:{kind:"ListValue",values:[{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}},{kind:"ObjectField",name:{kind:"Name",value:"id_not"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}},{kind:"ObjectField",name:{kind:"Name",value:"group"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"groupId"}}}]}}]}]}}]}},{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}},{kind:"Argument",name:{kind:"Name",value:"skip"},value:{kind:"IntValue",value:"0"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"aggregate"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"count"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:242}};t.loc.source={body:"query($name: String!, $id: ID, $groupId: ID) {\r\n  nodes: signatureRulesConnection(\r\n    where: { AND: [{ name: $name, id_not: $id, group: { id: $groupId } }] }\r\n    first: 100\r\n    skip: 0\r\n  ) {\r\n    aggregate {\r\n      count\r\n    }\r\n  }\r\n}\r\n",name:"GraphQL request",locationOffset:{line:1,column:1}};function i(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var t=e.type;"NamedType"===t.kind&&n.add(t.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){i(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){i(e,n)})),e.definitions&&e.definitions.forEach((function(e){i(e,n)}))}var r={};(function(){t.definitions.forEach((function(e){if(e.name){var n=new Set;i(e,n),r[e.name.value]=n}}))})(),e.exports=t},"50d8":function(e,n){function t(e,n){var t=-1,i=Array(e);while(++t<e)i[t]=n(t);return i}e.exports=t},"57a5":function(e,n,t){var i=t("91e9"),r=i(Object.keys,Object);e.exports=r},"585a":function(e,n,t){(function(n){var t="object"==typeof n&&n&&n.Object===Object&&n;e.exports=t}).call(this,t("c8ba"))},"5c97":function(e,n,t){},"5d11":function(e,n,t){"use strict";t.r(n);var i=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{staticClass:"app-body"},[t("user-group",{staticClass:"app-body-left",attrs:{isActive:!0},on:{changed:e.userGroupChanged}}),t("menu-tree",{directives:[{name:"show",rawName:"v-show",value:""!=e.groupId,expression:"groupId != ''"}],ref:"menuTree",staticClass:"app-body-right",attrs:{"user-group-id":e.groupId}}),""===e.groupId?t("div",{staticClass:"null"},[t("Spin",{attrs:{fix:""}})],1):e._e()],1)},r=[],a=t("2060"),o=t("adca"),s={name:"system-permission",components:{userGroup:a["default"],menuTree:o["default"]},data:function(){return{selectedUserGroup:null,nestedMenus:null,actions:[],menus:{},nested:{},selected:[],loading:!1,groupId:""}},methods:{userGroupChanged:function(e){this.groupId=e.id}}},c=s,d=(t("7fb8"),t("2877")),u=Object(d["a"])(c,i,r,!1,null,"cfcdccac",null);n["default"]=u.exports},6569:function(e,n){var t={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"fields"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"SignatureRule"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"category"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"value"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"action"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"group"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"updatedAt"},arguments:[],directives:[]}]}}],loc:{start:0,end:182}};t.loc.source={body:"fragment fields on SignatureRule {\r\n    id\r\n    name\r\n    category\r\n    value\r\n    action\r\n    description\r\n    group{\r\n      id\r\n      name\r\n    }\r\n    createdAt\r\n    updatedAt\r\n}\r\n",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=t},6747:function(e,n){var t=Array.isArray;e.exports=t},6927:function(e,n,t){},"6fcd":function(e,n,t){var i=t("50d8"),r=t("d370"),a=t("6747"),o=t("0d24"),s=t("c098"),c=t("73ac"),d=Object.prototype,u=d.hasOwnProperty;function l(e,n){var t=a(e),d=!t&&r(e),l=!t&&!d&&o(e),m=!t&&!d&&!l&&c(e),f=t||d||l||m,p=f?i(e.length,String):[],v=p.length;for(var h in e)!n&&!u.call(e,h)||f&&("length"==h||l&&("offset"==h||"parent"==h)||m&&("buffer"==h||"byteLength"==h||"byteOffset"==h)||s(h,v))||p.push(h);return p}e.exports=l},7280:function(e,n,t){"use strict";var i=t("c7c7"),r=t.n(i);r.a},"73ac":function(e,n,t){var i=t("743f"),r=t("b047"),a=t("99d3"),o=a&&a.isTypedArray,s=o?r(o):i;e.exports=s},"743f":function(e,n,t){var i=t("3729"),r=t("b218"),a=t("1310"),o="[object Arguments]",s="[object Array]",c="[object Boolean]",d="[object Date]",u="[object Error]",l="[object Function]",m="[object Map]",f="[object Number]",p="[object Object]",v="[object RegExp]",h="[object Set]",g="[object String]",k="[object WeakMap]",b="[object ArrayBuffer]",y="[object DataView]",N="[object Float32Array]",$="[object Float64Array]",S="[object Int8Array]",w="[object Int16Array]",O="[object Int32Array]",j="[object Uint8Array]",C="[object Uint8ClampedArray]",x="[object Uint16Array]",A="[object Uint32Array]",I={};function D(e){return a(e)&&r(e.length)&&!!I[i(e)]}I[N]=I[$]=I[S]=I[w]=I[O]=I[j]=I[C]=I[x]=I[A]=!0,I[o]=I[s]=I[b]=I[c]=I[y]=I[d]=I[u]=I[l]=I[m]=I[f]=I[p]=I[v]=I[h]=I[g]=I[k]=!1,e.exports=D},7638:function(e,n,t){"use strict";t.d(n,"h",(function(){return i})),t.d(n,"b",(function(){return r})),t.d(n,"g",(function(){return a})),t.d(n,"i",(function(){return o})),t.d(n,"a",(function(){return s})),t.d(n,"f",(function(){return c})),t.d(n,"e",(function(){return d})),t.d(n,"c",(function(){return u})),t.d(n,"d",(function(){return l}));var i="SECTOR_TYPE",r="Inv",a="PRINTER",o={edit:"edit",add:"add"},s={name:100,enterprise:2,site:2,area:4,sector:4,location:6,workCenter:20,workStation:20},c={area:"area",sector:"sector",location:"location"},d={Enterprise:"Enterprise",Site:"Site",Area:"Area",Sector:"Sector",Location:"Location",WorkCenter:"WorkCenter",WorkStation:"WorkStation",Device:"Device",AppCodeRule:"AppCodeRule",CodeInfo:"CodeInfo",UserGroup:"UserGroup",SignatureRule:"SignatureRule",MFGInstruction:"MFGInstruction"},u="XX[YYYY][MM][####]",l="MAX"},"7c7c":function(e,n,t){"use strict";t.r(n);var i=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("flex-panel",{staticClass:"user-group",attrs:{"hide-footer":!0,padding:0}},[t("p",{attrs:{slot:"title"},slot:"title"},[t("Icon",{attrs:{type:"ios-people"}}),e._v("\n    "+e._s(e.$t("system.usergroup.title"))+"\n  ")],1),t("actions",{staticClass:"actions",attrs:{slot:"extra",options:e.actionsOptions},on:{add:e.create,edit:e.modify,refresh:e.refresh,remove:e.remove},slot:"extra"}),t("CellGroup",{on:{"on-click":e.userGroupsClick}},e._l(e.userGroups,(function(n,i){return t("Cell",{key:n.id,attrs:{label:n.code,name:n.id,selected:e.selected&&e.selected.id===n.id,title:n.name}},[n.users.length>0?t("Poptip",{staticClass:"users-poptip",attrs:{slot:"extra",title:e.$t("system.usergroup.userlist"),placement:"right-start","popper-class":"permission-poptip-cls",trigger:"hover"},on:{"on-popper-show":function(n){return e.popperShow(i)}},slot:"extra"},[t("Badge",{attrs:{count:n.users.length,"class-name":"badge-users-count"}}),t("div",{staticClass:"user-list",attrs:{slot:"content"},slot:"content"},e._l(n.users,(function(n){return t("div",{key:n.id,staticClass:"user-item"},[t("div",{staticClass:"username"},[e._v(e._s(n.name))]),t("div",{staticClass:"personname"},[e._v(e._s(n.person&&n.person.name?n.person.name:""))])])})),0)],1):e._e()],1)})),1),t("edit-modal",{ref:"editModal",attrs:{modalWidth:640},on:{cancel:e.reset,ok:e.upsert}},[t("Form",{ref:"form",attrs:{"label-width":80,model:e.formModel,rules:e.rules}},[t("Row",[t("Col",{attrs:{span:"24"}},[t("FormItem",{attrs:{label:e.$t("system.usergroup.code"),prop:"code"}},[t("Input",{ref:"formCode",attrs:{disabled:e.isAdd,placeholder:e.$t("common.placeholders.plsInput")},model:{value:e.formModel.code,callback:function(n){e.$set(e.formModel,"code",n)},expression:"formModel.code"}})],1)],1)],1),t("Row",[t("Col",{attrs:{span:"24"}},[t("FormItem",{attrs:{label:e.$t("system.usergroup.name"),prop:"name"}},[t("Input",{attrs:{disabled:e.disEdit(),placeholder:e.$t("common.placeholders.plsInput")},model:{value:e.formModel.name,callback:function(n){e.$set(e.formModel,"name",n)},expression:"formModel.name"}})],1)],1)],1)],1)],1)],1)},r=[],a=(t("ac6a"),t("ac4d"),t("8a81"),t("5df3"),t("1c4c"),t("6b54"),t("96cf"),t("1da1")),o=(t("7f7f"),t("6689")),s=t("c9e5"),c=t("91f5"),d=t("f88e"),u=t("a250"),l=t("8eac"),m=t("70af"),f=t("7638");function p(e,n){var t;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(t=v(e))||n&&e&&"number"===typeof e.length){t&&(e=t);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){t=e[Symbol.iterator]()},n:function(){var e=t.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==t.return||t.return()}finally{if(s)throw a}}}}function v(e,n){if(e){if("string"===typeof e)return h(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?h(e,n):void 0}}function h(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,i=new Array(n);t<n;t++)i[t]=e[t];return i}var g={id:"",code:"",name:""},k="adminGroup",b={name:"user-group",components:{flexPanel:u["a"],actions:d["a"],editModal:l["a"]},mixins:[m["validMixins"]],apollo:{userGroups:{query:s["e"],client:o["client"],manual:!0,result:function(e){var n=this,t=e.data;if(this.userGroups=t.userGroups,this.userGroups.length>0){var i=this.selected;if(i){var r,a=p(this.userGroups);try{for(a.s();!(r=a.n()).done;){var o=r.value;o.id===i.id&&(i=o)}}catch(s){a.e(s)}finally{a.f()}}else i=this.userGroups[0];this.formModel=Object.assign({},i),this.$nextTick().then((function(){n.$emit("changed",Object.assign({},i),n.selected),n.selected=i}))}}}},props:{isActive:Boolean},data:function(){var e=this,n=function(n,t,i){var r=e.$_.trim(e.formModel.code);e.$_.isEmpty(r)?i():e.uniqueCodeValidate(i,e.formModel.code,e.formModel.id)},t=function(n,t,i){var r=e.$_.trim(e.formModel.name);e.$regex.nameReg.test(r)?e.uniqueNameValidate(i,e.formModel.name,e.formModel.id):i(new Error(e.$t("validate.nameReg",{name:e.$t("system.workStation.name")})))};return{userGroups:[],selected:null,isAdd:!1,isSubmit:!1,formModel:Object.assign({},g),rules:{code:[{required:!0,pattern:/^[a-zA-Z0-9\-_]{4,10}$/,message:this.$t("system.usergroup.messages.codeRule"),trigger:"blur"},{validator:n,trigger:"blur"}],name:[{required:!0,message:this.$t("system.usergroup.messages.nameRule"),trigger:"blur"},{validator:t,trigger:"blur"}]},actionsOptions:{add:{visible:!0,disabled:!1,loading:!1},edit:{visible:!0,disabled:!1},remove:{visible:!0,disabled:!0},resetPassword:{visible:!0,disabled:!0}}}},methods:{popperShow:function(e){var n=document.getElementsByClassName("permission-poptip-cls"),t=n&&n[e],i=t&&window.getComputedStyle(t);t.style.overflowY="auto",t.style.backgroundColor="white";var r=i&&parseInt(i.top);t.style.height=document.body.clientHeight-r+"px"},userGroupsClick:function(e){var n,t=this.selected,i=p(this.userGroups);try{for(i.s();!(n=i.n()).done;){var r=n.value;if(r.id===e){this.$refs.form.resetFields();var a=null===this.selected||this.selected.id!==e,o=r;return this.selected=o,this.formModel=Object.assign({},o),!0===a&&this.$emit("changed",Object.assign({},o),Object.assign({},t)),void(this.selected&&"adminGroup"===this.selected.code?(this.actionsOptions.remove.disabled=!0,this.actionsOptions.edit.disabled=!0):(this.actionsOptions.remove.disabled=!1,this.actionsOptions.edit.disabled=!1))}}}catch(s){i.e(s)}finally{i.f()}},remove:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){var n,t,i,r,a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n={value:this.selected.code},e.next=3,Object(c["e"])(n);case 3:if(t=e.sent,i=t.list.length,!(i>0)){e.next=8;break}return this.$Message.warning(this.$t("common.messages.dataIntegrityError")),e.abrupt("return");case 8:if(this.selected&&this.selected.id){e.next=11;break}return this.$Message.warning(this.$t("common.messages.plsSelectRow")),e.abrupt("return");case 11:if(!(this.selected.users&&this.selected.users.length>0)){e.next=14;break}return this.$Message.warning(this.$t("system.usergroup.hasUsers",{count:this.selected.users.length})),e.abrupt("return");case 14:r={id:this.selected.id},this.$apollo.mutate({mutation:s["c"],variables:{where:r},client:o["client"]}).then((function(){a.refresh(),a.$Message.success(a.$t("common.messages.removeSuccess"))})).catch((function(){a.$Message.error(a.$t("common.messages.removeFailure"))}));case 16:case"end":return e.stop()}}),e,this)})));function n(){return e.apply(this,arguments)}return n}(),refresh:function(){this.$refs.form.resetFields(),this.selected=null,this.formModel=Object.assign({},g),this.$apollo.queries.userGroups.refetch()},create:function(){this.$refs.form.resetFields(),this.selected=null,this.isAdd=!1,this.formModel=Object.assign({},g),this.$refs.editModal.open()},modify:function(){this.isAdd=!0,this.$refs.editModal.open(!0)},reset:function(){this.$refs.form.resetFields(),this.isAdd=!1,this.formModel=Object.assign({},this.selected||g),this.$refs.editModal.close()},upsert:function(){var e=this,n=!this.formModel.id;this.isSubmit=!0,this.$refs.form.validate((function(t){if(!t)return e.$Message.error(e.$t("common.rules.validateFailure")),void(e.isSubmit=!1);var i=e.formModel.id?{id:e.formModel.id}:{code:e.formModel.code},r={code:e.formModel.code,name:e.formModel.name,description:e.formModel.description};e.$apollo.mutate({mutation:s["d"],variables:{where:i,create:r,update:r}}).then((function(t){!0===n?e.refresh(t.data.node.id):(Object.assign(e.selected,t.data.node),e.$apollo.queries.userGroups.refetch()),e.$refs.editModal.close(),e.isAdd=!1,e.$Message.success(e.$t("common.messages.saveSuccess")),setTimeout((function(){e.isSubmit=!1}),1e3)})).catch((function(){e.isAdd=!0,e.$Message.error(e.$t("common.messages.saveFailure"))}))}))},uniqueCodeValidate:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(n,t){var i,r=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i=r.length>2&&void 0!==r[2]?r[2]:"",e.next=3,this.validUnique({propName:"code",propVal:t,id:i,moduleName:f["e"].UserGroup},n);case 3:case"end":return e.stop()}}),e,this)})));function n(n,t){return e.apply(this,arguments)}return n}(),uniqueNameValidate:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(n,t){var i,r=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i=r.length>2&&void 0!==r[2]?r[2]:"",e.next=3,this.validUnique({propName:"name",propVal:t,id:i,moduleName:f["e"].UserGroup},n);case 3:case"end":return e.stop()}}),e,this)})));function n(n,t){return e.apply(this,arguments)}return n}(),disRemove:function(){var e=this.selected;return!(e&&e.id&&e.code!==k)},disEdit:function(){var e=this.selected;if(e&&e.code===k)return!0}}},y=b,N=(t("b4ca"),t("2877")),$=Object(N["a"])(y,i,r,!1,null,"74fa92b6",null);n["default"]=$.exports},"7d9e":function(e,n,t){"use strict";var i=t("5c97"),r=t.n(i);r.a},"7fb8":function(e,n,t){"use strict";var i=t("6927"),r=t.n(i);r.a},"872a":function(e,n,t){var i=t("3b4a");function r(e,n,t){"__proto__"==n&&i?i(e,n,{configurable:!0,enumerable:!0,value:t,writable:!0}):e[n]=t}e.exports=r},"8eac":function(e,n,t){"use strict";var i=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("Modal",{ref:"modal",attrs:{closable:!1,"mask-closable":!1,width:e.modalWidth},model:{value:e.visible,callback:function(n){e.visible=n},expression:"visible"}},[t("p",{attrs:{slot:"header"},slot:"header"},[t("Icon",{attrs:{type:e.icon}}),t("span",[e._v(e._s(e.title))])],1),e._t("default"),t("div",{attrs:{slot:"footer"},slot:"footer"},[t("Button",{attrs:{disabled:e.loading},on:{click:e.cancelEvent}},[e._v("\n      "+e._s(e.canceltext)+"\n    ")]),e.isOk?t("Button",{attrs:{loading:e.loading,type:"primary"},on:{click:e.okEvent}},[e._v(e._s(e.$t("common.buttons.ok")))]):e._e()],1)],2)},r=[],a=(t("c5f6"),{name:"edit-modal",props:{value:{type:Boolean,default:!1},isAdding:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},modalWidth:{type:Number,default:520},subtitle:{type:String,default:""},isOk:{type:Boolean,default:!0},subIcon:{type:String,default:""},subCanceltext:{type:String,default:""}},data:function(){return{icon:this.subIcon||"md-create",title:this.subtitle||this.$t("common.actions.edit"),visible:this.value,editing:!this.isAdding,canceltext:this.subCanceltext||this.$t("common.buttons.cancel")}},methods:{cancelEvent:function(){this.$emit("cancel")},okEvent:function(){this.$emit("ok")},open:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.editing=e,this.icon=!0===e?"md-create":"md-add",this.title=this.subtitle?this.subtitle:!0===e?this.$t("common.actions.edit")+this.subtitle:this.$t("common.actions.add")+this.subtitle,this.visible=!0},close:function(){this.visible=!1,this.icon="md-create",this.title=this.$t("common.actions.edit"),this.editing=!1},scrollTop:function(){var e=this.$refs.modal.$el,n=e.getElementsByClassName("ivu-modal-body");if(n&&n.length>0){var t=n[0];t&&t.scroll&&this.$nextTick((function(){return t.scroll(0,0)}))}}},watch:{value:function(e){this.visible=e,this.title=this.subtitle},visible:function(e){!0===e&&this.scrollTop()},subtitle:function(e){this.title=e}}}),o=a,s=(t("7d9e"),t("2877")),c=Object(s["a"])(o,i,r,!1,null,"0f32854a",null),d=c.exports;n["a"]=d},"8eeb":function(e,n,t){var i=t("32b3"),r=t("872a");function a(e,n,t,a){var o=!t;t||(t={});var s=-1,c=n.length;while(++s<c){var d=n[s],u=a?a(t[d],e[d],d,t,e):void 0;void 0===u&&(u=e[d]),o?r(t,d,u):i(t,d,u)}return t}e.exports=a},"91e9":function(e,n){function t(e,n){return function(t){return e(n(t))}}e.exports=t},"91f5":function(e,n,t){"use strict";t.d(n,"e",(function(){return f}));t("96cf");var i=t("1da1"),r=t("3a31"),a=t("2e01"),o=t.n(a);t.d(n,"a",(function(){return o.a}));var s=t("9c03"),c=t.n(s);t.d(n,"b",(function(){return c.a}));var d=t("d59d"),u=t.n(d);t.d(n,"d",(function(){return u.a}));t("4fef");var l=t("32ed"),m=t.n(l);t.d(n,"c",(function(){return m.a}));t("d330");function f(){return p.apply(this,arguments)}function p(){return p=Object(i["a"])(regeneratorRuntime.mark((function e(){var n,t,i,a,s,c=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=c.length>0&&void 0!==c[0]?c[0]:{},t=c.length>1?c[1]:void 0,i=c.length>2?c[2]:void 0,a=c.length>3&&void 0!==c[3]?c[3]:0,e.next=6,r["a"].query({query:o.a,variables:{where:n,orderBy:t,first:i,skip:a}});case 6:return s=e.sent,e.abrupt("return",s.data||[]);case 8:case"end":return e.stop()}}),e)}))),p.apply(this,arguments)}},9520:function(e,n,t){var i=t("3729"),r=t("1a8c"),a="[object AsyncFunction]",o="[object Function]",s="[object GeneratorFunction]",c="[object Proxy]";function d(e){if(!r(e))return!1;var n=i(e);return n==o||n==s||n==a||n==c}e.exports=d},"95c2":function(e,n,t){"use strict";t.r(n);var i=function(){var e=this,n=e.$createElement,t=e._self._c||n;return e.model.menus&&e.model.menus.length>0?t("Collapse",{ref:"collapse",staticClass:"menu-tree",model:{value:e.model.$opened,callback:function(n){e.$set(e.model,"$opened",n)},expression:"model.$opened"}},e._l(e.model.menus,(function(n){return t("Panel",{key:n.id,staticClass:"menu-tree-item",class:{leaf:e.isLeaf(n)},attrs:{"hide-arrow":e.isLeaf(n),name:n.id}},[t("span",{staticClass:"title",on:{click:function(e){return e.stopPropagation(),function(){return!1}()}}},[t("Checkbox",{attrs:{indeterminate:n.$indeterminate},on:{"on-change":function(t){return e.onChange(n,t)}},nativeOn:{click:function(t){return e.menuCheckedChanged(n,!n.$checked)}},model:{value:n.$checked,callback:function(t){e.$set(n,"$checked",t)},expression:"item.$checked"}}),t("Icon",{attrs:{type:n.icon}}),e._v("\n      "+e._s(e.existI18N(n.i18N)?e.$t(n.i18N):n.name)+"\n    ")],1),!e.isFolder(n)&&n.actionGroups&&n.actionGroups.length>0?t("div",{staticClass:"actions",attrs:{slot:"content"},slot:"content"},e._l(n.actionGroups,(function(i){return t("Row",{key:i.id},[i.code!=e.permissionGroupCode&&i.code!=e.signPermissionGroupCode?t("Col",{attrs:{span:"3"}},[t("div",{staticClass:"label"},[t("b",[e._v(e._s(i.name))])])]):e._e(),i.code!=e.permissionGroupCode&&i.code!=e.signPermissionGroupCode?t("Col",{attrs:{span:"21"}},[t("actions-checkboxs",{staticClass:"items",attrs:{disabled:!n.$checked},on:{changed:function(t,r){return e.actionsChanged(n,t,r,i)}},model:{value:i.actions,callback:function(n){e.$set(i,"actions",n)},expression:"group.actions"}})],1):e._e()],1)})),1):t("div",{attrs:{slot:"content"},slot:"content"},[t("menu-tree-item",{attrs:{model:n},on:{actionsChanged:e.actionsChanged,changed:function(t,i){return e.cldChkChed(n,t,i)}}})],1)])})),1):e._e()},r=[],a=(t("ac6a"),t("ac4d"),t("8a81"),t("5df3"),t("1c4c"),t("7f7f"),t("6b54"),t("53ca")),o=t("2518"),s=t("f121");function c(e,n){var t;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(t=d(e))||n&&e&&"number"===typeof e.length){t&&(e=t);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){t=e[Symbol.iterator]()},n:function(){var e=t.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==t.return||t.return()}finally{if(s)throw a}}}}function d(e,n){if(e){if("string"===typeof e)return u(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?u(e,n):void 0}}function u(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,i=new Array(n);t<n;t++)i[t]=e[t];return i}var l={name:"menu-tree-item",components:{actionsCheckboxs:o["default"]},props:{model:{type:Object}},data:function(){return{permissionGroupCode:s["v"].system.roleManager.permControl,signPermissionGroupCode:s["v"].system.signManage.signPermControl}},methods:{existI18N:function(e){var n=this.$t(e);return!0===this.$te(e)&&"object"!==Object(a["a"])(n)},isFolder:function(e){return e&&e.menus&&e.menus.length>0},isLeaf:function(e){return(!e.menus||e.menus.length<1)&&(!e.actions||e.actions.length<1)},menuCheckedChanged:function(e,n){this.setChildrenChecked(e,n),this.$set(e,"$checked",n),this.$set(e,"$indeterminate",!1)},setChildrenChecked:function(e,n){if(e.menus&&e.menus.length>0){var t,i=c(e.menus);try{for(i.s();!(t=i.n()).done;){var r=t.value;this.setChildrenChecked(r,n),this.$set(r,"$checked",n)}}catch(m){i.e(m)}finally{i.f()}}else if(e.actionGroups&&e.actionGroups.length>0){var a,o=c(e.actionGroups);try{for(o.s();!(a=o.n()).done;){var s,d=a.value,u=c(d.actions);try{for(u.s();!(s=u.n()).done;){var l=s.value;this.$set(l,"$checked",n)}}catch(m){u.e(m)}finally{u.f()}}}catch(m){o.e(m)}finally{o.f()}}},actionsChanged:function(e,n,t,i){this.$emit("actionsChanged",e,n,t,i)},onChange:function(e,n){this.$emit("changed",e,n)},cldChkChed:function(e,n,t){var i=this.$_.filter(e.menus,(function(e){return!0===e.$checked||!0===e.$indeterminate})),r=i.length>0&&i.length===e.menus.length,a=i.length>0&&i.length<e.menus.length;this.$set(e,"$checked",r),this.$set(e,"$indeterminate",a),this.$emit("changed",n,t)}}},m=l,f=(t("32df"),t("2877")),p=Object(f["a"])(m,i,r,!1,null,"7eaa4731",null);n["default"]=p.exports},9638:function(e,n){function t(e,n){return e===n||e!==e&&n!==n}e.exports=t},"983c":function(e,n,t){},"99d3":function(e,n,t){(function(e){var i=t("585a"),r=n&&!n.nodeType&&n,a=r&&"object"==typeof e&&e&&!e.nodeType&&e,o=a&&a.exports===r,s=o&&i.process,c=function(){try{var e=a&&a.require&&a.require("util").types;return e||s&&s.binding&&s.binding("util")}catch(n){}}();e.exports=c}).call(this,t("62e4")(e))},"9c03":function(e,n){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"deleteSignatureRule"},arguments:[{kind:"Argument",name:{kind:"Name",value:"where"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:80}};t.loc.source={body:"mutation($id: ID!) {\r\n  deleteSignatureRule(where: { id: $id}) {\r\n    id\r\n  }\r\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};function i(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var t=e.type;"NamedType"===t.kind&&n.add(t.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){i(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){i(e,n)})),e.definitions&&e.definitions.forEach((function(e){i(e,n)}))}var r={};(function(){t.definitions.forEach((function(e){if(e.name){var n=new Set;i(e,n),r[e.name.value]=n}}))})(),e.exports=t},"9e69":function(e,n,t){var i=t("2b3e7"),r=i.Symbol;e.exports=r},adca:function(e,n,t){"use strict";t.r(n);var i=t("340f");n["default"]=i["default"]},b047:function(e,n){function t(e){return function(n){return e(n)}}e.exports=t},b218:function(e,n){var t=9007199254740991;function i(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=t}e.exports=i},b4ca:function(e,n,t){"use strict";var i=t("eb42"),r=t.n(i);r.a},b752:function(e,n,t){"use strict";t.d(n,"b",(function(){return i})),t.d(n,"a",(function(){return r}));var i={add:{icon:"md-add"},edit:{icon:"md-create"},copy:{},remove:{icon:"md-remove"},refresh:{icon:"md-refresh"},upCopy:{},export:{icon:"md-cloud-download"},print:{icon:"md-print"},upload:{icon:"ios-clund-upload-outline"},download:{icon:"ios-clund-download-outline"},expandAll:{icon:"ios-arrow-dropdown"},collapsedAll:{icon:"ios-arrow-dropup"},checkedAll:{icon:"ios-checkbox-outline"},uncheckedAll:{icon:"ios-square-outline"},start:{icon:"md-play"},stop:{icon:"md-square"},finish:{icon:"md-done-all"},pause:{icon:"md-pause"},goon:{icon:"md-play"},forward:{icon:"md-skip-forward"},backward:{icon:"md-skip-backward"},move:{icon:"md-move"},redo:{icon:"md-redo"},undo:{icon:"md-undo"},reset:{icon:"md-ionic"},import:{icon:"md-cloud-upload"},resetPassword:{},lock:{},upgrade:{icon:"md-arrow-back"},degrade:{icon:"md-arrow-forward"},downward:{icon:"md-arrow-down"},upward:{icon:"md-arrow-up"},design:{}},r=[{code:"add",i18N:"common.actions.add"},{code:"edit",i18N:"common.actions.edit"},{code:"associate",i18N:"common.actions.associate"},{code:"tag",i18N:"common.actions.tag"},{code:"copy",i18N:"common.actions.copy"},{code:"remove",i18N:"common.actions.remove"},{code:"refresh",i18N:"common.actions.refresh"},{code:"upCopy",i18N:"common.actions.upCopy"},{code:"export",i18N:"common.actions.export"},{code:"print",i18N:"common.actions.print"},{code:"upload",i18N:"common.actions.upload"},{code:"download",i18N:"common.actions.download"},{code:"expandAll",i18N:"common.actions.expandAll"},{code:"collapsedAll",i18N:"common.actions.collapsedAll"},{code:"checkedAll",i18N:"common.actions.checkedAll"},{code:"uncheckedAll",i18N:"common.actions.uncheckedAll"},{code:"start",i18N:"common.actions.start"},{code:"stop",i18N:"common.actions.stop"},{code:"finish",i18N:"common.actions.finish"},{code:"pause",i18N:"common.actions.pause"},{code:"forward",i18N:"common.actions.forward"},{code:"backward",i18N:"common.actions.backward"},{code:"move",i18N:"common.actions.move"},{code:"redo",i18N:"common.actions.redo"},{code:"undo",i18N:"common.actions.undo"},{code:"reset",i18N:"common.actions.reset"},{code:"commit",i18N:"common.actions.commit"},{code:"allow",i18N:"common.actions.allow"},{code:"withdraw",i18N:"common.actions.withdraw"},{code:"Verification",i18N:"common.actions.Verification"},{code:"cancelVerification",i18N:"common.actions.cancelVerification"},{code:"loseEfficacy",i18N:"common.actions.loseEfficacy"},{code:"takeEfficacy",i18N:"common.actions.takeEfficacy"},{code:"correct",i18N:"common.actions.correct"},{code:"release",i18N:"common.actions.release"},{code:"cancel",i18N:"common.actions.cancel"},{code:"termination",i18N:"common.actions.termination"},{code:"close",i18N:"common.actions.close"},{code:"Printing",i18N:"common.actions.Printing"},{code:"save",i18N:"common.actions.save"},{code:"import",i18N:"common.actions.import"},{code:"resetPassword",i18N:"common.actions.resetPassword"},{code:"lock",i18N:"common.actions.lock",confirm:!0,confrimTip:"common.messages.lockConfirm"},{code:"unLock",i18N:"common.actions.unlock",confirm:!0,confrimTip:"common.messages.unLockConfirm"},{code:"upgrade",i18N:"common.actions.upgrade"},{code:"degrade",i18N:"common.actions.degrade"},{code:"downward",i18N:"common.actions.downward"},{code:"upward",i18N:"common.actions.upward"},{code:"design",i18N:"common.actions.design"},{code:"invertSelection",i18N:"common.actions.invertSelection"},{code:"searchBtn",i18N:"common.actions.searchBtn"},{code:"execute",i18N:"common.actions.execute"},{code:"search",i18N:"common.actions.search"},{code:"loadMore",i18N:"common.actions.loadMore"},{code:"see",i18N:"common.actions.see"},{code:"equipment",i18N:"common.actions.equipment"},{code:"detail",i18N:"common.actions.detail"},{code:"signatureConfig",i18N:"common.actions.signatureConfig"}]},c098:function(e,n){var t=9007199254740991,i=/^(?:0|[1-9]\d*)$/;function r(e,n){var r=typeof e;return n=null==n?t:n,!!n&&("number"==r||"symbol"!=r&&i.test(e))&&e>-1&&e%1==0&&e<n}e.exports=r},c7c7:function(e,n,t){},d330:function(e,n){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"groupCategory"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"SignatureCategory"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"value"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NamedType",name:{kind:"Name",value:"ID"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"subId"}},type:{kind:"NamedType",name:{kind:"Name",value:"ID"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"nodes"},name:{kind:"Name",value:"signatureRulesConnection"},arguments:[{kind:"Argument",name:{kind:"Name",value:"where"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"AND"},value:{kind:"ListValue",values:[{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"category"},value:{kind:"Variable",name:{kind:"Name",value:"groupCategory"}}},{kind:"ObjectField",name:{kind:"Name",value:"value"},value:{kind:"Variable",name:{kind:"Name",value:"value"}}},{kind:"ObjectField",name:{kind:"Name",value:"id_not"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}},{kind:"ObjectField",name:{kind:"Name",value:"group"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"subId"}}}]}}]}]}}]}},{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}},{kind:"Argument",name:{kind:"Name",value:"skip"},value:{kind:"IntValue",value:"0"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"aggregate"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"count"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:395}};t.loc.source={body:"query(\r\n  $groupCategory: SignatureCategory!\r\n  $value: String!\r\n  $id: ID\r\n  $subId: ID\r\n) {\r\n  nodes: signatureRulesConnection(\r\n    where: {\r\n      AND: [\r\n        {\r\n          category: $groupCategory\r\n          value: $value\r\n          id_not: $id\r\n          group: { id: $subId }\r\n        }\r\n      ]\r\n    }\r\n    first: 100\r\n    skip: 0\r\n  ) {\r\n    aggregate {\r\n      count\r\n    }\r\n  }\r\n}\r\n",name:"GraphQL request",locationOffset:{line:1,column:1}};function i(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var t=e.type;"NamedType"===t.kind&&n.add(t.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){i(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){i(e,n)})),e.definitions&&e.definitions.forEach((function(e){i(e,n)}))}var r={};(function(){t.definitions.forEach((function(e){if(e.name){var n=new Set;i(e,n),r[e.name.value]=n}}))})(),e.exports=t},d370:function(e,n,t){var i=t("253c"),r=t("1310"),a=Object.prototype,o=a.hasOwnProperty,s=a.propertyIsEnumerable,c=i(function(){return arguments}())?i:function(e){return r(e)&&o.call(e,"callee")&&!s.call(e,"callee")};e.exports=c},d59d:function(e,n,t){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"where"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"SignatureRuleWhereUniqueInput"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"create"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"SignatureRuleCreateInput"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"update"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"SignatureRuleUpdateInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"node"},name:{kind:"Name",value:"upsertSignatureRule"},arguments:[{kind:"Argument",name:{kind:"Name",value:"where"},value:{kind:"Variable",name:{kind:"Name",value:"where"}}},{kind:"Argument",name:{kind:"Name",value:"create"},value:{kind:"Variable",name:{kind:"Name",value:"create"}}},{kind:"Argument",name:{kind:"Name",value:"update"},value:{kind:"Variable",name:{kind:"Name",value:"update"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"fields"},directives:[]},{kind:"Field",name:{kind:"Name",value:"group"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:338}};i.loc.source={body:"#import './_fragment.gql'\r\nmutation(\r\n  $where: SignatureRuleWhereUniqueInput!\r\n  $create: SignatureRuleCreateInput!\r\n  $update: SignatureRuleUpdateInput!\r\n) {\r\n  node: upsertSignatureRule(where: $where, create: $create, update: $update) {\r\n    ...fields\r\n    group{\r\n          id\r\n          name\r\n          description\r\n        }\r\n  }\r\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var r={};function a(e){return e.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var n=e.name.value;return!r[n]&&(r[n]=!0,!0)}))}function o(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var t=e.type;"NamedType"===t.kind&&n.add(t.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){o(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){o(e,n)})),e.definitions&&e.definitions.forEach((function(e){o(e,n)}))}i.definitions=i.definitions.concat(a(t("6569").definitions));var s={};(function(){i.definitions.forEach((function(e){if(e.name){var n=new Set;o(e,n),s[e.name.value]=n}}))})(),e.exports=i},da03:function(e,n,t){var i=t("2b3e7"),r=i["__core-js_shared__"];e.exports=r},dc57:function(e,n){var t=Function.prototype,i=t.toString;function r(e){if(null!=e){try{return i.call(e)}catch(n){}try{return e+""}catch(n){}}return""}e.exports=r},eac5:function(e,n){var t=Object.prototype;function i(e){var n=e&&e.constructor,i="function"==typeof n&&n.prototype||t;return e===i}e.exports=i},eb42:function(e,n,t){},ec69:function(e,n,t){var i=t("6fcd"),r=t("03dd"),a=t("30c9");function o(e){return a(e)?i(e):r(e)}e.exports=o},f88e:function(e,n,t){"use strict";var i=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{staticClass:"actions-mini"},[e._l(e.permissionActions,(function(n){return t("ActionButton",e._g({key:n.code,attrs:{action:n}},e.$listeners))})),e._t("default")],2)},r=[],a=(t("ac6a"),function(){var e=this,n=e.$createElement,t=e._self._c||n;return e.action.confirm?t("Poptip",{attrs:{"cancel-text":e.$t("common.buttons.cancel"),"ok-text":e.$t("common.buttons.ok"),title:e.$t(e.action.confrimTip),confirm:""},on:{"on-ok":function(n){return e.fireEvent(e.action.code,e.action.id)}}},[t("Tooltip",{attrs:{content:e.$t(e.action.i18N)}},[t("Button",{attrs:{disabled:e.action.disabled,icon:e.action.icon,loading:e.action.loading,size:"small"}})],1)],1):t("Tooltip",{attrs:{content:e.$t(e.action.i18N)}},[t("Button",{attrs:{disabled:e.action.disabled,icon:e.action.icon,loading:e.action.loading,size:"small"},on:{click:function(n){return e.fireEvent(e.action.code,e.action.id)}}})],1)}),o=[],s=t("0463"),c={props:{action:{type:Object,required:!0}},mixins:[s["a"]]},d=c,u=t("2877"),l=Object(u["a"])(d,a,o,!1,null,null,null),m=l.exports,f=t("b752"),p=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return{visible:e,disabled:!1,loading:!1}},v={add:{visible:!0},edit:{visible:!0},remove:{visible:!0,confirm:!0,confrimTip:"common.messages.deleteConfirm"},refresh:{visible:!0}},h={name:"actions-mini",mixins:[s["b"]],components:{ActionButton:m},props:{groupCode:{type:String},options:{type:Object,default:function(){return{}}}},data:function(){return{defaultOptions:this.getOptions()}},methods:{mergeAction:function(e){var n=e.code;return Object.assign({},this.getProp(),v[n],f["b"][n],e)},getOptions:function(){var e=f["a"].map((function(e){return Object.assign(p(),e)})),n={};return e.forEach((function(e){n[e.code]=Object.assign({},e,v[e.code],f["b"][e.code])})),n}},computed:{defOptions:function(){var e=this.options,n=Object.assign({},e);for(var t in n)n[t]=Object.assign({},this.getProp(),v[t],f["b"][t],n[t]);return n}}},g=h,k=(t("0ddd"),Object(u["a"])(g,i,r,!1,null,"7e1afda0",null)),b=k.exports;n["a"]=b}}]);