(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0bd406"],{"2acd":function(e,t,n){"use strict";n.r(t);n("96cf");var r=n("1da1"),a=n("b893"),c=n("1693"),u=n("f121"),s=n("8a92"),i={methods:{lotTransfer:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n,r,i,o,p,f;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.archiveObj,r=t.day,i=0,e.prev=2,o=Object(a["c"])(r),p={updatedAt_lte:o},e.next=7,Object(a["f"])(s["f"],Object.assign(p,{status:u["m"].OBSOLETE}));case 7:if(f=e.sent,!f.length){e.next=19;break}return e.t0=i,e.next=12,this.deleteLot(f);case 12:return i=e.t0+=e.sent,e.t1=i,e.next=16,this.deleteReceipt(f);case 16:return i=e.t1+=e.sent,e.next=19,Object(c["b"])();case 19:e.next=24;break;case 21:e.prev=21,e.t2=e["catch"](2),console.log(e.t2);case 24:return e.prev=24,clearInterval(this.timer),n.percent=100,e.finish(24);case 28:return e.abrupt("return",i);case 29:case"end":return e.stop()}}),e,this,[[2,21,24,28]])})));function t(t){return e.apply(this,arguments)}return t}(),deleteLot:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n,r,c,i,o,p;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.map((function(e){return e.id})),e.next=3,s["b"]({id_in:n},u["w"]);case 3:return r=e.sent,c=t.map((function(e){return e.lotNo})),e.next=7,Object(a["f"])(s["e"],{lot_in:c});case 7:return i=e.sent,o=i.map((function(e){return e.id})),e.next=11,s["a"]({id_in:o},u["w"]);case 11:return p=e.sent,e.abrupt("return",r.result.count+p.result.count);case 13:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}(),deleteReceipt:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n,r,a,c,i,o,p,f;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=[],r=[],a=0;case 3:if(!(a<t.length)){e.next=20;break}if(c=t[a].Receipts,c){e.next=7;break}return e.abrupt("continue",17);case 7:i=0;case 8:if(!(i<c.length)){e.next=17;break}if(n.push(c[i].id),o=c[i].ReceiptHistories,o){e.next=13;break}return e.abrupt("continue",14);case 13:o.map((function(e){r.push(e.id)}));case 14:i++,e.next=8;break;case 17:a++,e.next=3;break;case 20:return e.next=22,s["c"]({id_in:n},u["w"]);case 22:return p=e.sent,e.next=25,s["d"]({id_in:r},u["w"]);case 25:return f=e.sent,e.abrupt("return",p.result.count+f.result.count);case 27:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()}};t["default"]=i}}]);