(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7678589a","chunk-d75b98c6"],{"0463":function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));n("8e6e"),n("456d"),n("ac6a"),n("7514");var i=n("ade3"),a=n("2f62"),o=n("f121");function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){Object(i["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var c=Object(a["a"])("user"),l=c.mapGetters,d={methods:{fireEvent:function(e,t){this.setActionIdToLocalStorage(t),this.$emit(e)},setActionIdToLocalStorage:function(e){window.sessionStorage.setItem(o["a"],e)}}},u={methods:{getProp:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return{visible:e,disabled:!1,loading:!1}}},computed:s({permissionActions:function(){var e=this,t=this.$groupActions,n=[];if(!t.length)return{};if(this.groupCode){var i=t.find((function(t){return t.group.code===e.groupCode}));n=i&&i.actions}else n=t[0].actions;var a=this.defOptions,o={};return n&&n.forEach((function(t){var n=a[t.code];o[t.code]=n&&n.visible?Object.assign(n,t):e.mergeAction(t)})),o},actionsOptions:function(){var e=this.options,t=Object.assign({},this.defaultOptions);for(var n in e)t[n]=Object.assign({},t[n],e[n]);return t}},l({$groupActions:"groupActions"}))};t["b"]=u},"23f4":function(e,t,n){"use strict";n.d(t,"a",(function(){return b})),n.d(t,"d",(function(){return C})),n.d(t,"b",(function(){return j})),n.d(t,"c",(function(){return j}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"left-middle-right"},[n("div",{staticClass:"left",style:{flex:e.trim(e.flexLeft)}},[e._t("left")],2),n("div",{staticClass:"middle",style:{flex:e.trim(e.flexMiddle)}},[e._t("middle")],2),n("div",{staticClass:"right",style:{flex:e.trim(e.flexRight)}},[e._t("right")],2)])},a=[],o={methods:{trim:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:" ;";return this.$_.trim(e,t)}}},r=o,s="1 1 auto",c={name:"left-middle-right",mixins:[r],props:{flexLeft:{type:String,default:s},flexMiddle:{type:String,default:s},flexRight:{type:String,default:s}}},l=c,d=(n("8684"),n("2877")),u=Object(d["a"])(l,i,a,!1,null,"798cb694",null),m=(u.exports,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"left-right"},[n("div",{staticClass:"left",style:{flex:e.trim(e.flexLeft)}},[e._t("left")],2),n("div",{staticClass:"right",style:{flex:e.trim(e.flexRight)}},[e._t("right")],2)])}),h=[],f="1 1 auto",p={name:"left-right",mixins:[r],props:{flexLeft:{type:String,default:f},flexRight:{type:String,default:f}}},v=p,g=(n("513e"),Object(d["a"])(v,m,h,!1,null,"3beacd9d",null)),k=g.exports,b=k,y=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"top-bottom"},[n("div",{staticClass:"top",style:{flex:e.trim(e.flexTop)}},[e._t("top")],2),n("div",{staticClass:"bottom",style:{flex:e.trim(e.flexBottom)}},[e._t("bottom")],2)])},N=[],w="1 1 auto",A={name:"top-bottom",mixins:[r],props:{flexTop:{type:String,default:w},flexBottom:{type:String,default:w}}},x=A,O=(n("26a0"),Object(d["a"])(x,y,N,!1,null,"254ec1e7",null)),S=O.exports,C=S,T=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"one-table"},[n("div",[e._t("header")],2),n("div",{staticClass:"table",staticStyle:{overflow:"hidden"},attrs:{"flex-row":"",grow:""}},[e._t("default")],2)])},D=[],E={name:"one-table",data:function(){return{}}},F=E,$=(n("fd49"),Object(d["a"])(F,T,D,!1,null,"418ff794",null)),_=$.exports,j=_},"26a0":function(e,t,n){"use strict";var i=n("9752"),a=n.n(i);a.a},"32fa":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));n("96cf");var i=n("1da1"),a=n("bfb8"),o=n("8e29"),r=n.n(o);function s(e){return c.apply(this,arguments)}function c(){return c=Object(i["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,a["a"].query({query:r.a,Variables:{where:t}});case 2:return n=e.sent,e.abrupt("return",n.data||[]);case 4:case"end":return e.stop()}}),e)}))),c.apply(this,arguments)}},3431:function(e,t,n){"use strict";n.r(t);var i=n("8b27");t["default"]=i["default"]},"3ec0":function(e,t,n){"use strict";var i=n("6fab"),a=i["a"].clients.audit;t["a"]=a},"513e":function(e,t,n){"use strict";var i=n("f9fe"),a=n.n(i);a.a},"5ac6":function(e,t,n){"use strict";var i=n("b853"),a=n.n(i);a.a},"6e6d":function(e,t){var n={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"action"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Action"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"code"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"group"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:80}};n.loc.source={body:"fragment action on Action {\r\n  id\r\n  code\r\n  name\r\n  group {\r\n    name\r\n  }\r\n}\r\n",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=n},"74b4":function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"d",(function(){return u})),n.d(t,"b",(function(){return h})),n.d(t,"c",(function(){return p}));n("20d6"),n("7f7f"),n("96cf");var i=n("1da1"),a=n("3ec0"),o=n("77b6"),r=n.n(o),s=n("32fa"),c=n("9225");function l(){return d.apply(this,arguments)}function d(){return d=Object(i["a"])(regeneratorRuntime.mark((function e(){var t,n,i,o,s,c=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=c.length>0&&void 0!==c[0]?c[0]:{},n=c.length>1&&void 0!==c[1]?c[1]:"updatedAt_DESC",i=c.length>2&&void 0!==c[2]?c[2]:100,o=c.length>3&&void 0!==c[3]?c[3]:0,e.next=6,a["a"].query({query:r.a,variables:{where:t,orderBy:n,first:i,skip:o}});case 6:return s=e.sent,e.abrupt("return",s.data.list?s.data.list:[]);case 8:case"end":return e.stop()}}),e)}))),d.apply(this,arguments)}function u(){return m.apply(this,arguments)}function m(){return m=Object(i["a"])(regeneratorRuntime.mark((function e(){var t,n,i,o,s,l,d,u,m,h,f,p,v,g,k,b,y,N,w,A=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=A.length>0&&void 0!==A[0]?A[0]:{},n=A.length>1&&void 0!==A[1]?A[1]:"updatedAt_DESC",i=A.length>2&&void 0!==A[2]?A[2]:100,o=A.length>3&&void 0!==A[3]?A[3]:0,s=A.length>4?A[4]:void 0,l=A.length>5?A[5]:void 0,e.next=8,a["a"].query({query:r.a,variables:{where:t,orderBy:n,first:i,skip:o}});case 8:for(d=e.sent,u=JSON.parse(JSON.stringify(d.data.list)),m=0;m<u.length;m++){if(h=u[m],s.length>0)for(f=0;f<s.length;f++)p=s[f],h.actionData!=p.name&&h.username!=p.name||(h.groupName=p.group.name,h.role=p.role);if(h.signatureTrace)for(v=h.signatureTrace.info.length,h.signAndmessage="",g=0;g<v;g++)k=h.signatureTrace.info[g],b=k.text?":":"",y=k.user.name?k.user.name:k.user,h.signAndmessage+=y+b+k.text+";";for(N=0;N<l.actions.length;N++)h&&h.action&&h.action==l.actions[N].id?(h.method=l.actions[N].name,h.actionTarget=l.actions[N].group.name):"/logout"==h.action||"/api/logout"==h.action?h.method=c["b"].t("common.actions.logout"):"/login"==h.action||"/api/login"==h.action?(h.method=c["b"].t("common.actions.login"),h.actionTarget=c["b"].t("menus.system.user"),h.username=h.actionData):"/data/system/setPassword"==h.action||"/api/resetPassword"==h.action?h.method=c["b"].t("common.modifyPassword"):"mioperation"==h.action||"miMfgsublot"==h.action||"mfgSubLot"==h.action?(h.method=c["b"].t("common.actions.MIEvent"),h.actionTarget=c["b"].t("common.actions.MIsystem")):h.action&&-1!=h.action.indexOf("unlock")?h.method=c["b"].t("common.actions.unLock"):h.action&&-1!=h.action.indexOf("lock")?h.method=c["b"].t("common.actions.lock"):"balance"==h.action?(h.method=c["b"].t("common.actions.calibration"),h.actionTarget=c["b"].t("common.actions.balance")):("weight"==h.action||"weight"==h.action)&&(h.method=c["b"].t("common.actions.Verification"),h.actionTarget=c["b"].t("common.actions.OrderMaterial"));h.description=h.method+":"+JSON.stringify(h.request)}return w=JSON.parse(JSON.stringify(d)),w.data.list=u,e.abrupt("return",w.data||[]);case 14:case"end":return e.stop()}}),e)}))),m.apply(this,arguments)}function h(){return f.apply(this,arguments)}function f(){return f=Object(i["a"])(regeneratorRuntime.mark((function e(){var t,n,i,o,s,c,l,d,u=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=u.length>0&&void 0!==u[0]?u[0]:{},n=u.length>1&&void 0!==u[1]?u[1]:"updatedAt_DESC",i=u.length>2&&void 0!==u[2]?u[2]:100,o=u.length>3&&void 0!==u[3]?u[3]:0,e.next=6,a["a"].query({query:r.a,variables:{where:t,orderBy:n,first:i,skip:o}});case 6:for(s=e.sent,c=JSON.parse(JSON.stringify(s.data)),l=[],d=0;d<c.list.length;d++)l.push(c.list[d].response);return c.list=l,e.abrupt("return",c||[]);case 12:case"end":return e.stop()}}),e)}))),f.apply(this,arguments)}function p(){return v.apply(this,arguments)}function v(){return v=Object(i["a"])(regeneratorRuntime.mark((function e(){var t,n,i,o,c,l,d,u,m,h,f,p,v,g,k,b,y,N,w,A,x,O,S=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=S.length>0&&void 0!==S[0]?S[0]:{},n=S.length>1&&void 0!==S[1]?S[1]:"updatedAt_DESC",i=S.length>2&&void 0!==S[2]?S[2]:100,o=S.length>3&&void 0!==S[3]?S[3]:0,c=S.length>4?S[4]:void 0,l=S.length>5?S[5]:void 0,d=(l||[]).findIndex((function(e){return"method"==e.field})),e.next=9,a["a"].query({query:r.a,variables:{where:t,orderBy:n,first:i,skip:o}});case 9:return u=e.sent,m=JSON.parse(JSON.stringify(u.data.list)),h={},e.next=14,Object(s["a"])(h);case 14:for(f=e.sent,p=0;p<m.length;p++){if(v=m[p],c.length>0)for(g=0;g<c.length;g++)if(k=c[g],v.actionData==k.id)for(b=2;b<=d;b++)l[b],v[l[b].field]=k[l[b].field];if(v.signatureTrace)for(y=v.signatureTrace.info.length,v.signAndmessage="",N=0;N<y;N++)w=v.signatureTrace.info[N],A=w.text?":":"",v.signAndmessage+=w.user+A+w.text+";";for(x=0;x<f.actions.length;x++)v&&v.action&&v.action==f.actions[x].id&&(v.method=f.actions[x].name,v.actionTarget=f.actions[x].group.name);v.description=v.method+":"+JSON.stringify(v.request)}return O=JSON.parse(JSON.stringify(u)),O.data.list=m,e.abrupt("return",O.data||[]);case 19:case"end":return e.stop()}}),e)}))),v.apply(this,arguments)}},"77b6":function(e,t,n){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"where"}},type:{kind:"NamedType",name:{kind:"Name",value:"AuditTraceWhereInput"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"orderBy"}},type:{kind:"NamedType",name:{kind:"Name",value:"AuditTraceOrderByInput"}},defaultValue:{kind:"EnumValue",value:"updatedAt_DESC"},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"first"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},defaultValue:{kind:"IntValue",value:"100"},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"skip"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},defaultValue:{kind:"IntValue",value:"0"},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"list"},name:{kind:"Name",value:"auditTraces"},arguments:[{kind:"Argument",name:{kind:"Name",value:"where"},value:{kind:"Variable",name:{kind:"Name",value:"where"}}},{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"Variable",name:{kind:"Name",value:"first"}}},{kind:"Argument",name:{kind:"Name",value:"skip"},value:{kind:"Variable",name:{kind:"Name",value:"skip"}}},{kind:"Argument",name:{kind:"Name",value:"orderBy"},value:{kind:"Variable",name:{kind:"Name",value:"orderBy"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"auditFields"},directives:[]}]}},{kind:"Field",alias:{kind:"Name",value:"total"},name:{kind:"Name",value:"auditTracesConnection"},arguments:[{kind:"Argument",name:{kind:"Name",value:"where"},value:{kind:"Variable",name:{kind:"Name",value:"where"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"aggregate"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"count"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"pageInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"hasNextPage"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:432}};i.loc.source={body:"#import './_fragment.gql'\r\nquery(\r\n  $where: AuditTraceWhereInput\r\n  $orderBy: AuditTraceOrderByInput = updatedAt_DESC\r\n  $first: Int = 100\r\n  $skip: Int = 0\r\n) {\r\n  list: auditTraces(\r\n    where: $where\r\n    first: $first\r\n    skip: $skip\r\n    orderBy: $orderBy\r\n  ) {\r\n    ...auditFields\r\n  }\r\n  total: auditTracesConnection(where: $where) {\r\n    aggregate {\r\n      count\r\n    }\r\n    pageInfo {\r\n      hasNextPage\r\n    }\r\n  }\r\n}\r\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};function o(e){return e.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!a[t]&&(a[t]=!0,!0)}))}function r(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var n=e.type;"NamedType"===n.kind&&t.add(n.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){r(e,t)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){r(e,t)})),e.definitions&&e.definitions.forEach((function(e){r(e,t)}))}i.definitions=i.definitions.concat(o(n("9b43e").definitions));var s={};(function(){i.definitions.forEach((function(e){if(e.name){var t=new Set;r(e,t),s[e.name.value]=t}}))})(),e.exports=i},"7c69":function(e,t,n){},8684:function(e,t,n){"use strict";var i=n("7c69"),a=n.n(i);a.a},"8b27":function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("one-table",[n("actions",{attrs:{slot:"header",options:e.topActionsOptions,placeholder:e.$t("audit.codeOrName")},on:{checkedAll:e.selectAll,invertSelection:e.invertSelection,onlyChoose:e.onlyChoose,refresh:e.refresh,uncheckedAll:e.uncheckedAll},slot:"header"}),n("actions",{attrs:{slot:"header",options:e.bottomActionsOptions,placeholder:e.$t("audit.codeOrName")},on:{refresh:e.refresh,search:e.search,searchBtn:function(t){return e.externalFilterChanged()}},slot:"header"}),"NODELETE"==e.istrue?n("grid",{key:e.key2,ref:"myGrid",staticClass:"grid",attrs:{api:e.api,colDefs:e.columnDefs,isSelectAll:e.isSelectAll,rowMultiSelectWithClick:!0,rowSelection:e.rowSelection,sideBar:!1,suppressContextMenu:e.suppressContextMenu,suppressRowClickSelection:!0},on:{onFilterChanged:e.onFilterChanged,selectionChanged:e.selectionChanged}}):e._e(),"DELETE"==e.istrue?n("grid",{key:e.key1,ref:"myGrid",staticClass:"grid",attrs:{api:e.deleteapi,colDefs:e.deletecolumnDefs,isSelectAll:e.isSelectAll,rowMultiSelectWithClick:!0,rowSelection:e.rowSelection,sideBar:!1,suppressContextMenu:e.suppressContextMenu,suppressRowClickSelection:!0},on:{onFilterChanged:e.onFilterChanged,selectionChanged:e.selectionChanged}}):e._e()],1)},a=[],o=(n("7f7f"),n("96cf"),n("1da1")),r=(n("386d"),n("28a5"),n("a481"),n("23f4")),s=n("9b95"),c=n("e3e6"),l=n("e197"),d=n("74b4"),u=n("16f5"),m=n("b18f"),h=n("59c6"),f=n("963c"),p=n("8019"),v=n("2ec1"),g=n("7d96"),k=n("969c"),b=n("3407"),y=n("ce0c"),N={name:"left-list",components:{oneTable:r["c"],actions:s["a"],grid:c["a"]},mixins:[l["a"]],data:function(){function e(e){return e.replace(/( |^)[a-z]/g,(function(e){return e.toUpperCase()}))}var t=this.$route.meta.org.url.split("/");return{urlModel:e(t[t.length-1]),urlArray:t,key1:"DELETE",key2:"NODELETE",topActionsOptions:{onlyChoose:{visible:!0,disabled:!1,type:"radio"},search:{visible:!1,disabled:!1},searchBtn:{visible:!1,disabled:!1}},columnDefs:[{type:["rowNumberColumn"],width:90,checkboxSelection:!0},{headerName:this.$t("audit.code"),field:"code",filter:"agTextColumnFilter",sortable:!0},{headerName:this.$t("audit.name"),field:"name",filter:"agTextColumnFilter",sortable:!0},{headerName:this.$t("common.labels.updatedAt"),valueFormatter:y["a"],field:"updatedAt",filter:"agDateColumnFilter",width:200,sort:"desc"}],deletecolumnDefs:[{type:["rowNumberColumn"],width:70,checkboxSelection:!0},{headerName:this.$t("audit.code"),field:"code",filter:!1,sortable:!1},{headerName:this.$t("audit.name"),field:"name",filter:!1,sortable:!1},{headerName:this.$t("common.labels.updatedAt"),valueFormatter:y["a"],field:"updatedAt",filter:"agDateColumnFilter"}],api:this.getpagenations,deleteapi:this.deletePagenation,rowSelection:"multiple",searchText:"",where:{},selectedRows:[],isSelectAll:!0,suppressContextMenu:!1,pagesize:0,filterchange:!1}},methods:{onlyChoose:function(e){"DELETE"==e?(this.uncheckedAll(),this.bottomActionsOptions.search.visible=!1,this.bottomActionsOptions.searchBtn.visible=!1):(this.uncheckedAll(),this.bottomActionsOptions.search.visible=!0,this.bottomActionsOptions.searchBtn.visible=!0),this.istrue=e,this.refresh()},getpagenations:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t,n,i,a){var o,r,s,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:o=this.urlArray[this.urlArray.length-1],r="",e.t0=o,e.next="enterprise"===e.t0?5:"site"===e.t0?7:"area"===e.t0?9:"location"===e.t0?11:"sector"===e.t0?13:"workCenter"===e.t0?15:"device"===e.t0?17:"workStation"===e.t0?19:"zone"===e.t0?21:23;break;case 5:return r=u,e.abrupt("break",24);case 7:return r=m,e.abrupt("break",24);case 9:return r=h,e.abrupt("break",24);case 11:return r=f,e.abrupt("break",24);case 13:return r=p,e.abrupt("break",24);case 15:return r=v,e.abrupt("break",24);case 17:return r=k,e.abrupt("break",24);case 19:return r=g,e.abrupt("break",24);case 21:return r=b,e.abrupt("break",24);case 23:r=u;case 24:return null!=this.searchText&&""!=this.searchText||t!={}?null==this.searchText||""==this.searchText&&t!={}?this.where={AND:[t||{}]}:this.where={AND:[t,{OR:[{code_contains:this.searchText},{name_contains:this.searchText}]}]}:this.where={},e.next=27,r.pagination(this.where,n,i,a);case 27:return s=e.sent,this.pagesize=a+s.data?s.data.list.length:s.list.length,c=s.data?s.data.list:s.list,this.$emit("change",c),this.topActionsOptions.checkedAll.visible=!1,this.topActionsOptions.uncheckedAll.visible=!0,e.abrupt("return",s.data?s.data:s);case 34:case"end":return e.stop()}}),e,this)})));function t(t,n,i,a){return e.apply(this,arguments)}return t}(),deletePagenation:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t,n,i,a){var o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.where={AND:[{actionTarget:this.urlModel,isDelete:!0},t||{}]},e.next=3,d["b"](this.where,n,i,a);case 3:return o=e.sent,o&&(this.pagesize=a+o.list.length,this.$emit("change",o.list,this.urlModel),this.topActionsOptions.checkedAll.visible=!1,this.topActionsOptions.uncheckedAll.visible=!0),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e,this)})));function t(t,n,i,a){return e.apply(this,arguments)}return t}(),selectionChanged:function(e){var t=[];if(this.searchText)for(var n=0;n<e.length;n++)-1==e[n].code.toLowerCase().indexOf(this.searchText.toLowerCase())&&-1==e[n].name.toLowerCase().indexOf(this.searchText.toLowerCase())||t.push(e[n]);this.selectedRows=t.length>0?t:e,0==this.selectedRows.length?(this.topActionsOptions.checkedAll.visible=!0,this.topActionsOptions.uncheckedAll.visible=!1):this.selectedRows.length==this.pagesize||this.filterchange?(this.topActionsOptions.checkedAll.visible=!1,this.topActionsOptions.uncheckedAll.visible=!0):(this.topActionsOptions.checkedAll.visible=!0,this.topActionsOptions.uncheckedAll.visible=!1),this.filterchange=!1,this.$emit("change",this.selectedRows,this.urlModel)}}},w=N,A=n("2877"),x=Object(A["a"])(w,i,a,!1,null,null,null);t["default"]=x.exports},"8e29":function(e,t,n){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"where"}},type:{kind:"NamedType",name:{kind:"Name",value:"ActionWhereInput"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"actions"},arguments:[{kind:"Argument",name:{kind:"Name",value:"where"},value:{kind:"Variable",name:{kind:"Name",value:"where"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"action"},directives:[]}]}}]}}],loc:{start:0,end:113}};i.loc.source={body:"#import './_fragment.gql'\r\nquery($where: ActionWhereInput) {\r\n  actions(where: $where) {\r\n    ...action\r\n  }\r\n}\r\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};function o(e){return e.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!a[t]&&(a[t]=!0,!0)}))}function r(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var n=e.type;"NamedType"===n.kind&&t.add(n.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){r(e,t)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){r(e,t)})),e.definitions&&e.definitions.forEach((function(e){r(e,t)}))}i.definitions=i.definitions.concat(o(n("6e6d").definitions));var s={};(function(){i.definitions.forEach((function(e){if(e.name){var t=new Set;r(e,t),s[e.name.value]=t}}))})(),e.exports=i},9752:function(e,t,n){},"9b43e":function(e,t){var n={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"auditFields"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"AuditTrace"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"module"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"method"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"actionData"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"action"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"actionTarget"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"actionDate"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"version"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"username"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"workCenter"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"workStation"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"request"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"response"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isDelete"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"signatureTrace"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"info"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"updatedAt"},arguments:[],directives:[]}]}}],loc:{start:0,end:292}};n.loc.source={body:"fragment auditFields on AuditTrace {\r\n  id\r\n  module\r\n  method\r\n  actionData\r\n  action\r\n  actionTarget\r\n  actionDate\r\n  version\r\n  username\r\n  workCenter\r\n  workStation\r\n  request\r\n  response\r\n  isDelete\r\n  signatureTrace {\r\n    id\r\n    info\r\n    createdAt\r\n  }\r\n  createdAt\r\n  updatedAt\r\n}\r\n",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=n},"9b95":function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"app-toolbar"},[e.options.onlyChoose&&e.options.onlyChoose.type&&"radio"==e.options.onlyChoose.type?n("Select",{staticStyle:{width:"90px",margin:"0px"},on:{"on-change":e.onlyChoose},model:{value:e.isdelete,callback:function(t){e.isdelete=t},expression:"isdelete"}},e._l(e.deleteitems,(function(t,i){return n("Option",{key:i,attrs:{value:t.value}},[e._v(e._s(t.name))])})),1):e._e(),e.options.search&&e.options.search.visible?n("Input",{staticStyle:{"padidng-left":"0px",width:"auto",padding:"0:height:100%"},attrs:{placeholder:e.placeholder},on:{"on-blur":e.searchEvent,"on-click":e.searchEvent,"on-keydown":e.searchEvent},model:{value:e.searchText,callback:function(t){e.searchText=t},expression:"searchText"}},[n("Select",{directives:[{name:"show",rawName:"v-show",value:e.lableitems.length>0,expression:"lableitems.length > 0"}],staticStyle:{width:"100px",margin:"0px","padding-top":"0px",padding:"0px"},attrs:{slot:"prepend",value:e.value},on:{"on-change":e.change,input:function(t){return e.$emit("input",t)}},slot:"prepend"},e._l(e.items,(function(t,i){return n("Option",{key:i,attrs:{value:t.value}},[e._v(e._s(t.text))])})),1)],1):e._e(),e._l(e.permissionActions,(function(t){return n("action-button",e._g({key:t.code,attrs:{action:t}},e.$listeners))})),e._t("default")],2)},a=[],o=(n("ac6a"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.action.confirm?n("Poptip",{attrs:{"cancel-text":e.$t("common.buttons.cancel"),"ok-text":e.$t("common.buttons.ok"),title:e.$t(e.action.confrimTip),confirm:""},on:{"on-ok":function(t){return e.fireEvent(e.action.code,e.action.id)}}},[n("Button",{attrs:{disabled:e.action.disabled,loading:e.action.loading,type:e.action.type}},[e._v(e._s(e.$t(e.action.i18N)))])],1):e.action.visible?n("Button",{attrs:{disabled:e.action.disabled,loading:e.action.loading,type:e.action.type},on:{click:function(t){return e.fireEvent(e.action.code,e.action.id)}}},[e._v(e._s(e.$t(e.action.i18N)))]):e._e()}),r=[],s=n("0463"),c={props:{action:{type:Object,required:!0}},mixins:[s["a"]]},l=c,d=n("2877"),u=Object(d["a"])(l,o,r,!1,null,null,null),m=u.exports,h=n("b752"),f=n("9225"),p=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return{visible:e,disabled:!1,loading:!1,type:"default"}},v={add:{visible:!0},edit:{visible:!0},remove:{visible:!0,confirm:!0,confrimTip:"common.messages.deleteConfirm"},refresh:{visible:!0}},g={name:"actions",mixins:[s["b"]],components:{ActionButton:m},props:{groupCode:{type:String},options:{type:Object,default:function(){return{}}},placeholder:{type:String,default:function(){return f["b"].t("common.placeholders.plsInput")}},value:{type:[String,Array],default:"",required:!1},lableitems:{type:Array,default:function(){return[]}},isDelete:{type:[String,Array],default:"NODELETE",required:!1}},data:function(){return{deleteitems:[{value:"DELETE",name:f["b"].t("common.actions.remove")},{value:"NODELETE",name:f["b"].t("common.actions.noRemove")}],defaultOptions:this.getOptions(),searchText:"",items:[],isdelete:this.isDelete,select:this.value}},computed:{defOptions:function(){var e=this.options,t=Object.assign({},e);for(var n in t)t[n]=Object.assign({},this.getProp(),v[n],t[n]);return t}},methods:{onlyChoose:function(e){this.$emit("onlyChoose",e)},getOptions:function(){var e=h["a"].map((function(e){return Object.assign(p(),e)}));e.push({code:"search",visible:!1,disabled:!1,autofocus:!1});var t={};return e.forEach((function(e){t[e.code]=Object.assign({},e,v[e.code])})),t},searchEvent:function(e){this.$emit("search",this.searchText,e)},mergeAction:function(e){var t=this.options,n=Object.assign({},t);return Object.assign({},this.getProp(),v[e.code],n[e.code],e)},clear:function(){this.$emit("search","")},change:function(e){this.$emit("change",e)}},watch:{lableitems:function(){this.lableitems.length>0&&(this.items=this.lableitems)}}},k=g,b=(n("5ac6"),Object(d["a"])(k,i,a,!1,null,"4b97ecc2",null)),y=b.exports;t["a"]=y},b752:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return a}));var i={add:{icon:"md-add"},edit:{icon:"md-create"},copy:{},remove:{icon:"md-remove"},refresh:{icon:"md-refresh"},upCopy:{},export:{icon:"md-cloud-download"},print:{icon:"md-print"},upload:{icon:"ios-clund-upload-outline"},download:{icon:"ios-clund-download-outline"},expandAll:{icon:"ios-arrow-dropdown"},collapsedAll:{icon:"ios-arrow-dropup"},checkedAll:{icon:"ios-checkbox-outline"},uncheckedAll:{icon:"ios-square-outline"},start:{icon:"md-play"},stop:{icon:"md-square"},finish:{icon:"md-done-all"},pause:{icon:"md-pause"},goon:{icon:"md-play"},forward:{icon:"md-skip-forward"},backward:{icon:"md-skip-backward"},move:{icon:"md-move"},redo:{icon:"md-redo"},undo:{icon:"md-undo"},reset:{icon:"md-ionic"},import:{icon:"md-cloud-upload"},resetPassword:{},lock:{},upgrade:{icon:"md-arrow-back"},degrade:{icon:"md-arrow-forward"},downward:{icon:"md-arrow-down"},upward:{icon:"md-arrow-up"},design:{}},a=[{code:"add",i18N:"common.actions.add"},{code:"edit",i18N:"common.actions.edit"},{code:"associate",i18N:"common.actions.associate"},{code:"tag",i18N:"common.actions.tag"},{code:"copy",i18N:"common.actions.copy"},{code:"remove",i18N:"common.actions.remove"},{code:"refresh",i18N:"common.actions.refresh"},{code:"upCopy",i18N:"common.actions.upCopy"},{code:"export",i18N:"common.actions.export"},{code:"print",i18N:"common.actions.print"},{code:"upload",i18N:"common.actions.upload"},{code:"download",i18N:"common.actions.download"},{code:"expandAll",i18N:"common.actions.expandAll"},{code:"collapsedAll",i18N:"common.actions.collapsedAll"},{code:"checkedAll",i18N:"common.actions.checkedAll"},{code:"uncheckedAll",i18N:"common.actions.uncheckedAll"},{code:"start",i18N:"common.actions.start"},{code:"stop",i18N:"common.actions.stop"},{code:"finish",i18N:"common.actions.finish"},{code:"pause",i18N:"common.actions.pause"},{code:"forward",i18N:"common.actions.forward"},{code:"backward",i18N:"common.actions.backward"},{code:"move",i18N:"common.actions.move"},{code:"redo",i18N:"common.actions.redo"},{code:"undo",i18N:"common.actions.undo"},{code:"reset",i18N:"common.actions.reset"},{code:"commit",i18N:"common.actions.commit"},{code:"allow",i18N:"common.actions.allow"},{code:"withdraw",i18N:"common.actions.withdraw"},{code:"Verification",i18N:"common.actions.Verification"},{code:"cancelVerification",i18N:"common.actions.cancelVerification"},{code:"loseEfficacy",i18N:"common.actions.loseEfficacy"},{code:"takeEfficacy",i18N:"common.actions.takeEfficacy"},{code:"correct",i18N:"common.actions.correct"},{code:"release",i18N:"common.actions.release"},{code:"cancel",i18N:"common.actions.cancel"},{code:"termination",i18N:"common.actions.termination"},{code:"close",i18N:"common.actions.close"},{code:"Printing",i18N:"common.actions.Printing"},{code:"save",i18N:"common.actions.save"},{code:"import",i18N:"common.actions.import"},{code:"resetPassword",i18N:"common.actions.resetPassword"},{code:"lock",i18N:"common.actions.lock",confirm:!0,confrimTip:"common.messages.lockConfirm"},{code:"unLock",i18N:"common.actions.unlock",confirm:!0,confrimTip:"common.messages.unLockConfirm"},{code:"upgrade",i18N:"common.actions.upgrade"},{code:"degrade",i18N:"common.actions.degrade"},{code:"downward",i18N:"common.actions.downward"},{code:"upward",i18N:"common.actions.upward"},{code:"design",i18N:"common.actions.design"},{code:"invertSelection",i18N:"common.actions.invertSelection"},{code:"searchBtn",i18N:"common.actions.searchBtn"},{code:"execute",i18N:"common.actions.execute"},{code:"search",i18N:"common.actions.search"},{code:"loadMore",i18N:"common.actions.loadMore"},{code:"see",i18N:"common.actions.see"},{code:"equipment",i18N:"common.actions.equipment"},{code:"detail",i18N:"common.actions.detail"},{code:"signatureConfig",i18N:"common.actions.signatureConfig"}]},b853:function(e,t,n){},ce0c:function(e,t,n){"use strict";var i=n("c1df"),a=n.n(i),o=function(e){if(e.value){var t=a()(new Date(e.value));return t.format("YYYY-MM-DD HH:mm:ss")}return""};t["a"]=o},e197:function(e,t,n){"use strict";n("7f7f"),n("96cf");var i=n("1da1"),a=n("c9e5"),o={data:function(){return{selectArray:[],istrue:"NODELETE",topActionsOptions:{Printing:{visible:!1,disabled:!0},search:{visible:!0,disabled:!1},searchBtn:{visible:!0,disabled:!1},checkedAll:{visible:!1,disabled:!1},uncheckedAll:{visible:!0,disabled:!1},invertSelection:{visible:!0,disabled:!1}},bottomActionsOptions:{print:{visible:!1,disabled:!0},search:{visible:!0,disabled:!1},searchBtn:{visible:!0,disabled:!1},checkedAll:{visible:!1,disabled:!1},uncheckedAll:{visible:!1,disabled:!1},invertSelection:{visible:!1,disabled:!1},onlyChoose:{visible:!1,disabled:!1}}}},mounted:function(){this.personGroup()},methods:{personGroup:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t,n,i,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(a["a"])();case 2:for(t=e.sent,n=t.userGroups,i=0;i<n.length;i++)o={},o.value=n[i].code,o.text=n[i].name,this.selectArray.push(o);this.select=this.selectArray[0].value,this.externalFilterChanged();case 7:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),change:function(e){this.select=e,this.$refs.myGrid.deselectAll(),this.$refs.myGrid.gridApi.setFilterModel(null),this.externalFilterChanged()},invertSelection:function(){var e=this.$refs.myGrid.getSelectedNodes();this.$refs.myGrid.invertSelection(),0==e.length?(this.topActionsOptions.checkedAll.visible=!1,this.topActionsOptions.uncheckedAll.visible=!0):e.length==this.pagesize&&(this.topActionsOptions.checkedAll.visible=!0,this.topActionsOptions.uncheckedAll.visible=!1)},selectAll:function(){this.$refs.myGrid.selectAll(),this.topActionsOptions.checkedAll.visible=!1,this.topActionsOptions.uncheckedAll.visible=!0},uncheckedAll:function(){this.$refs.myGrid.deselectAll(),this.topActionsOptions.checkedAll.visible=!0,this.topActionsOptions.uncheckedAll.visible=!1},externalFilterChanged:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.$refs.myGrid.gridApi&&this.$refs.myGrid.gridApi.paginationGoToFirstPage(),"NODELETE"==this.istrue){e.next=8;break}return e.next=4,this.uncheckedAll();case 4:this.deleteapi=this.deletePagenation,this.refresh(),e.next=12;break;case 8:return e.next=10,this.uncheckedAll();case 10:this.api=this.getpagenations,this.refresh();case 12:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),search:function(e,t){t&&13==t.keyCode?(this.searchText=e,this.externalFilterChanged()):this.searchText=e},onFilterChanged:function(e){this.uncheckedAll(),this.filterchange=e},refresh:function(){this.$nextTick((function(){this.$refs.myGrid.refresh()}))}}};t["a"]=o},f9fe:function(e,t,n){},fa5c:function(e,t,n){},fd49:function(e,t,n){"use strict";var i=n("fa5c"),a=n.n(i);a.a}}]);