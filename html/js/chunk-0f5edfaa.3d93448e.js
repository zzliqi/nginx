(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0f5edfaa","chunk-09194cbb","chunk-3071a10d","chunk-5a2dc756","chunk-261021ba","chunk-3bd5f494","chunk-632b8d57","chunk-2d20ebc2"],{"0740":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("edit-modal",{ref:"editModal",staticClass:"custom-width",attrs:{modalWidth:996,subtitle:t.title},on:{cancel:t.cancel,ok:t.ok},model:{value:t.dialogVisible,callback:function(e){t.dialogVisible=e},expression:"dialogVisible"}},[s("Row",{attrs:{wrap:""}},[s("Col",{attrs:{span:"24"}},[s("base-info",{attrs:{modal:t.modal}})],1),s("Col",{attrs:{span:"24"}},[s(t.dynComp,{tag:"component",attrs:{modal:t.modal,unAssociateData:t.unAssociateData},on:{change:t.associateChangeHandle}})],1)],1)],1)],1)},i=[],o=s("8eac"),n=s("a868"),c=s("8ae2"),l=s("f121"),r={name:"associate-component",inheritAttrs:!1,props:{isSector:{type:Boolean,default:!1},show:{type:Boolean,default:!1},title:{type:String,default:"Default"},modal:{type:Object},unAssociateData:{type:Object}},components:{editModal:o["a"],baseInfo:n["default"],buildAssociate:c["default"],sectorAssociate:c["sectorAssociate"]},mounted:function(){this.dynComp=this.isSector?"sectorAssociate":"buildAssociate",this.$refs.editModal.open()},data:function(){return{associateCount:0,dynComp:"buildAssociate",datas:{},dialogVisible:this.show}},methods:{associateChangeHandle:function(t,e){this.datas={associateDatas:t},this.associateCount=e},ok:function(){if(this.associateCount>l["c"])return this.$Message.error(this.$t("product.factory.valid.associateMax",{num:l["c"]})),!1;this.$emit("ok",this.datas)},cancel:function(){this.$refs.editModal.close(),this.$emit("cancel")}}},d=r,u=s("2877"),h=Object(u["a"])(d,a,i,!1,null,null,null);e["default"]=h.exports},"28e7":function(t,e,s){},3339:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"client-grid"},[s("ag-grid",t._g({staticClass:"ag-theme-material full-size",attrs:{gridOptions:t.op,modules:t.modules,rowData:t.rowData}},t.$listeners))],1)},i=[],o=(s("8e6e"),s("ac6a"),s("456d"),s("53ca")),n=s("ade3"),c=s("9974b"),l=s("2f62");function r(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,a)}return s}function d(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?r(Object(s),!0).forEach((function(e){Object(n["a"])(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):r(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}var u={name:"common-grid",inheritAttrs:!1,props:{sizeColumnsToFit:{type:Boolean,default:!1},columnDefs:{type:Array,default:function(){return[]}},rowData:{type:Array,default:function(){return[]}}},computed:d({},Object(l["c"])("app",["pageResize"])),watch:{pageResize:function(){this.sizeColumnsToFit&&this.gridApi.sizeColumnsToFit()}},data:function(){return{modules:c["a"],gridApi:null,columnApi:null,op:{onGridReady:this.gridReady.bind(this),context:{componentParent:this},localeTextFunc:this.$agLocaleTextFunc.bind(this),editType:"fullRow",rowSelection:"single",rowDeselection:!0,suppressMultiSort:!0,suppressContextMenu:!0,getRowNodeId:function(t){return t.id},defaultColDef:{resizable:!0,enableValue:!1,enableRowGroup:!1,enablePivot:!1,width:150,minWidth:50},columnTypes:{rowNumberColumn:{headerName:this.$t("common.labels.rowIndex"),headerClass:"col-row-index",cellClass:"col-row-index",width:50,valueGetter:function(t){return t.node.rowIndex+1},suppressColumnsToolPanel:!0,suppressFiltersToolPanel:!0,suppressMenu:!0,sortable:!1,filter:!1,lockPosition:!0,pinned:"left",suppressMovable:!0}},columnDefs:this.columnDefs}}},methods:{$agLocaleTextFunc:function(t,e){var s="agGrid.",a=s+t,i=this.$t(a),n=e;return!0===this.$te(a)&&"object"!==Object(o["a"])(i)&&(n=i),n},gridReady:function(t){this.gridApi=t.api,this.columnApi=t.columnApi,this.sizeColumnsToFit&&this.gridApi.sizeColumnsToFit(),this.$emit("gridReady",this.gridApi)}}},h=u,f=(s("b3f5"),s("2877")),p=Object(f["a"])(h,a,i,!1,null,"27b5ab62",null);e["default"]=p.exports},5336:function(t,e,s){},"5c97":function(t,e,s){},"65ae":function(t,e,s){"use strict";s.r(e);var a=s("3339");e["default"]=a["default"]},"7d38":function(t,e,s){"use strict";var a=s("5336"),i=s.n(a);i.a},"7d9e":function(t,e,s){"use strict";var a=s("5c97"),i=s.n(a);i.a},"8ae2":function(t,e,s){"use strict";s.r(e);var a=s("986f"),i=s("db70");s.d(e,"sectorAssociate",(function(){return i["default"]})),e["default"]=a["default"]},"8eac":function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("Modal",{ref:"modal",attrs:{closable:!1,"mask-closable":!1,width:t.modalWidth},model:{value:t.visible,callback:function(e){t.visible=e},expression:"visible"}},[s("p",{attrs:{slot:"header"},slot:"header"},[s("Icon",{attrs:{type:t.icon}}),s("span",[t._v(t._s(t.title))])],1),t._t("default"),s("div",{attrs:{slot:"footer"},slot:"footer"},[s("Button",{attrs:{disabled:t.loading},on:{click:t.cancelEvent}},[t._v("\n      "+t._s(t.canceltext)+"\n    ")]),t.isOk?s("Button",{attrs:{loading:t.loading,type:"primary"},on:{click:t.okEvent}},[t._v(t._s(t.$t("common.buttons.ok")))]):t._e()],1)],2)},i=[],o=(s("c5f6"),{name:"edit-modal",props:{value:{type:Boolean,default:!1},isAdding:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},modalWidth:{type:Number,default:520},subtitle:{type:String,default:""},isOk:{type:Boolean,default:!0},subIcon:{type:String,default:""},subCanceltext:{type:String,default:""}},data:function(){return{icon:this.subIcon||"md-create",title:this.subtitle||this.$t("common.actions.edit"),visible:this.value,editing:!this.isAdding,canceltext:this.subCanceltext||this.$t("common.buttons.cancel")}},methods:{cancelEvent:function(){this.$emit("cancel")},okEvent:function(){this.$emit("ok")},open:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.editing=t,this.icon=!0===t?"md-create":"md-add",this.title=this.subtitle?this.subtitle:!0===t?this.$t("common.actions.edit")+this.subtitle:this.$t("common.actions.add")+this.subtitle,this.visible=!0},close:function(){this.visible=!1,this.icon="md-create",this.title=this.$t("common.actions.edit"),this.editing=!1},scrollTop:function(){var t=this.$refs.modal.$el,e=t.getElementsByClassName("ivu-modal-body");if(e&&e.length>0){var s=e[0];s&&s.scroll&&this.$nextTick((function(){return s.scroll(0,0)}))}}},watch:{value:function(t){this.visible=t,this.title=this.subtitle},visible:function(t){!0===t&&this.scrollTop()},subtitle:function(t){this.title=t}}}),n=o,c=(s("7d9e"),s("2877")),l=Object(c["a"])(n,a,i,!1,null,"0f32854a",null),r=l.exports;e["a"]=r},"986f":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("Row",[s("Col",{attrs:{span:"11"}},[s("Card",[s("p",{attrs:{slot:"title"},slot:"title"},[t._v("\n        "+t._s(t.$t("product.factory.associate"))+"("+t._s(t.associateSitesCount)+")\n      ")]),s("associate-grid",{attrs:{columnDefs:t.columnDefs,rowData:t.associateSitesRowData,sizeColumnsToFit:!0},on:{gridReady:t.associateGridReady,selectionChanged:t.associateSelectChange}})],1)],1),s("Col",{staticClass:"content-center",attrs:{span:"2"}},[s("Button",{attrs:{disabled:t.cancelDisabled},on:{click:t.cancelAssociate}},[s("b",[t._v(">")])]),s("Button",{staticClass:"mt-3",attrs:{disabled:t.addDisabled},on:{click:t.addAssociate}},[s("b",[t._v("<")])])],1),s("Col",{attrs:{span:"11"}},[s("Card",[s("p",{attrs:{slot:"title"},slot:"title"},[t._v("\n        "+t._s(t.$t("product.factory.unAssociate"))+"("+t._s(t.unAssociateSitesCount)+")\n      ")]),s("associate-grid",{attrs:{columnDefs:t.columnDefs,rowData:t.unAssociateSitesRowData,sizeColumnsToFit:!0},on:{gridReady:t.unAssociateGridReady,selectionChanged:t.unAssociateSelectChange}})],1)],1)],1)},i=[],o=s("2909"),n=s("65ae"),c={name:"associate-bottom",inheritAttrs:!1,props:{modal:{type:Object},unAssociateData:{type:Object}},components:{AssociateGrid:n["default"]},data:function(){return{columnDefs:[{headerName:this.$t("product.factory.code"),field:"code"},{headerName:this.$t("product.factory.name"),field:"name"}],cancelDisabled:!0,addDisabled:!0,unAssociateGridApi:null,associateGridApi:null,unAssociateSitesRowData:this.unAssociateData.list,associateSitesRowData:Object(o["a"])(this.modal.rows)}},computed:{associateSitesCount:function(){return this.associateSitesRowData&&this.associateSitesRowData.length||0},unAssociateSitesCount:function(){return this.unAssociateSitesRowData&&this.unAssociateSitesRowData.length||0}},watch:{associateSitesCount:function(){!this.associateSitesCount&&(this.cancelDisabled=!0)},unAssociateSitesCount:function(){!this.unAssociateSitesCount&&(this.addDisabled=!0)}},methods:{associateSelectChange:function(){this.cancelDisabled=!1},unAssociateSelectChange:function(){this.addDisabled=!1},associateGridReady:function(t){this.associateGridApi=t},unAssociateGridReady:function(t){this.unAssociateGridApi=t},disableBtn:function(){this.cancelDisabled=!0,this.addDisabled=!0},cancelAssociate:function(){var t=this.associateGridApi.getSelectedNodes();if(!t||!t.length)return this.$dialog.notify.warning(this.$t("common.messages.plsSelectRow")),!1;this.unAssociateSitesRowData.push(t[0].data),this.associateSitesRowData.splice(t[0].rowIndex,1),this.disableBtn(),this.$emit("change",this.associateSitesRowData,this.associateSitesCount)},addAssociate:function(){var t=this.unAssociateGridApi.getSelectedNodes();if(!t||!t.length)return this.$dialog.notify.warning(this.$t("common.messages.plsSelectRow")),!1;this.associateSitesRowData.push(t[0].data),this.unAssociateSitesRowData.splice(t[0].rowIndex,1),this.disableBtn(),this.$emit("change",this.associateSitesRowData,this.associateSitesCount)}}},l=c,r=(s("7d38"),s("2877")),d=Object(r["a"])(l,a,i,!1,null,"48017b9d",null);e["default"]=d.exports},a868:function(t,e,s){"use strict";s.r(e);var a=s("b141");e["default"]=a["default"]},b141:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("Form",{ref:"editModalForm",attrs:{"label-width":85,model:t.modal}},[s("Row",[s("Col",{attrs:{span:"11"}},[s("FormItem",{attrs:{label:t.$t("product.factory.code"),prop:"code"}},[s("Input",{attrs:{disabled:""},model:{value:t.modal.code,callback:function(e){t.$set(t.modal,"code",e)},expression:"modal.code"}})],1)],1),s("Col",{attrs:{span:"2"}}),s("Col",{attrs:{span:"11"}},[s("FormItem",{attrs:{label:t.$t("product.factory.name"),prop:"code"}},[s("Input",{attrs:{disabled:""},model:{value:t.modal.name,callback:function(e){t.$set(t.modal,"name",e)},expression:"modal.name"}})],1)],1)],1)],1)},i=[],o={name:"associate-base-info",inheritAttrs:!1,props:{modal:{type:Object}}},n=o,c=s("2877"),l=Object(c["a"])(n,a,i,!1,null,"44d9ea98",null);e["default"]=l.exports},b3f5:function(t,e,s){"use strict";var a=s("ee1e"),i=s.n(a);i.a},db70:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("Row",[s("Col",{attrs:{span:"11"}},[s("Card",[s("p",{attrs:{slot:"title"},slot:"title"},[t._v("\n        "+t._s(t.$t("product.factory.associate"))+"("+t._s(t.associateSitesCount)+")\n      ")]),s("associate-grid",{attrs:{columnDefs:t.columnDefs,rowData:t.associateSitesRowData,sizeColumnsToFit:!0},on:{gridReady:t.associateGridReady,selectionChanged:t.associateSelectChange}})],1)],1),s("Col",{staticClass:"content-center",attrs:{span:"2"}},[s("Button",{attrs:{disabled:t.cancelDisabled},on:{click:t.cancelAssociate}},[s("b",[t._v(">")])]),s("Button",{attrs:{disabled:t.addDisabled},on:{click:t.addAssociate}},[s("b",[t._v("<")])])],1),s("Col",{attrs:{span:"11"}},[s("Card",[s("p",{attrs:{slot:"title"},slot:"title"},[t._v("\n        "+t._s(t.$t("product.factory.unAssociate"))+"("+t._s(t.unAssociateSitesCount)+")\n      ")]),s("associate-grid",{attrs:{columnDefs:t.columnDefs,rowData:t.unAssociateSitesRowData,sizeColumnsToFit:!0},on:{gridReady:t.unAssociateGridReady,selectionChanged:t.unAssociateSelectChange}})],1)],1)],1)},i=[],o=(s("7514"),s("2909")),n=s("65ae"),c={name:"sector-associate-bottom",inheritAttrs:!1,props:{modal:{type:Object},unAssociateData:{type:Object}},components:{AssociateGrid:n["default"]},data:function(){return{columnDefs:[{headerName:this.$t("product.factory.code"),field:"code"},{headerName:this.$t("product.factory.name"),field:"name"}],cancelDisabled:!0,addDisabled:!0,unAssociateGridApi:null,associateGridApi:null,unAssociateSitesRowData:Object(o["a"])(this.unAssociateData.list),associateSitesRowData:Object(o["a"])(this.modal.rows)}},mounted:function(){var t=this.associateSitesRowData,e=t.length;if(e){var s=t.find((function(t){return t.area}));s&&(this.unAssociateSitesRowData=this.unAssociateSitesRowData.filter((function(t){return t.area&&t.area.code===s.area.code})))}},computed:{associateSitesCount:function(){return this.associateSitesRowData&&this.associateSitesRowData.length||0},unAssociateSitesCount:function(){return this.unAssociateSitesRowData&&this.unAssociateSitesRowData.length||0}},watch:{associateSitesCount:function(){!this.associateSitesCount&&(this.cancelDisabled=!0)},unAssociateSitesCount:function(){!this.unAssociateSitesCount&&(this.addDisabled=!0)}},methods:{associateSelectChange:function(){this.cancelDisabled=!1},unAssociateSelectChange:function(){this.addDisabled=!1},associateGridReady:function(t){this.associateGridApi=t},unAssociateGridReady:function(t){this.unAssociateGridApi=t},disableBtn:function(){this.cancelDisabled=!0,this.addDisabled=!0},cancelAssociate:function(){var t=this.associateGridApi.getSelectedNodes();if(!t||!t.length)return this.$dialog.notify.warning(this.$t("common.messages.plsSelectRow")),!1;this.unAssociateSitesRowData.push(t[0].data),this.associateSitesRowData.splice(t[0].rowIndex,1),this.disableBtn(),this.$emit("change",this.associateSitesRowData,this.associateSitesCount),this.filterGrid()},addAssociate:function(){var t=this.unAssociateGridApi.getSelectedNodes();if(!t||!t.length)return this.$dialog.notify.warning(this.$t("common.messages.plsSelectRow")),!1;this.associateSitesRowData.push(t[0].data),this.unAssociateSitesRowData.splice(t[0].rowIndex,1),this.disableBtn(),this.$emit("change",this.associateSitesRowData,this.associateSitesCount),this.filterGrid()},filterGrid:function(){var t=this.associateSitesRowData;if(!this.unAssociateData.list.length)return!1;if(!t.length)return this.unAssociateSitesRowData=this.unAssociateData.list.concat(this.modal.rows),!1;var e=t.find((function(t){return t.area}));e&&(this.unAssociateSitesRowData=this.unAssociateSitesRowData.filter((function(t){return t.area&&t.area.code===e.area.code})))}}},l=c,r=(s("ec1e"),s("2877")),d=Object(r["a"])(l,a,i,!1,null,"24c567dc",null);e["default"]=d.exports},ec1e:function(t,e,s){"use strict";var a=s("28e7"),i=s.n(a);i.a},ee1e:function(t,e,s){}}]);