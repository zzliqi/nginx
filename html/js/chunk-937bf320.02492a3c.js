(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-937bf320","chunk-51f156ae","chunk-5d44363e","chunk-57ff70e6"],{"0463":function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));n("8e6e"),n("456d"),n("ac6a"),n("7514");var i=n("ade3"),o=n("2f62"),r=n("f121");function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){Object(i["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var s=Object(o["a"])("user"),l=s.mapGetters,d={methods:{fireEvent:function(e,t){this.setActionIdToLocalStorage(t),this.$emit(e)},setActionIdToLocalStorage:function(e){window.sessionStorage.setItem(r["a"],e)}}},u={methods:{getProp:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return{visible:e,disabled:!1,loading:!1}}},computed:c({permissionActions:function(){var e=this,t=this.$groupActions,n=[];if(!t.length)return{};if(this.groupCode){var i=t.find((function(t){return t.group.code===e.groupCode}));n=i&&i.actions}else n=t[0].actions;var o=this.defOptions,r={};return n&&n.forEach((function(t){var n=o[t.code];r[t.code]=n&&n.visible?Object.assign(n,t):e.mergeAction(t)})),r},actionsOptions:function(){var e=this.options,t=Object.assign({},this.defaultOptions);for(var n in e)t[n]=Object.assign({},t[n],e[n]);return t}},l({$groupActions:"groupActions"}))};t["b"]=u},"0827":function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return l})),n.d(t,"c",(function(){return m}));n("55dd");var i=n("53ca"),o=(n("28a5"),n("a481"),n("ac6a"),n("456d"),n("b893")),r=n("c1df"),a=n.n(r);function c(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"node.",n={};if(!e)return n;var i=Object.keys(e);if(i.length<1)return n;for(var o=[],r=0,a=i;r<a.length;r++){var c=a[r],l=e[c],u=c.replace(t,""),p=l.operator,f=/[`~!@#$%^&*(){}\[\]|\\'"<>?,]|^_$/g,m=l.filter;if(m&&"string"===typeof m&&(l.filter=l.filter.replace(f,"")),p&&"string"===typeof p&&p.length>0)if(-1===u.indexOf(".")){var h=d(l.condition1,u),g=d(l.condition2,u),b={};b[p]=[h,g],o.push(b)}else{var v=s(l.condition1,u),w=s(l.condition2,u),y={};y[p]=[v,w],o.push(y)}else{var k={};k=-1==u.indexOf(".")?d(l,u):s(l,u),o.push(k)}}return n["AND"]=o,n}function s(e,t){for(var n,i=t.split("."),o=i[i.length-1],r=d(e,o),a={},c=i.length,s=c-2;s>=0;s--)if(n=i[s],s==i.length-2)a[n]=r;else{var l={};l[n]=Object.assign({},a),a=l}return a}function l(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"node.",n=null;if(!e||"object"!==Object(i["a"])(e)||e.length<1)return n;var o=e[0];if(!o||!o.colId||!o.sort||"string"!==typeof o.colId||"string"!==typeof o.sort)return n;var r=o.colId.replace(t,""),a=o.sort.toUpperCase();return r&&a&&(n="".concat(r,"_").concat(a)),n}function d(e,t){var n={};if(!e||"object"!==Object(i["a"])(e)||!t||"string"!==typeof t)return n;var o,r,a=e.filter,c="",s={},l={},d=" 00:00:00",u=" 23:59:59.999",p="";switch(e.filterType){case"boolean":c="".concat(t);break;case"text":switch(e.type){case"equals":c="".concat(t);break;case"notEqual":c="".concat(t,"_not");break;case"startsWith":c="".concat(t,"_starts_with");break;case"endsWith":c="".concat(t,"_ends_with");break;case"contains":c="".concat(t,"_contains");break;case"notContains":c="".concat(t,"_not_contains");break;default:c="".concat(t);break}break;case"date":if(p=e.dateFrom.split(" ")[0],o=new Date(p+d),r=new Date(p+u),!o||!r)return n;switch(a=[],c="AND",e.type){case"equals":o=new Date(p+d),r=new Date(p+u),s["".concat(t,"_gte")]=o.toISOString(),l["".concat(t,"_lte")]=r.toISOString(),a.push(s),a.push(l);break;case"notEqual":o=new Date(p+d),r=new Date(p+u),c="OR",s["".concat(t,"_gt")]=r.toISOString(),l["".concat(t,"_lt")]=o.toISOString(),a.push(s),a.push(l);break;case"lessThan":r=new Date(p+d),c="".concat(t,"_lt"),a=r.toISOString();break;case"greaterThan":o=new Date(p+u),c="".concat(t,"_gt"),a=o.toISOString();break;case"inRange":if(c="AND",a=[],e.dateFrom&&e.dateTo){var f=e.dateFrom<=e.dateTo?e.dateFrom:e.dateTo,m=e.dateFrom>=e.dateTo?e.dateFrom:e.dateTo,h=f.split(" ")[0],g=m.split(" ")[0];o=new Date(h+d),r=new Date(g+u),s["".concat(t,"_gte")]=o.toISOString(),l["".concat(t,"_lte")]=r.toISOString(),a.push(s),a.push(l)}break;default:c="".concat(t);break}break;case"number":switch(e.type){case"equals":c="".concat(t);break;case"notEqual":c="".concat(t,"_not");break;case"lessThan":c="".concat(t,"_lt");break;case"greaterThan":c="".concat(t,"_gt");break;case"lessThanOrEqual":c="".concat(t,"_lte");break;case"greaterThanOrEqual":c="".concat(t,"_gte");break;case"inRange":if(c="AND",a=[],"number"===typeof e.filter&&"number"===typeof e.filterTo){var b=e.filter<=e.filterTo?e.filter:e.filterTo,v=e.filter>=e.filterTo?e.filter:e.filterTo;s["".concat(t,"_gte")]=b,l["".concat(t,"_lte")]=v,a.push(s),a.push(l)}break;default:c="".concat(t);break}break;case"set":c="".concat(t,"_in"),a=e.values;break;default:break}return(a||"number"==typeof a)&&(n[c]="boolean"===e.filterType?JSON.parse(a):a),n}function u(e,t){for(var n=e,i=t.split("."),o=i.length,r=function(e,t){return e[t]},a=0;a<o;a++){var c=i[a],s=r(n,c);if(s||""==s)n=s;else if(a<=o-1&&!s){n="";break}}return n}function p(e,t,n){return e.valueFormatter?(t[n]=e.valueFormatter({value:t[n],data:t}),t):"agNumberColumnFilter"===e.filter?(t[n]=Object(o["h"])(t[n],6),t):"agDateColumnFilter"===e.filter?(e.type&&"datetime"===e.type?t[n]=t[n]&&f(t[n]):t[n]=t[n]&&t[n].substring(0,10),t):t}function f(e){if(e)return a()(e).format("YYYY-MM-DD HH:mm:ss")}function m(e,t){for(var n=e.length,i=t.length,o=1,r=0;r<n;r++){var a=e[r];a.index=o;for(var c=0;c<i;c++){var s=t[c],l=s.field,d=l&&l.indexOf(".")>-1;d?(a[l]=u(a,l),a=p(s,a,l)):a=p(s,a,l)}o++}return e}},"166d":function(e,t,n){"use strict";n.r(t);var i=n("4bd8");t["default"]=i["default"]},"23f4":function(e,t,n){"use strict";n.d(t,"a",(function(){return w})),n.d(t,"d",(function(){return $})),n.d(t,"b",(function(){return M})),n.d(t,"c",(function(){return M}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"left-middle-right"},[n("div",{staticClass:"left",style:{flex:e.trim(e.flexLeft)}},[e._t("left")],2),n("div",{staticClass:"middle",style:{flex:e.trim(e.flexMiddle)}},[e._t("middle")],2),n("div",{staticClass:"right",style:{flex:e.trim(e.flexRight)}},[e._t("right")],2)])},o=[],r={methods:{trim:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:" ;";return this.$_.trim(e,t)}}},a=r,c="1 1 auto",s={name:"left-middle-right",mixins:[a],props:{flexLeft:{type:String,default:c},flexMiddle:{type:String,default:c},flexRight:{type:String,default:c}}},l=s,d=(n("8684"),n("2877")),u=Object(d["a"])(l,i,o,!1,null,"798cb694",null),p=(u.exports,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"left-right"},[n("div",{staticClass:"left",style:{flex:e.trim(e.flexLeft)}},[e._t("left")],2),n("div",{staticClass:"right",style:{flex:e.trim(e.flexRight)}},[e._t("right")],2)])}),f=[],m="1 1 auto",h={name:"left-right",mixins:[a],props:{flexLeft:{type:String,default:m},flexRight:{type:String,default:m}}},g=h,b=(n("513e"),Object(d["a"])(g,p,f,!1,null,"3beacd9d",null)),v=b.exports,w=v,y=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"top-bottom"},[n("div",{staticClass:"top",style:{flex:e.trim(e.flexTop)}},[e._t("top")],2),n("div",{staticClass:"bottom",style:{flex:e.trim(e.flexBottom)}},[e._t("bottom")],2)])},k=[],x="1 1 auto",O={name:"top-bottom",mixins:[a],props:{flexTop:{type:String,default:x},flexBottom:{type:String,default:x}}},C=O,S=(n("26a0"),Object(d["a"])(C,y,k,!1,null,"254ec1e7",null)),N=S.exports,$=N,_=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"one-table"},[n("div",[e._t("header")],2),n("div",{staticClass:"table",staticStyle:{overflow:"hidden"},attrs:{"flex-row":"",grow:""}},[e._t("default")],2)])},A=[],R={name:"one-table",data:function(){return{}}},j=R,D=(n("fd49"),Object(d["a"])(j,_,A,!1,null,"418ff794",null)),T=D.exports,M=T},"26a0":function(e,t,n){"use strict";var i=n("9752"),o=n.n(i);o.a},3595:function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("span",[e._v(e._s(e._f("datetime")(e.params.value)))])},o=[],r=n("2b0e"),a=r["default"].extend({}),c=a,s=n("2877"),l=Object(s["a"])(c,i,o,!1,null,null,null);t["a"]=l.exports},"4bd8":function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("edit-modal",{ref:"editModal",staticClass:"custom-width",attrs:{isAdding:e.isAdding,loading:e.okLoading,modalWidth:800},on:{cancel:e.cancel,ok:e.ok}},[n("Form",{ref:"editModalForm",attrs:{"label-width":85,model:e.editModal,rules:e.rules}},[n("Row",[n("Col",{attrs:{span:"12"}},[n("FormItem",{attrs:{label:e.$t("product.factory.code"),prop:"code"}},[n("Input",{attrs:{disabled:e.codeDisabled,placeholder:e.$t("common.placeholders.plsInput")+e.$t("product.factory.code")},model:{value:e.editModal.code,callback:function(t){e.$set(e.editModal,"code",t)},expression:"editModal.code"}})],1)],1),n("Col",{attrs:{span:"12"}},[n("FormItem",{attrs:{label:e.$t("product.factory.name"),prop:"name"}},[n("Input",{attrs:{placeholder:e.$t("common.placeholders.plsInput")+e.$t("product.factory.name")},model:{value:e.editModal.name,callback:function(t){e.$set(e.editModal,"name",t)},expression:"editModal.name"}})],1)],1)],1),n("Row",[e.isShow?n("Col",{attrs:{span:"24"}},[n("FormItem",{attrs:{label:e.$t("product.factory.workCenter.title"),prop:"workCenterCode"}},[n("Input",{attrs:{placeholder:e.$t("common.placeholders.plsInput")+e.$t("product.factory.workCenter.title"),disabled:""},model:{value:e.editModal.workCenter.name,callback:function(t){e.$set(e.editModal.workCenter,"name",t)},expression:"editModal.workCenter.name"}})],1)],1):e._e()],1),n("Row",[n("Col",{attrs:{span:"24"}},[n("FormItem",{attrs:{label:e.$t("product.factory.device.title"),prop:"device"}},[n("device-table",{attrs:{isSingleSelect:!1,label:e.$t("product.factory.device.title"),readonly:!0,selected:e.deviceSelected},on:{change:function(t){return e.deviceTableChange(t)}}})],1)],1)],1)],1)],1)],1)},o=[],r=(n("20d6"),n("7f7f"),n("96cf"),n("1da1")),a=n("8eac"),c=n("7d96"),s=n("7638"),l=n("0644"),d=n.n(l),u=n("70af"),p=n("3b8e"),f={name:"upsert-work-station",inheritAttrs:!1,mixins:[u["validMixins"]],props:{icon:{type:String},title:{type:String},isAdding:{type:Boolean,default:!0},item:{type:Object,default:function(){return{}}}},components:{editModal:a["a"],deviceTable:p["b"]},data:function(){var e=this;return{bakItem:this.item&&d()(this.item),editModal:this.item||{},rules:{name:[{required:!0,message:this.$t("common.rules.plsInput")+this.$t("product.supplier.name")},{trigger:"blur",validator:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(n,i,o){var r,a,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(r=e.editModal.name,a=e.validNameLength({val:r,min:1,max:s["a"].name}),"string"!==typeof a){t.next=5;break}return o(a),t.abrupt("return");case 5:if(c=e.validNameCharacter(r),"string"!==typeof c){t.next=9;break}return o(c),t.abrupt("return");case 9:return t.next=11,e.uniqueNameValid(o);case 11:case"end":return t.stop()}}),t)})));function n(e,n,i){return t.apply(this,arguments)}return n}()}],code:[{required:!0,message:this.$t("common.rules.plsInput")+this.$t("product.supplier.code")},{trigger:"blur",validator:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(n,i,o){var r,a,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(r=e.editModal.code,a=e.validCodeLength({val:r,min:1,max:s["a"].workStation}),"string"!==typeof a){t.next=5;break}return o(a),t.abrupt("return");case 5:if(c=e.validCodeCharacter(r),"string"!==typeof c){t.next=9;break}return o(c),t.abrupt("return");case 9:return t.next=11,e.uniqueIdValid(o);case 11:case"end":return t.stop()}}),t)})));function n(e,n,i){return t.apply(this,arguments)}return n}()}]},deviceSelected:[]}},computed:{codeDisabled:function(){return!this.isAdding},isShow:function(){return this.item&&!!this.item.workCenter}},created:function(){},mounted:function(){this.$refs.editModal.open(!this.isAdding),this.deviceSelected=this.editModal.devices},methods:{deviceTableChange:function(e){this.editModal.devices=e,this.deviceSelected=e},uniqueIdValid:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.validUnique({propName:"code",propVal:this.editModal.code,id:this.editModal.id,moduleName:s["e"].WorkStation},t);case 2:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),uniqueNameValid:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.validUnique({propName:"name",propVal:this.editModal.name,id:this.editModal.id,moduleName:s["e"].WorkStation},t);case 2:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),getDeviceData:function(e){for(var t={connect:[]},n=e&&e.length||0,i=0;i<n;i++)t.connect.push({id:e[i].id});return t},add:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,n,i,o,r,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$refs.editModalForm.validate();case 2:if(t=e.sent,t){e.next=5;break}return e.abrupt("return",!1);case 5:return n=this.editModal,i=n.code,o=n.name,r=n.devices,a=this.getDeviceData(r),e.next=9,c["create"]({code:i,name:o,devices:a});case 9:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),getDeviceUpdateData:function(e){for(var t=[],n=[],i=this.bakItem&&this.bakItem.devices,o=function(n){-1===e.findIndex((function(e){return e.id===i[n].id}))&&t.push({id:i[n].id})},r=0;r<i.length;r++)o(r);for(var a=function(t){-1===i.findIndex((function(n){return n.id===e[t].id}))&&n.push({id:e[t].id})},c=0;c<e.length;c++)a(c);return{disconnect:t,connect:n}},edit:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,n,i,o,r,a,s,l;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$refs.editModalForm.validate();case 2:if(t=e.sent,t){e.next=5;break}return e.abrupt("return",!1);case 5:return n=this.editModal,i=n.id,o=n.name,r=n.devices,a=this.getDeviceUpdateData(r),s=a.disconnect,l=a.connect,e.next=9,c["update"]({where:{id:i},name:o,disconnect:s,connect:l});case 9:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),cancel:function(){this.$refs.editModal.close(),this.$emit("cancel")}}},m=f,h=n("2877"),g=Object(h["a"])(m,i,o,!1,null,null,null);t["default"]=g.exports},"4d35":function(e,t,n){"use strict";var i=n("d469"),o=n.n(i);o.a},"513e":function(e,t,n){"use strict";var i=n("f9fe"),o=n.n(i);o.a},5975:function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("one-table",{staticClass:"one-table"},[n("actions",{attrs:{slot:"header",options:e.actionsOptions},on:{add:e.add,edit:e.edit,refresh:e.refresh,remove:e.remove},slot:"header"}),n("full-page-ag-grid",{ref:"myGrid",attrs:{api:e.api,colDefs:e.columnDef,isAllowDefaultSelected:!0,sizeColumnsToFit:!0},on:{selectionChanged:e.selectionChanged}}),e.upsertOp.show?n("upsert-work-station",e._b({on:{cancel:e.cancelHandler,ok:e.okHandler}},"upsert-work-station",e.upsertOp,!1)):e._e()],1)},o=[],r=(n("96cf"),n("1da1")),a=(n("7f7f"),n("23f4")),c=n("9b95"),s=n("e3e6"),l=n("3595"),d=n("70af"),u=n("7c6b"),p=n("166d"),f=n("7638"),m={name:"factory-work-station",inheritAttrs:!1,mixins:[d["commonMixins"]],components:{oneTable:a["c"],actions:c["a"],fullPageAgGrid:s["a"],upsertWorkStation:p["default"]},data:function(){return{api:u["g"].pagination,columnDef:[{type:["rowNumberColumn"]},{headerName:this.$t("product.factory.code"),field:"code",filter:"agTextColumnFilter"},{headerName:this.$t("product.factory.name"),field:"name",filter:"agTextColumnFilter"},{headerName:this.$t("product.factory.workCenter.title"),sortable:!1,field:"workCenter.name"},{headerName:this.$t("product.factory.device.title"),field:"devices",sortable:!1,filter:!1,valueFormatter:this.devicesFormat},{headerName:this.$t("common.labels.createdAt"),field:"createdAt",width:200,filter:"agDateColumnFilter",cellRendererFramework:l["a"]},{headerName:this.$t("common.labels.updatedAt"),field:"updatedAt",width:200,filter:"agDateColumnFilter",cellRendererFramework:l["a"]}],upsertOp:{title:"",show:!1,isAdding:!1},actionsOptions:{add:{visible:!0,disabled:!1},edit:{visible:!0,disabled:!0},refresh:{visible:!0,disabled:!1},remove:{visible:!0,disabled:!0}}}},methods:{isLoggedFormat:function(e){var t=e.value;return t?"Y":""},devicesFormat:function(e){var t=e.value;if(!t)return"";for(var n=t&&t.length||0,i="",o=0;o<n;o++)i=i+t[o].name+";";return i},selectionChanged:function(e){this.selectedRow=e,this.actionsOptions.edit.disabled=this.actionsOptions.remove.disabled=!(e&&e.length>0)},add:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.upsertOp.title=this.$t("product.factory.workStation.addTitle"),this.upsertOp.isAdding=!0,this.upsertOp.show=!0,this.upsertOp.item=null;case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),okHandler:function(){this.upsertOp.show=!1,this.refresh()},cancelHandler:function(){this.upsertOp.show=!1},edit:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=this.checkSelect(),t){e.next=3;break}return e.abrupt("return",!1);case 3:return this.upsertOp.title=this.$t("product.factory.workStation.editTitle"),this.upsertOp.isAdding=!1,n=this.selectedRow[0].id,e.next=8,this.detail(u["g"],{id:n});case 8:this.upsertOp.item=e.sent,this.upsertOp.icon=f["i"].edit,this.upsertOp.show=!0;case 11:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),checkLastStation:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n,i,o,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,u["f"].pagination({workStations_some:{code_not:null}},null,2);case 2:if(n=e.sent,i=n.list,1!==i.length){e.next=7;break}return o=i[0],r=o.workStations,e.abrupt("return",1===r.length&&r[0].id===t.id);case 7:return e.abrupt("return",!1);case 8:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}(),remove:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,n,i,o,r,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=this.$refs.myGrid.getSelectedNode(),t){e.next=4;break}return this.$Message.warning(this.$t("common.messages.plsSelectRow")),e.abrupt("return");case 4:return n=t.id,i={id:n},e.next=8,u["g"].pagination();case 8:return o=e.sent,r=1===o.list.length,e.next=12,this.checkLastStation(t.data);case 12:if(a=e.sent,!r&&!a){e.next=16;break}return this.$Message.error(this.$t("product.factory.workStation.hasWorkStation")),e.abrupt("return",!1);case 16:return e.prev=16,e.next=19,u["g"].remove(i);case 19:this.refresh(),this.$Message.success(this.$t("common.messages.removeSuccess")),e.next=26;break;case 23:e.prev=23,e.t0=e["catch"](16),this.$Message.error(this.$t("common.messages.removeFailure"));case 26:case"end":return e.stop()}}),e,this,[[16,23]])})));function t(){return e.apply(this,arguments)}return t}()}},h=m,g=n("2877"),b=Object(g["a"])(h,i,o,!1,null,null,null);t["default"]=b.exports},"5ac6":function(e,t,n){"use strict";var i=n("b853"),o=n.n(i);o.a},"5c97":function(e,t,n){},7638:function(e,t,n){"use strict";n.d(t,"h",(function(){return i})),n.d(t,"b",(function(){return o})),n.d(t,"g",(function(){return r})),n.d(t,"i",(function(){return a})),n.d(t,"a",(function(){return c})),n.d(t,"f",(function(){return s})),n.d(t,"e",(function(){return l})),n.d(t,"c",(function(){return d})),n.d(t,"d",(function(){return u}));var i="SECTOR_TYPE",o="Inv",r="PRINTER",a={edit:"edit",add:"add"},c={name:100,enterprise:2,site:2,area:4,sector:4,location:6,workCenter:20,workStation:20},s={area:"area",sector:"sector",location:"location"},l={Enterprise:"Enterprise",Site:"Site",Area:"Area",Sector:"Sector",Location:"Location",WorkCenter:"WorkCenter",WorkStation:"WorkStation",Device:"Device",AppCodeRule:"AppCodeRule",CodeInfo:"CodeInfo",UserGroup:"UserGroup",SignatureRule:"SignatureRule",MFGInstruction:"MFGInstruction"},d="XX[YYYY][MM][####]",u="MAX"},"7c69":function(e,t,n){},"7d9e":function(e,t,n){"use strict";var i=n("5c97"),o=n.n(i);o.a},8684:function(e,t,n){"use strict";var i=n("7c69"),o=n.n(i);o.a},"8eac":function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("Modal",{ref:"modal",attrs:{closable:!1,"mask-closable":!1,width:e.modalWidth},model:{value:e.visible,callback:function(t){e.visible=t},expression:"visible"}},[n("p",{attrs:{slot:"header"},slot:"header"},[n("Icon",{attrs:{type:e.icon}}),n("span",[e._v(e._s(e.title))])],1),e._t("default"),n("div",{attrs:{slot:"footer"},slot:"footer"},[n("Button",{attrs:{disabled:e.loading},on:{click:e.cancelEvent}},[e._v("\n      "+e._s(e.canceltext)+"\n    ")]),e.isOk?n("Button",{attrs:{loading:e.loading,type:"primary"},on:{click:e.okEvent}},[e._v(e._s(e.$t("common.buttons.ok")))]):e._e()],1)],2)},o=[],r=(n("c5f6"),{name:"edit-modal",props:{value:{type:Boolean,default:!1},isAdding:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},modalWidth:{type:Number,default:520},subtitle:{type:String,default:""},isOk:{type:Boolean,default:!0},subIcon:{type:String,default:""},subCanceltext:{type:String,default:""}},data:function(){return{icon:this.subIcon||"md-create",title:this.subtitle||this.$t("common.actions.edit"),visible:this.value,editing:!this.isAdding,canceltext:this.subCanceltext||this.$t("common.buttons.cancel")}},methods:{cancelEvent:function(){this.$emit("cancel")},okEvent:function(){this.$emit("ok")},open:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.editing=e,this.icon=!0===e?"md-create":"md-add",this.title=this.subtitle?this.subtitle:!0===e?this.$t("common.actions.edit")+this.subtitle:this.$t("common.actions.add")+this.subtitle,this.visible=!0},close:function(){this.visible=!1,this.icon="md-create",this.title=this.$t("common.actions.edit"),this.editing=!1},scrollTop:function(){var e=this.$refs.modal.$el,t=e.getElementsByClassName("ivu-modal-body");if(t&&t.length>0){var n=t[0];n&&n.scroll&&this.$nextTick((function(){return n.scroll(0,0)}))}}},watch:{value:function(e){this.visible=e,this.title=this.subtitle},visible:function(e){!0===e&&this.scrollTop()},subtitle:function(e){this.title=e}}}),a=r,c=(n("7d9e"),n("2877")),s=Object(c["a"])(a,i,o,!1,null,"0f32854a",null),l=s.exports;t["a"]=l},9752:function(e,t,n){},"9a35":function(e,t,n){"use strict";n.r(t);var i=n("5975");t["default"]=i["default"]},"9b95":function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"app-toolbar"},[e.options.onlyChoose&&e.options.onlyChoose.type&&"radio"==e.options.onlyChoose.type?n("Select",{staticStyle:{width:"90px",margin:"0px"},on:{"on-change":e.onlyChoose},model:{value:e.isdelete,callback:function(t){e.isdelete=t},expression:"isdelete"}},e._l(e.deleteitems,(function(t,i){return n("Option",{key:i,attrs:{value:t.value}},[e._v(e._s(t.name))])})),1):e._e(),e.options.search&&e.options.search.visible?n("Input",{staticStyle:{"padidng-left":"0px",width:"auto",padding:"0:height:100%"},attrs:{placeholder:e.placeholder},on:{"on-blur":e.searchEvent,"on-click":e.searchEvent,"on-keydown":e.searchEvent},model:{value:e.searchText,callback:function(t){e.searchText=t},expression:"searchText"}},[n("Select",{directives:[{name:"show",rawName:"v-show",value:e.lableitems.length>0,expression:"lableitems.length > 0"}],staticStyle:{width:"100px",margin:"0px","padding-top":"0px",padding:"0px"},attrs:{slot:"prepend",value:e.value},on:{"on-change":e.change,input:function(t){return e.$emit("input",t)}},slot:"prepend"},e._l(e.items,(function(t,i){return n("Option",{key:i,attrs:{value:t.value}},[e._v(e._s(t.text))])})),1)],1):e._e(),e._l(e.permissionActions,(function(t){return n("action-button",e._g({key:t.code,attrs:{action:t}},e.$listeners))})),e._t("default")],2)},o=[],r=(n("ac6a"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.action.confirm?n("Poptip",{attrs:{"cancel-text":e.$t("common.buttons.cancel"),"ok-text":e.$t("common.buttons.ok"),title:e.$t(e.action.confrimTip),confirm:""},on:{"on-ok":function(t){return e.fireEvent(e.action.code,e.action.id)}}},[n("Button",{attrs:{disabled:e.action.disabled,loading:e.action.loading,type:e.action.type}},[e._v(e._s(e.$t(e.action.i18N)))])],1):e.action.visible?n("Button",{attrs:{disabled:e.action.disabled,loading:e.action.loading,type:e.action.type},on:{click:function(t){return e.fireEvent(e.action.code,e.action.id)}}},[e._v(e._s(e.$t(e.action.i18N)))]):e._e()}),a=[],c=n("0463"),s={props:{action:{type:Object,required:!0}},mixins:[c["a"]]},l=s,d=n("2877"),u=Object(d["a"])(l,r,a,!1,null,null,null),p=u.exports,f=n("b752"),m=n("9225"),h=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return{visible:e,disabled:!1,loading:!1,type:"default"}},g={add:{visible:!0},edit:{visible:!0},remove:{visible:!0,confirm:!0,confrimTip:"common.messages.deleteConfirm"},refresh:{visible:!0}},b={name:"actions",mixins:[c["b"]],components:{ActionButton:p},props:{groupCode:{type:String},options:{type:Object,default:function(){return{}}},placeholder:{type:String,default:function(){return m["b"].t("common.placeholders.plsInput")}},value:{type:[String,Array],default:"",required:!1},lableitems:{type:Array,default:function(){return[]}},isDelete:{type:[String,Array],default:"NODELETE",required:!1}},data:function(){return{deleteitems:[{value:"DELETE",name:m["b"].t("common.actions.remove")},{value:"NODELETE",name:m["b"].t("common.actions.noRemove")}],defaultOptions:this.getOptions(),searchText:"",items:[],isdelete:this.isDelete,select:this.value}},computed:{defOptions:function(){var e=this.options,t=Object.assign({},e);for(var n in t)t[n]=Object.assign({},this.getProp(),g[n],t[n]);return t}},methods:{onlyChoose:function(e){this.$emit("onlyChoose",e)},getOptions:function(){var e=f["a"].map((function(e){return Object.assign(h(),e)}));e.push({code:"search",visible:!1,disabled:!1,autofocus:!1});var t={};return e.forEach((function(e){t[e.code]=Object.assign({},e,g[e.code])})),t},searchEvent:function(e){this.$emit("search",this.searchText,e)},mergeAction:function(e){var t=this.options,n=Object.assign({},t);return Object.assign({},this.getProp(),g[e.code],n[e.code],e)},clear:function(){this.$emit("search","")},change:function(e){this.$emit("change",e)}},watch:{lableitems:function(){this.lableitems.length>0&&(this.items=this.lableitems)}}},v=b,w=(n("5ac6"),Object(d["a"])(v,i,o,!1,null,"4b97ecc2",null)),y=w.exports;t["a"]=y},b752:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return o}));var i={add:{icon:"md-add"},edit:{icon:"md-create"},copy:{},remove:{icon:"md-remove"},refresh:{icon:"md-refresh"},upCopy:{},export:{icon:"md-cloud-download"},print:{icon:"md-print"},upload:{icon:"ios-clund-upload-outline"},download:{icon:"ios-clund-download-outline"},expandAll:{icon:"ios-arrow-dropdown"},collapsedAll:{icon:"ios-arrow-dropup"},checkedAll:{icon:"ios-checkbox-outline"},uncheckedAll:{icon:"ios-square-outline"},start:{icon:"md-play"},stop:{icon:"md-square"},finish:{icon:"md-done-all"},pause:{icon:"md-pause"},goon:{icon:"md-play"},forward:{icon:"md-skip-forward"},backward:{icon:"md-skip-backward"},move:{icon:"md-move"},redo:{icon:"md-redo"},undo:{icon:"md-undo"},reset:{icon:"md-ionic"},import:{icon:"md-cloud-upload"},resetPassword:{},lock:{},upgrade:{icon:"md-arrow-back"},degrade:{icon:"md-arrow-forward"},downward:{icon:"md-arrow-down"},upward:{icon:"md-arrow-up"},design:{}},o=[{code:"add",i18N:"common.actions.add"},{code:"edit",i18N:"common.actions.edit"},{code:"associate",i18N:"common.actions.associate"},{code:"tag",i18N:"common.actions.tag"},{code:"copy",i18N:"common.actions.copy"},{code:"remove",i18N:"common.actions.remove"},{code:"refresh",i18N:"common.actions.refresh"},{code:"upCopy",i18N:"common.actions.upCopy"},{code:"export",i18N:"common.actions.export"},{code:"print",i18N:"common.actions.print"},{code:"upload",i18N:"common.actions.upload"},{code:"download",i18N:"common.actions.download"},{code:"expandAll",i18N:"common.actions.expandAll"},{code:"collapsedAll",i18N:"common.actions.collapsedAll"},{code:"checkedAll",i18N:"common.actions.checkedAll"},{code:"uncheckedAll",i18N:"common.actions.uncheckedAll"},{code:"start",i18N:"common.actions.start"},{code:"stop",i18N:"common.actions.stop"},{code:"finish",i18N:"common.actions.finish"},{code:"pause",i18N:"common.actions.pause"},{code:"forward",i18N:"common.actions.forward"},{code:"backward",i18N:"common.actions.backward"},{code:"move",i18N:"common.actions.move"},{code:"redo",i18N:"common.actions.redo"},{code:"undo",i18N:"common.actions.undo"},{code:"reset",i18N:"common.actions.reset"},{code:"commit",i18N:"common.actions.commit"},{code:"allow",i18N:"common.actions.allow"},{code:"withdraw",i18N:"common.actions.withdraw"},{code:"Verification",i18N:"common.actions.Verification"},{code:"cancelVerification",i18N:"common.actions.cancelVerification"},{code:"loseEfficacy",i18N:"common.actions.loseEfficacy"},{code:"takeEfficacy",i18N:"common.actions.takeEfficacy"},{code:"correct",i18N:"common.actions.correct"},{code:"release",i18N:"common.actions.release"},{code:"cancel",i18N:"common.actions.cancel"},{code:"termination",i18N:"common.actions.termination"},{code:"close",i18N:"common.actions.close"},{code:"Printing",i18N:"common.actions.Printing"},{code:"save",i18N:"common.actions.save"},{code:"import",i18N:"common.actions.import"},{code:"resetPassword",i18N:"common.actions.resetPassword"},{code:"lock",i18N:"common.actions.lock",confirm:!0,confrimTip:"common.messages.lockConfirm"},{code:"unLock",i18N:"common.actions.unlock",confirm:!0,confrimTip:"common.messages.unLockConfirm"},{code:"upgrade",i18N:"common.actions.upgrade"},{code:"degrade",i18N:"common.actions.degrade"},{code:"downward",i18N:"common.actions.downward"},{code:"upward",i18N:"common.actions.upward"},{code:"design",i18N:"common.actions.design"},{code:"invertSelection",i18N:"common.actions.invertSelection"},{code:"searchBtn",i18N:"common.actions.searchBtn"},{code:"execute",i18N:"common.actions.execute"},{code:"search",i18N:"common.actions.search"},{code:"loadMore",i18N:"common.actions.loadMore"},{code:"see",i18N:"common.actions.see"},{code:"equipment",i18N:"common.actions.equipment"},{code:"detail",i18N:"common.actions.detail"},{code:"signatureConfig",i18N:"common.actions.signatureConfig"}]},b853:function(e,t,n){},d469:function(e,t,n){},e3e6:function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"full-page-ag-grid"},[n("ag-grid",e._b({staticClass:"ag-theme-material full-size",attrs:{gridOptions:e.gridOptions,modules:e.modules}},"ag-grid",e.$attrs,!1))],1)},o=[],r=(n("8e6e"),n("ac6a"),n("456d"),n("53ca")),a=(n("7f7f"),n("96cf"),n("1da1")),c=n("ade3"),s=(n("c5f6"),n("dce5")),l=n.n(s),d=n("9974b"),u=n("2f62"),p=n("0827");function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){Object(c["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var h={name:"full-page-ag-grid",props:{sizeColumnsToFit:{type:Boolean,default:!1},isAllowDefaultSelected:{type:Boolean,default:!1},colDefs:{type:Array,default:function(){return[]}},api:{type:Function,default:function(){}},pagination:{type:Boolean,default:!0},sideBar:{type:[Object,Boolean],default:function(){return{toolPanels:[{id:"columns",labelDefault:"Columns",labelKey:"columns",iconKey:"columns",toolPanel:"agColumnsToolPanel",toolPanelParams:{suppressRowGroups:!0,suppressValues:!0,suppressPivots:!0,suppressPivotMode:!0}},{id:"filters",labelDefault:"Filters",labelKey:"filters",iconKey:"filter",toolPanel:"agFiltersToolPanel"}]}}},pageSize:{type:Number,default:30},rowSelection:{type:String,default:"single"},rowMultiSelectWithClick:{type:Boolean,default:!1},isSelectAll:{type:Boolean,default:!1},suppressContextMenu:{type:Boolean,default:!0},suppressRowClickSelection:{type:Boolean,default:!1}},data:function(){return{gridOptions:l()(this.$agGetDefaultGridOptions(),{onGridReady:this.gridReady.bind(this),onSelectionChanged:this.selectionChanged.bind(this),onFilterChanged:this.onFilterChanged.bind(this),paginationPageSize:this.pageSize,columnDefs:this.colDefs,pagination:this.pagination,sideBar:this.sideBar,rowSelection:this.rowSelection,suppressRowClickSelection:this.suppressRowClickSelection,onColumnVisible:this.columnVisiblechange.bind(this),onRowDoubleClicked:this.rowDoubleClicked.bind(this)}),gridApi:null,columnApi:null,modules:d["a"]}},computed:m({},Object(u["c"])("app",["pageResize"])),watch:{pageResize:function(){this.sizeColumnsToFit&&this.gridApi.sizeColumnsToFit()}},methods:{columnVisiblechange:function(e){this.$emit("columnVisiblechange",e.columns)},gridReady:function(e){this.gridApi=e.api,this.columnApi=e.columnApi,e.api.setServerSideDatasource(this.serverSideDatasource()),this.sizeColumnsToFit&&this.gridApi.sizeColumnsToFit(),this.$emit("gridReady",this.gridApi)},onFilterChanged:function(){this.$emit("onFilterChanged",!0)},selectionChanged:function(e){var t=e.api.getSelectedRows();this.$emit("selectionChanged",t)},rowDoubleClicked:function(e){var t=e.api.getSelectedRows();this.$emit("rowDoubleClicked",t)},deselectAll:function(){if(this.gridApi){var e=this.gridApi.getSelectedNodes();e.length>0&&this.gridApi.deselectAll()}},selectAll:function(){this.gridApi.forEachNode((function(e){e.setSelected(!0)}))},invertSelection:function(){this.gridApi.forEachNode((function(e){e.setSelected(!e.selected)}))},refresh:function(){this.gridApi&&(this.deselectAll(),this.gridApi.purgeServerSideCache())},getSelectedNode:function(){var e=this.gridApi.getSelectedNodes();return e&&e.length>0&&e[0]&&e[0].id?e[0]:null},getSelectedNodes:function(){var e=this.gridApi.getSelectedNodes();return e},setSortModel:function(e){this.gridApi.setSortModel(e)},serverSideDatasource:function(){var e=this,t=this;return{getRows:function(){var n=Object(a["a"])(regeneratorRuntime.mark((function n(i){var o,r,a,c,s,l,d,u,f,m;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return o=i.request,r=o.startRow,a=o.endRow-o.startRow,c=Object(p["b"])(i.request.filterModel),s=Object(p["a"])(o.sortModel),n.next=7,t.api(c,s||void 0,a,r);case 7:if(l=n.sent,d=e.gridApi.getSelectedNodes(),l&&l.list&&l.list.length>0)if(i.successCallback(l.list,l.total.aggregate.count),e.isSelectAll)for(u=function(t){e.gridApi.forEachNode((function(e){l.list[t].id&&e.id==l.list[t].id&&e.setSelected(!0)}))},f=0;f<l.list.length;f++)u(f);else if(e.isAllowDefaultSelected)if(d.length>0)for(m=0;m<l.list.length;m++)l.list[m].id!=d[0].id&&e.gridApi.getRenderedNodes()[0].setSelected(!0);else e.gridApi.getRenderedNodes()[0].setSelected(!0);else d.length>0&&e.deselectAll();else e.deselectAll(),i.successCallback([],0);case 10:case"end":return n.stop()}}),n)})));function i(e){return n.apply(this,arguments)}return i}()}},sysdicCodeCellRenderer:function(e){return e.value&&e.value.code||""},sysdicNameCellRenderer:function(e){return e.value&&e.value.name||""},$agGetDefaultGridOptions:function(){return{context:{componentParent:this},editType:"fullRow",rowSelection:"single",rowDeselection:!0,enableCellTextSelection:!0,suppressContextMenu:this.suppressContextMenu,suppressMultiSort:!0,sortingOrder:["asc","desc"],cacheBlockSize:30,rowModelType:"serverSide",getRowNodeId:function(e){return e.id},localeTextFunc:this.$agLocaleTextFunc.bind(this),components:{sysdicCellRenderer:this.sysdicCodeCellRenderer,sysdicNameCellRenderer:this.sysdicNameCellRenderer},columnDefs:[{type:["rowNumberColumn"]}],defaultColDef:{sortable:!0,resizable:!0,filter:"agTextColumnFilter",filterParams:{newRowsAction:"keep",applyButton:!1,clearButton:!1},enableValue:!1,enableRowGroup:!1,enablePivot:!1,width:150,minWidth:50},columnTypes:{rowNumberColumn:{headerName:this.$t("common.labels.rowIndex"),headerClass:"col-row-index",cellClass:"col-row-index",width:58,valueGetter:function(e){return e.node.rowIndex+1},suppressColumnsToolPanel:!0,suppressFiltersToolPanel:!0,suppressMenu:!0,sortable:!1,filter:!1,lockPosition:!0,pinned:"left",suppressMovable:!0}},sideBar:{toolPanels:[{id:"columns",labelDefault:"Columns",labelKey:"columns",iconKey:"columns",toolPanel:"agColumnsToolPanel",toolPanelParams:{suppressRowGroups:!0,suppressValues:!0,suppressPivots:!0,suppressPivotMode:!0}},{id:"filters",labelDefault:"Filters",labelKey:"filters",iconKey:"filter",toolPanel:"agFiltersToolPanel"}]}}},$agLocaleTextFunc:function(e,t){var n="agGrid.",i=n+e,o=this.$t(i),a=t;return!0===this.$te(i)&&"object"!==Object(r["a"])(o)&&(a=o),a}}},g=h,b=(n("4d35"),n("2877")),v=Object(b["a"])(g,i,o,!1,null,"1b093c95",null),w=v.exports;t["a"]=w},f9fe:function(e,t,n){},fa5c:function(e,t,n){},fd49:function(e,t,n){"use strict";var i=n("fa5c"),o=n.n(i);o.a}}]);